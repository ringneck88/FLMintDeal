{
  "version": 3,
  "sources": ["../../../@strapi/plugin-documentation/admin/src/utils/prefixPluginTranslations.ts", "../../../@strapi/plugin-documentation/admin/src/index.ts"],
  "sourcesContent": ["const prefixPluginTranslations = (trad: Record<string, string>, pluginId?: string) => {\n  if (!pluginId) {\n    throw new TypeError(\"pluginId can't be empty\");\n  }\n\n  return Object.keys(trad).reduce(\n    (acc, current) => {\n      acc[`${pluginId}.${current}`] = trad[current];\n\n      return acc;\n    },\n    {} as Record<string, string>\n  );\n};\n\nexport { prefixPluginTranslations };\n", "import { Information } from '@strapi/icons';\n\nimport { PERMISSIONS } from './constants';\nimport { pluginId } from './pluginId';\nimport { prefixPluginTranslations } from './utils/prefixPluginTranslations';\n\n// eslint-disable-next-line import/no-default-export\nexport default {\n  register(app: any) {\n    app.addMenuLink({\n      to: `plugins/${pluginId}`,\n      icon: Information,\n      intlLabel: {\n        id: `${pluginId}.plugin.name`,\n        defaultMessage: 'Documentation',\n      },\n      permissions: PERMISSIONS.main,\n      Component: async () => {\n        const { App } = await import('./pages/App');\n        return App;\n      },\n      position: 9,\n    });\n\n    app.registerPlugin({\n      id: pluginId,\n      name: pluginId,\n    });\n  },\n  bootstrap(app: any) {\n    app.addSettingsLink('global', {\n      intlLabel: {\n        id: `${pluginId}.plugin.name`,\n        defaultMessage: 'Documentation',\n      },\n      id: 'documentation',\n      to: pluginId,\n      Component: async () => {\n        const { SettingsPage } = await import('./pages/Settings');\n        return SettingsPage;\n      },\n      permissions: PERMISSIONS.main,\n    });\n  },\n  async registerTrads({ locales }: { locales: string[] }) {\n    const importedTrads = await Promise.all(\n      locales.map((locale) => {\n        return import(`./translations/${locale}.json`)\n          .then(({ default: data }) => {\n            return {\n              data: prefixPluginTranslations(data, pluginId),\n              locale,\n            };\n          })\n          .catch(() => {\n            return {\n              data: {},\n              locale,\n            };\n          });\n      })\n    );\n\n    return Promise.resolve(importedTrads);\n  },\n};\n"],
  "mappings": ";;;;;;;;;;;;;AAAMA,IAAAA,2BAA2B,CAACC,MAA8BC,cAAAA;AAK9D,SAAOC,OAAOC,KAAKH,IAAAA,EAAMI,OACvB,CAACC,KAAKC,YAAAA;AACJD,QAAI,GAAGJ,SAAAA,IAAYK,OAAQ,EAAC,IAAIN,KAAKM,OAAQ;AAE7C,WAAOD;EACT,GACA,CAAA,CAAC;AAEL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA,IAAA,QAAe;EACbE,SAASC,KAAQ;AACfA,QAAIC,YAAY;MACdC,IAAI,WAAWC,QAAAA;MACfC,MAAMC;MACNC,WAAW;QACTC,IAAI,GAAGJ,QAAS;QAChBK,gBAAgB;MAClB;MACAC,aAAaC,YAAYC;MACzBC,WAAW,YAAA;AACT,cAAM,EAAEC,IAAG,IAAK,MAAM,OAAO,mBAAA;AAC7B,eAAOA;MACT;MACAC,UAAU;IACZ,CAAA;AAEAd,QAAIe,eAAe;MACjBR,IAAIJ;MACJa,MAAMb;IACR,CAAA;EACF;EACAc,UAAUjB,KAAQ;AAChBA,QAAIkB,gBAAgB,UAAU;MAC5BZ,WAAW;QACTC,IAAI,GAAGJ,QAAS;QAChBK,gBAAgB;MAClB;MACAD,IAAI;MACJL,IAAIC;MACJS,WAAW,YAAA;AACT,cAAM,EAAEO,aAAY,IAAK,MAAM,OAAO,wBAAA;AACtC,eAAOA;MACT;MACAV,aAAaC,YAAYC;IAC3B,CAAA;EACF;EACA,MAAMS,cAAc,EAAEC,QAAO,GAAyB;AACpD,UAAMC,gBAAgB,MAAMC,QAAQC,IAClCH,QAAQI,IAAI,CAACC,WAAAA;AACX,aAAO,kCAAO,kBAAkBA,MAAO,OAAM,EAC1CC,KAAK,CAAC,EAAEC,SAASC,KAAI,MAAE;AACtB,eAAO;UACLA,MAAMC,yBAAyBD,MAAM1B,QAAAA;UACrCuB;QACF;MACF,CAAA,EACCK,MAAM,MAAA;AACL,eAAO;UACLF,MAAM,CAAA;UACNH;QACF;MACF,CAAA;IACJ,CAAA,CAAA;AAGF,WAAOH,QAAQS,QAAQV,aAAAA;EACzB;AACF;",
  "names": ["prefixPluginTranslations", "trad", "pluginId", "Object", "keys", "reduce", "acc", "current", "register", "app", "addMenuLink", "to", "pluginId", "icon", "Information", "intlLabel", "id", "defaultMessage", "permissions", "PERMISSIONS", "main", "Component", "App", "position", "registerPlugin", "name", "bootstrap", "addSettingsLink", "SettingsPage", "registerTrads", "locales", "importedTrads", "Promise", "all", "map", "locale", "then", "default", "data", "prefixPluginTranslations", "catch", "resolve"]
}
