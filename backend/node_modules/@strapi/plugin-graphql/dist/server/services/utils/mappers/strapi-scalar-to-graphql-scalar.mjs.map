{"version":3,"file":"strapi-scalar-to-graphql-scalar.mjs","sources":["../../../../../server/src/services/utils/mappers/strapi-scalar-to-graphql-scalar.ts"],"sourcesContent":["import { get, difference } from 'lodash/fp';\nimport { errors } from '@strapi/utils';\nimport type { Context } from '../../types';\n\nconst { ApplicationError } = errors;\n\nexport default ({ strapi }: Context) => {\n  const { STRAPI_SCALARS, SCALARS_ASSOCIATIONS } = strapi.plugin('graphql').service('constants');\n\n  const missingStrapiScalars = difference(STRAPI_SCALARS, Object.keys(SCALARS_ASSOCIATIONS));\n\n  if (missingStrapiScalars.length > 0) {\n    throw new ApplicationError('Some Strapi scalars are not handled in the GraphQL scalars mapper');\n  }\n\n  return {\n    /**\n     * Used to transform a Strapi scalar type into its GraphQL equivalent\n     */\n    strapiScalarToGraphQLScalar(strapiScalar: string) {\n      return get(strapiScalar, SCALARS_ASSOCIATIONS);\n    },\n  };\n};\n"],"names":["ApplicationError","errors","strapi","STRAPI_SCALARS","SCALARS_ASSOCIATIONS","plugin","service","missingStrapiScalars","difference","Object","keys","length","strapiScalarToGraphQLScalar","strapiScalar","get"],"mappings":";;;AAIA,MAAM,EAAEA,gBAAgB,EAAE,GAAGC,MAAAA;AAE7B,kCAAe,CAAA,CAAC,EAAEC,MAAM,EAAW,GAAA;IACjC,MAAM,EAAEC,cAAc,EAAEC,oBAAoB,EAAE,GAAGF,MAAAA,CAAOG,MAAM,CAAC,SAAWC,CAAAA,CAAAA,OAAO,CAAC,WAAA,CAAA;AAElF,IAAA,MAAMC,oBAAuBC,GAAAA,UAAAA,CAAWL,cAAgBM,EAAAA,MAAAA,CAAOC,IAAI,CAACN,oBAAAA,CAAAA,CAAAA;IAEpE,IAAIG,oBAAAA,CAAqBI,MAAM,GAAG,CAAG,EAAA;AACnC,QAAA,MAAM,IAAIX,gBAAiB,CAAA,mEAAA,CAAA;AAC7B;IAEA,OAAO;AACL;;AAEC,QACDY,6BAA4BC,YAAoB,EAAA;AAC9C,YAAA,OAAOC,IAAID,YAAcT,EAAAA,oBAAAA,CAAAA;AAC3B;AACF,KAAA;AACF,CAAA;;;;"}