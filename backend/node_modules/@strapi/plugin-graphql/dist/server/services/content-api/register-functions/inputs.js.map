{"version":3,"file":"inputs.js","sources":["../../../../../server/src/services/content-api/register-functions/inputs.ts"],"sourcesContent":["import type { Core, Struct } from '@strapi/types';\nimport { type TypeRegistry } from '../../type-registry';\n\nconst registerInputsDefinition = (\n  contentType: Struct.Schema,\n  {\n    registry,\n    strapi,\n    builders,\n  }: {\n    registry: TypeRegistry;\n    strapi: Core.Strapi;\n    builders: any;\n  }\n) => {\n  const { service: getService } = strapi.plugin('graphql');\n\n  const { getComponentInputName, getContentTypeInputName } = getService('utils').naming;\n  const { KINDS } = getService('constants');\n\n  const { modelType } = contentType;\n\n  const type = (modelType === 'component' ? getComponentInputName : getContentTypeInputName).call(\n    null,\n    contentType\n  );\n\n  const definition = builders.buildInputType(contentType);\n\n  registry.register(type, definition, { kind: KINDS.input, contentType });\n};\n\nexport { registerInputsDefinition };\n"],"names":["registerInputsDefinition","contentType","registry","strapi","builders","service","getService","plugin","getComponentInputName","getContentTypeInputName","naming","KINDS","modelType","type","call","definition","buildInputType","register","kind","input"],"mappings":";;AAGMA,MAAAA,wBAAAA,GAA2B,CAC/BC,WACA,EAAA,EACEC,QAAQ,EACRC,MAAM,EACNC,QAAQ,EAKT,GAAA;AAED,IAAA,MAAM,EAAEC,OAASC,EAAAA,UAAU,EAAE,GAAGH,MAAAA,CAAOI,MAAM,CAAC,SAAA,CAAA;IAE9C,MAAM,EAAEC,qBAAqB,EAAEC,uBAAuB,EAAE,GAAGH,UAAAA,CAAW,SAASI,MAAM;AACrF,IAAA,MAAM,EAAEC,KAAK,EAAE,GAAGL,UAAW,CAAA,WAAA,CAAA;IAE7B,MAAM,EAAEM,SAAS,EAAE,GAAGX,WAAAA;IAEtB,MAAMY,IAAAA,GAAO,CAACD,SAAc,KAAA,WAAA,GAAcJ,wBAAwBC,uBAAsB,EAAGK,IAAI,CAC7F,IACAb,EAAAA,WAAAA,CAAAA;IAGF,MAAMc,UAAAA,GAAaX,QAASY,CAAAA,cAAc,CAACf,WAAAA,CAAAA;IAE3CC,QAASe,CAAAA,QAAQ,CAACJ,IAAAA,EAAME,UAAY,EAAA;AAAEG,QAAAA,IAAAA,EAAMP,MAAMQ,KAAK;AAAElB,QAAAA;AAAY,KAAA,CAAA;AACvE;;;;"}