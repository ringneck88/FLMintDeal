{"version":3,"file":"index.js","sources":["../../../server/src/routes/index.ts"],"sourcesContent":["import restrictAccess from '../middlewares/restrict-access';\n\nexport default [\n  {\n    method: 'GET',\n    path: '/',\n    handler: 'documentation.index',\n    config: {\n      auth: false,\n      middlewares: [restrictAccess],\n    },\n  },\n  {\n    method: 'GET',\n    path: '/v:major(\\\\d+).:minor(\\\\d+).:patch(\\\\d+)',\n    handler: 'documentation.index',\n    config: {\n      auth: false,\n      middlewares: [restrictAccess],\n    },\n  },\n  {\n    method: 'GET',\n    path: '/login',\n    handler: 'documentation.loginView',\n    config: {\n      auth: false,\n    },\n  },\n  {\n    method: 'POST',\n    path: '/login',\n    handler: 'documentation.login',\n    config: {\n      auth: false,\n    },\n  },\n  {\n    method: 'GET',\n    path: '/getInfos',\n    handler: 'documentation.getInfos',\n    config: {\n      policies: [\n        { name: 'admin::hasPermissions', config: { actions: ['plugin::documentation.read'] } },\n      ],\n    },\n  },\n  {\n    method: 'POST',\n    path: '/regenerateDoc',\n    handler: 'documentation.regenerateDoc',\n    config: {\n      policies: [\n        {\n          name: 'admin::hasPermissions',\n          config: { actions: ['plugin::documentation.settings.regenerate'] },\n        },\n      ],\n    },\n  },\n  {\n    method: 'PUT',\n    path: '/updateSettings',\n    handler: 'documentation.updateSettings',\n    config: {\n      policies: [\n        {\n          name: 'admin::hasPermissions',\n          config: { actions: ['plugin::documentation.settings.update'] },\n        },\n      ],\n    },\n  },\n  {\n    method: 'DELETE',\n    path: '/deleteDoc/:version',\n    handler: 'documentation.deleteDoc',\n    config: {\n      policies: [],\n    },\n  },\n];\n"],"names":["method","path","handler","config","auth","middlewares","restrictAccess","policies","name","actions"],"mappings":";;;;AAEA,aAAe;AACb,IAAA;QACEA,MAAQ,EAAA,KAAA;QACRC,IAAM,EAAA,GAAA;QACNC,OAAS,EAAA,qBAAA;QACTC,MAAQ,EAAA;YACNC,IAAM,EAAA,KAAA;YACNC,WAAa,EAAA;AAACC,gBAAAA;AAAe;AAC/B;AACF,KAAA;AACA,IAAA;QACEN,MAAQ,EAAA,KAAA;QACRC,IAAM,EAAA,0CAAA;QACNC,OAAS,EAAA,qBAAA;QACTC,MAAQ,EAAA;YACNC,IAAM,EAAA,KAAA;YACNC,WAAa,EAAA;AAACC,gBAAAA;AAAe;AAC/B;AACF,KAAA;AACA,IAAA;QACEN,MAAQ,EAAA,KAAA;QACRC,IAAM,EAAA,QAAA;QACNC,OAAS,EAAA,yBAAA;QACTC,MAAQ,EAAA;YACNC,IAAM,EAAA;AACR;AACF,KAAA;AACA,IAAA;QACEJ,MAAQ,EAAA,MAAA;QACRC,IAAM,EAAA,QAAA;QACNC,OAAS,EAAA,qBAAA;QACTC,MAAQ,EAAA;YACNC,IAAM,EAAA;AACR;AACF,KAAA;AACA,IAAA;QACEJ,MAAQ,EAAA,KAAA;QACRC,IAAM,EAAA,WAAA;QACNC,OAAS,EAAA,wBAAA;QACTC,MAAQ,EAAA;YACNI,QAAU,EAAA;AACR,gBAAA;oBAAEC,IAAM,EAAA,uBAAA;oBAAyBL,MAAQ,EAAA;wBAAEM,OAAS,EAAA;AAAC,4BAAA;AAA6B;AAAC;AAAE;AACtF;AACH;AACF,KAAA;AACA,IAAA;QACET,MAAQ,EAAA,MAAA;QACRC,IAAM,EAAA,gBAAA;QACNC,OAAS,EAAA,6BAAA;QACTC,MAAQ,EAAA;YACNI,QAAU,EAAA;AACR,gBAAA;oBACEC,IAAM,EAAA,uBAAA;oBACNL,MAAQ,EAAA;wBAAEM,OAAS,EAAA;AAAC,4BAAA;AAA4C;AAAC;AACnE;AACD;AACH;AACF,KAAA;AACA,IAAA;QACET,MAAQ,EAAA,KAAA;QACRC,IAAM,EAAA,iBAAA;QACNC,OAAS,EAAA,8BAAA;QACTC,MAAQ,EAAA;YACNI,QAAU,EAAA;AACR,gBAAA;oBACEC,IAAM,EAAA,uBAAA;oBACNL,MAAQ,EAAA;wBAAEM,OAAS,EAAA;AAAC,4BAAA;AAAwC;AAAC;AAC/D;AACD;AACH;AACF,KAAA;AACA,IAAA;QACET,MAAQ,EAAA,QAAA;QACRC,IAAM,EAAA,qBAAA;QACNC,OAAS,EAAA,yBAAA;QACTC,MAAQ,EAAA;AACNI,YAAAA,QAAAA,EAAU;AACZ;AACF;CACD;;;;"}