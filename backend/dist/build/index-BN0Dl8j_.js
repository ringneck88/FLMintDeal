const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["ListView-DTcrQFrX.js","strapi-Cxs8f-5s.js","strapi-D6821bIJ.css","sortable.esm-BshSMGQ7.js","groupBy-ZAqF6GPD.js","_baseEach-CfTPjjLq.js","sortBy-D98bP1Ss.js","_baseMap-BL0ibkVF.js","index-_cwZFM_k.js","index-BRVyLNfZ.js","_arrayIncludesWith-BNzMLSv9.js"])))=>i.map(i=>d[i]);
import{gQ as wn,r as V,j as o,h as ge,af as qa,s as Ha,u as be,e5 as Kb,bo as Yb,bd as Hn,cG as Wn,bs as Ga,l as re,bL as Ul,X as Ue,cz as Wt,dK as Jb,bI as Wl,m as Do,B as Xb,t as zl,a8 as le,D as Gn,C as Gr,o as _t,cd as Bl,gR as Qb,ge as dl,e_ as Ie,gS as ey,K as Za,J as Vl,gT as ty,be as Hl,a as qo,gU as ny,at as Br,cE as Gl,ad as ry,cr as za,gV as Ne,gW as fl,bM as ay,dT as Zl,gX as iy,a0 as ae,gf as Kl,ax as oy,az as Pa,aA as pl,gY as sy,gZ as uy,aB as ly,aC as cy,aE as Ur,aD as vo,ay as ml,aF as hl,aG as dy,av as fy,g_ as gl,aw as py,aH as my,au as hy,g$ as gy,h0 as Po,Z as Tn,O as by,p as yy,aW as vy,ac as xy,aP as Bn,bW as Yl,cw as Mn,d3 as Et,a$ as fn,b0 as Ct,h1 as Jl,bH as Uo,b1 as Vn,h2 as Xl,eE as Ql,cK as Cy,cL as _y,h3 as bl,h4 as jy,h5 as wy,h6 as Ty,h7 as My,ak as Fy,h8 as ky,h9 as Ay,ha as Ry,hb as Sy,hc as $y,hd as Ny,he as Iy,hf as Ly,hg as Ey,hh as Oy,gA as Dy,hi as qy,hj as Py,gL as Uy,hk as Wy,hl as zy,hm as By,hn as Vy,v as ec,ho as Hy,dE as Gy,hp as Zy,hq as Ky,hr as Yy,hs as Jy,dY as Xy,ht as Qy,eV as ev,hu as tv,hv as nv,hw as rv,hx as av,hy as iv,A as ov,ct as sv,hz as xo,hA as tc,hB as nc,hC as rc,hD as uv,hE as lv,hF as cv,hG as dv,hH as fv,hI as pv,hJ as ac,hK as ic,hL as oc,hM as mv,cV as hv,hN as gv,hO as bv,an as yv,fh as vv,ao as xv,ai as Cv,hP as _v,f_ as jv,gK as wv,hQ as Tv,hR as Mv,hS as Fv,hT as kv,fL as Av,hU as Rv,hV as Sv,hW as $v,fv as Nv,fy as Iv,hX as Lv,hY as Ev,hZ as Ov,F as sc,h_ as Dv,h$ as qv,bY as Pv,i0 as Uv,i1 as Wv,al as zv,i2 as Bv,i3 as Vv,i4 as Hv,i5 as Gv,i6 as Zv,i7 as Kv,i8 as Yv,i9 as Jv,ia as Xv,ib as Qv,ic as ex,cA as tx,e0 as nx,id as rx,ie as ax,Y as ix,ig as ox,ih as sx,ii as ux,ij as lx,ik as cx,il as dx,im as fx,io as px,ip as mx,iq as hx,ir as gx,is as bx,it as yx,iu as vx,iv as xx,iw as Cx,ix as _x,iy as jx,I as Ro,bt as Ka,n as uc,iz as lc,gx as Ba,cZ as wx,bC as cc,ch as Tx,cY as Mx,iA as Fx,cg as kx,eM as Ax,iB as Ve,iC as Rx,iD as Sx,dw as $x,iE as Nx,iF as Ix,iG as dc,bV as fc,g5 as Lx,gt as Ex,iH as Ox,iI as Dx,iJ as qx,iK as Px,fY as Wo,a1 as Ux,a2 as Wx,iL as pc,eC as mc,iM as zx,iN as hc,iO as Bx,gp as Vx,gq as Hx,gr as Gx,iP as Zx,iQ as Wr,iR as Kx,bN as Ut,bl as Vr,b8 as Fe,b9 as Le,iS as Co,b7 as Re,eW as Yx,bj as yl,iT as zr,iU as gc,iV as Jx,iW as Xx,a7 as Qx,cp as e0,bG as t0,co as n0,gd as r0,d as _o,iX as a0,iY as i0,L as o0,a3 as s0,a4 as Ua,a5 as u0}from"./strapi-Cxs8f-5s.js";import{g as l0}from"./groupBy-ZAqF6GPD.js";import{s as c0}from"./sortBy-D98bP1Ss.js";import{f as d0}from"./index-_cwZFM_k.js";import{_ as f0}from"./_arrayIncludesWith-BNzMLSv9.js";const C=a=>`${wn}.${a}`,bc=V.createContext(),Xt=()=>V.useContext(bc),vl=({status:a})=>{switch(a){case"UNCHANGED":return null;case"CHANGED":return o.jsx(ge,{fontWeight:"semiBold",textColor:"alternative500",children:"M"});case"REMOVED":return o.jsx(ge,{fontWeight:"semiBold",textColor:"danger500",children:"D"});case"NEW":return o.jsx(ge,{fontWeight:"semiBold",textColor:"success500",children:"N"})}},m1=({status:a})=>{switch(a){case"CHANGED":return o.jsx(qa,{fontWeight:"bold",textColor:"alternative600",backgroundColor:"alternative100",borderColor:"alternative200",children:"Modified"});case"REMOVED":return o.jsx(qa,{fontWeight:"bold",textColor:"danger600",backgroundColor:"danger100",borderColor:"danger200",children:"Deleted"});case"NEW":return o.jsx(qa,{fontWeight:"bold",textColor:"success600",backgroundColor:"success100",borderColor:"success200",children:"New"});case"UNCHANGED":default:return o.jsx(qa,{style:{visibility:"hidden"},fontWeight:"bold",textColor:"warning600",backgroundColor:"warning100",borderColor:"warning200",children:"Unchanged"})}},yc=V.createContext(),hr=()=>V.useContext(yc),p0=()=>{const{componentsGroupedByCategory:a,isInDevelopmentMode:u,sortedContentTypesList:l}=Xt(),{trackUsage:f}=Ha(),[d,b]=V.useState(""),{onOpenModalCreateSchema:p}=hr(),{locale:g}=be(),{startsWith:v}=Kb(g,{sensitivity:"base"}),w=Yb(g,{sensitivity:"base"}),j=()=>{f("willCreateContentType"),p({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})},k=()=>{f("willCreateSingleType"),p({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})},O=()=>{f("willCreateComponent"),p({modalType:"component",kind:null,actionType:"create",forTarget:"component"})},Z=Object.entries(a).map(([S,E])=>({name:S,title:Hn(S),links:E.map(N=>({name:N.uid,to:`/plugins/${wn}/component-categories/${S}/${N.uid}`,title:N.info.displayName,status:N.status})).sort((N,$)=>w.compare(N.title,$.title))})).sort((S,E)=>w.compare(S.title,E.title)),T=l.filter(S=>S.visible).map(S=>({kind:S.kind,name:S.name,to:S.to,title:S.title,status:S.status}));return{menu:[{name:"models",title:{id:`${C("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:u?{id:`${C("button.model.create")}`,defaultMessage:"Create new collection type",onClick:j}:void 0,links:T.filter(S=>S.kind==="collectionType")},{name:"singleTypes",title:{id:`${C("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:u?{id:`${C("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:k}:void 0,links:T.filter(S=>S.kind==="singleType")},{name:"components",title:{id:`${C("menu.section.components.name")}`,defaultMessage:"Components"},customLink:u?{id:`${C("button.component.create")}`,defaultMessage:"Create a new component",onClick:O}:void 0,links:Z}].map(S=>{if(S.links.some($=>"links"in $&&Array.isArray($.links))){let $=0;return{...S,links:S.links.reduce((ee,L)=>{const ne="links"in L?L.links.filter(me=>v(me.title,d)):[];return ne.length===0||($+=ne.length,ee.push({...L,links:ne.sort((me,we)=>w.compare(me.title,we.title))})),ee},[]),linksCount:$}}const N=S.links.filter($=>v($.title,d)).sort(($,ee)=>w.compare($.title,ee.title));return{...S,links:N,linksCount:N.length}}),search:{value:d,onChange:b,clear:()=>b("")}}},m0=_t(Do)`
  transform: scaleX(-1);
`,h0=_t(Wt.Item)`
  color: ${({theme:a})=>a.colors.danger600};

  &:hover {
    background: ${({theme:a,disabled:u})=>!u&&a.colors.danger100};
  }
`,g0=()=>{const{menu:a,search:u}=p0(),{saveSchema:l,isModified:f,history:d,isInDevelopmentMode:b}=Xt(),{formatMessage:p}=be(),[g,v]=V.useState(!1),[w,j]=V.useState(!1);V.useEffect(()=>{if(!b)return;const S=E=>{(E.ctrlKey||E.metaKey)&&(E.key==="Enter"?f&&(E.preventDefault(),l()):E.key==="z"&&!E.shiftKey?(E.preventDefault(),d.undo()):(E.key==="y"||E.shiftKey&&E.key==="z"||E.key==="Z")&&(E.preventDefault(),d.redo()))};return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}});const k=()=>{j(!0)},O=()=>{v(!1),j(!1),d.discardAllChanges()},Z=()=>{d.undo()},T=()=>{d.redo()},q=p({id:C("plugin.name"),defaultMessage:"Content-Type Builder"});return o.jsxs(Wn.Main,{"aria-label":q,children:[o.jsx(Wn.Header,{label:q}),o.jsx(Ga,{background:"neutral150"}),o.jsxs(re,{padding:5,gap:3,direction:"column",alignItems:"stretch",children:[o.jsx(Ul.contentTypeBuilder.Save,{children:o.jsxs(re,{gap:2,children:[o.jsx(Ue,{flex:1,onClick:S=>{S.preventDefault(),l()},type:"submit",disabled:!f||!b,fullWidth:!0,size:"S",children:p({id:"global.save",defaultMessage:"Save"})}),o.jsxs(Wt.Root,{open:g,onOpenChange:v,children:[o.jsxs(Wt.Trigger,{size:"S",endIcon:null,paddingTop:"4px",paddingLeft:"7px",paddingRight:"7px",variant:"tertiary",children:[o.jsx(Jb,{fill:"neutral500","aria-hidden":!0,focusable:!1}),o.jsx(Wl,{tag:"span",children:p({id:"global.more.actions",defaultMessage:"More actions"})})]}),o.jsxs(Wt.Content,{zIndex:1,children:[o.jsx(Wt.Item,{disabled:!d.canUndo||!b,onSelect:Z,startIcon:o.jsx(m0,{}),children:p({id:"global.last-change.undo",defaultMessage:"Undo last change"})}),o.jsx(Wt.Item,{disabled:!d.canRedo||!b,onSelect:T,startIcon:o.jsx(Do,{}),children:p({id:"global.last-change.redo",defaultMessage:"Redo last change"})}),o.jsx(Wt.Separator,{}),o.jsx(h0,{disabled:!d.canDiscardAll||!b,onSelect:k,children:o.jsxs(re,{gap:2,children:[o.jsx(Xb,{}),o.jsx(ge,{children:p({id:"global.last-changes.discard",defaultMessage:"Discard last changes"})})]})})]})]})]})}),o.jsx(zl,{value:u.value,onChange:S=>u.onChange(S.target.value),onClear:()=>u.onChange(""),placeholder:p({id:C("search.placeholder"),defaultMessage:"Search"}),size:"S",children:void 0,name:"search_contentType",clearLabel:p({id:"clearLabel",defaultMessage:"Clear"}),"aria-label":p({id:C("search.placeholder"),defaultMessage:"Search"})})]}),o.jsx(Wn.Sections,{children:a.map(S=>o.jsx(V.Fragment,{children:o.jsx(Wn.Section,{label:p({id:S.title.id,defaultMessage:S.title.defaultMessage}),link:S.customLink&&{label:p({id:S.customLink?.id,defaultMessage:S.customLink?.defaultMessage}),onClik:S.customLink?.onClick},sectionId:S.name,children:S.links.map(E=>{const N=p({id:E.name,defaultMessage:E.title});return"links"in E?o.jsx(Wn.SubSection,{label:E.title,children:E.links.map($=>{const ee=p({id:$.name,defaultMessage:$.title});return o.jsx(Wn.Link,{to:$.to,label:ee,endAction:o.jsx(le,{tag:"span",textAlign:"center",width:"24px",children:o.jsx(vl,{status:$.status})})},$.name)})},E.name):o.jsx(Wn.Link,{to:E.to,label:N,endAction:o.jsx(le,{tag:"span",textAlign:"center",width:"24px",children:o.jsx(vl,{status:E.status})})},E.name)})})},S.name))}),o.jsx(Gn.Root,{open:w,onOpenChange:j,children:o.jsx(Gr,{onConfirm:O,children:p({id:C("popUpWarning.discardAll.message"),defaultMessage:"Are you sure you want to discard all changes?"})})})]})},b0="timeout",y0=30*1e3,v0=()=>{const{get:a}=Bl(),u=async l=>{const f=l??Date.now();if(Date.now()-f>y0)throw new Error(b0);try{if((await a("/content-type-builder/update-schema-status"))?.data?.data?.isUpdating===!0)return new Promise(b=>{setTimeout(()=>u(f).then(b),200)})}catch{return new Promise(b=>{setTimeout(()=>u(f).then(b),200)})}};return u},x0=a=>c0(Object.keys(a).map(u=>({visible:a[u].visible,name:u,title:a[u].info.displayName,plugin:a[u].plugin,uid:u,to:`/plugins/${wn}/content-types/${u}`,kind:a[u].kind,restrictRelationsTo:a[u].restrictRelationsTo,status:a[u].status})).filter(u=>u!==null),u=>Qb(u.title)),C0=({components:a,contentTypes:u})=>{const l={newContentTypes:0,editedContentTypes:0,deletedContentTypes:0,newComponents:0,editedComponents:0,deletedComponents:0,newFields:0,editedFields:0,deletedFields:0},f=Object.values(a).filter(b=>["NEW","CHANGED","REMOVED"].includes(b.status)).map(b=>{const p=xl(b),g=p.action;return Cl({...b,action:g},l,"component"),p}),d=Object.values(u).filter(b=>["NEW","CHANGED","REMOVED"].includes(b.status)).map(b=>{const p=xl(b),g=p.action;return Cl({...b,action:g},l,"contentType"),p});return{requestData:{components:f,contentTypes:d},trackingEventProperties:l}},_0=a=>Object.fromEntries(Object.entries(a).filter(([u,l])=>Array.isArray(l)?l.length>0:typeof l=="object"&&l!==null?Object.keys(l).length>0:l!=null)),j0=a=>"customField"in a?{...a,type:"customField"}:"targetAttribute"in a?{...a,targetAttribute:a.targetAttribute==="-"?null:a.targetAttribute,...a.conditions&&{conditions:a.conditions}}:a,xl=a=>{let u;switch(a.status){case"NEW":u="create";break;case"CHANGED":u="update";break;case"REMOVED":return{action:"delete",uid:a.uid};default:throw new Error("Invalid status")}return{action:u,uid:a.uid,category:"category"in a?a.category:void 0,...dl(a,["info","options","visible","uid","restrictRelationsTo"]),...a.options,...a.info,attributes:a.attributes.map(l=>{let f;switch(l.status){case"NEW":f="create";break;case"REMOVED":return{action:"delete",name:l.name};case"UNCHANGED":case"CHANGED":default:f="update"}return{action:f,name:l.name,properties:_0(dl(j0(l),["status","name"]))}})}},Cl=(a,u,l)=>{if(!a||typeof a.action!="string")return;const f=l==="contentType";switch(a.action){case"create":f?u.newContentTypes++:u.newComponents++;break;case"update":f?u.editedContentTypes++:u.editedComponents++;break;case"delete":f?u.deletedContentTypes++:u.deletedComponents++;break}Array.isArray(a.attributes)&&(a.action==="delete"?u.deletedFields+=a.attributes.length:a.attributes.forEach(d=>{if(!(!d||typeof d.status!="string"))switch(d.status){case"NEW":u.newFields++;break;case"CHANGED":u.editedFields++;break;case"REMOVED":u.deletedFields++;break}}))},w0=a=>Object.keys(a).reduce((l,f)=>{const d=Ie(a,[f]),b=T0(d);return b.childComponents.length>0&&l.push(b),l},[]),T0=a=>({component:a.uid,childComponents:a.attributes.filter(u=>{const{type:l}=u;return l==="component"}).map(u=>({component:u.component}))}),M0=a=>{const u=Object.keys(a).reduce((l,f)=>{const d=a?.[f]?.attributes??[],b=F0(d,f);return[...l,...b]},[]);return k0(u)},F0=(a,u)=>a.reduce((l,f)=>{const{type:d}=f;return d==="component"&&l.push({component:f.component,parentCompoUid:u}),l},[]),k0=a=>{const u=new Map;return a.forEach(({component:f,parentCompoUid:d})=>{u.has(f)||u.set(f,new Set),u.get(f).add(d)}),Array.from(u.entries()).map(([f,d])=>({component:f,uidsOfAllParents:Array.from(d)}))},A0=(a,u)=>{const l=Object.keys(a).map(f=>Ie(a,[f,...u],""));return ey(l)},R0=a=>a["content-type-builder_dataManagerProvider"]||ty,S0=({children:a})=>{const u=Za(),l=Vl(R0),f=Hl("DataManagerProvider",U=>U.dispatch),{components:d,contentTypes:b,reservedNames:p,initialComponents:g,initialContentTypes:v,isLoading:w}=l.current,{toggleNotification:j}=qo(),{lockAppWithAutoreload:k,unlockAppWithAutoreload:O}=ny(),Z=v0(),q=Br("DataManagerProvider",U=>U.getPlugin)("content-type-builder"),S=Gl("DataManagerProvider",U=>U.autoReload),{formatMessage:E}=be(),{trackUsage:N}=Ha(),$=ry("DataManagerProvider",U=>U.refetchPermissions),{onCloseModal:ee}=hr(),[L,ne]=V.useState(!1),me=V.useMemo(()=>!(za(d,g)&&za(b,v)),[d,b,g,v]),we=Bl(),Ee=S,Oe=V.useRef();Oe.current=async()=>{try{const[U,We]=await Promise.all([we.get("/content-type-builder/schema"),we.get("/content-type-builder/reserved-names")]),{components:He,contentTypes:zt}=U.data.data;u(Ne.init({components:fl(He,Qt=>({...Qt,status:"UNCHANGED"})),contentTypes:fl(zt,Qt=>({...Qt,status:"UNCHANGED"})),reservedNames:We.data})),u(Ne.clearHistory())}catch(U){console.error({err:U}),j({type:"danger",message:E({id:"notification.error",defaultMessage:"An error occurred"})})}},V.useEffect(()=>(Oe.current(),()=>{u(Ne.reloadPlugin())}),[]),V.useEffect(()=>{S||j({type:"info",message:E({id:C("notification.info.autoreaload-disable")})})},[S,j,E]);const lt=U=>w0(U),oe=U=>M0(U),H=async()=>{await $()},pn=async()=>{ne(!0);const U=q?.apis?.forms,We=Object.entries(l.current.contentTypes).reduce((Bt,[Fn,wt])=>(Bt[Fn]=U.mutateContentTypeSchema(wt,v[Fn]),Bt),{}),{requestData:He,trackingEventProperties:zt}=C0({components:l.current.components,contentTypes:We}),Qt=Object.keys(l.current.contentTypes).length>0;k();try{await we.post("/content-type-builder/update-schema",{data:He}),Qt&&N("didCreateGuidedTourCollectionType"),await Z(),await Oe.current(),await H()}catch(Bt){console.error({err:Bt}),j({type:"danger",message:E({id:"notification.error",defaultMessage:"An error occurred"})}),N("didUpdateCTBSchema",{...zt,success:!1})}finally{ne(!1),O(),u(ay.util.invalidateTags(["GuidedTourMeta","HomepageKeyStatistics"])),f({type:"set_completed_actions",payload:[Zl.contentTypeBuilder.createSchema]}),N("didUpdateCTBSchema",{...zt,success:!0})}},Se=V.useMemo(()=>lt(d),[d]),jt=V.useMemo(()=>oe(d),[d]),Ye=V.useMemo(()=>A0(d,["category"]),[d]),mn=V.useMemo(()=>l0(d,"category"),[d]),Y=V.useMemo(()=>x0(b),[b]),he={componentsThatHaveOtherComponentInTheirAttributes:Se,nestedComponents:jt,saveSchema:pn,reservedNames:p,components:d,contentTypes:b,initialComponents:g,initialContentTypes:v,isSaving:L,isModified:me,isInDevelopmentMode:Ee,allComponentsCategories:Ye,componentsGroupedByCategory:mn,sortedContentTypesList:Y,isLoading:w,addAttribute(U){u(Ne.addAttribute(U))},editAttribute(U){u(Ne.editAttribute(U))},addCustomFieldAttribute(U){u(Ne.addCustomFieldAttribute(U))},editCustomFieldAttribute(U){u(Ne.editCustomFieldAttribute(U))},addCreatedComponentToDynamicZone(U){u(Ne.addCreatedComponentToDynamicZone(U))},createSchema(U){u(Ne.createSchema(U))},createComponentSchema({data:U,uid:We,componentCategory:He}){u(Ne.createComponentSchema({data:U,uid:We,componentCategory:He}))},changeDynamicZoneComponents({forTarget:U,targetUid:We,dynamicZoneTarget:He,newComponents:zt}){u(Ne.changeDynamicZoneComponents({forTarget:U,targetUid:We,dynamicZoneTarget:He,newComponents:zt}))},removeAttribute(U){U.forTarget==="contentType"&&N("willDeleteFieldOfContentType"),u(Ne.removeField(U))},removeComponentFromDynamicZone(U){u(Ne.removeComponentFromDynamicZone(U))},deleteComponent(U){window.confirm(E({id:C("popUpWarning.bodyMessage.component.delete")}))&&(ee(),u(Ne.deleteComponent(U)))},deleteContentType(U){window.confirm(E({id:C("popUpWarning.bodyMessage.contentType.delete")}))&&(ee(),u(Ne.deleteContentType(U)))},updateComponentSchema({data:U,componentUID:We}){u(Ne.updateComponentSchema({data:U,uid:We}))},updateComponentUid({componentUID:U,newComponentUID:We}){u(Ne.updateComponentUid({uid:U,newComponentUID:We}))},updateSchema(U){u(Ne.updateSchema(U))},moveAttribute(U){u(Ne.moveAttribute(U))},applyChange(U){u(Ne.applyChange(U))},history:{undo(){u(Ne.undo())},redo(){u(Ne.redo())},discardAllChanges(){u(Ne.discardAll())},canUndo:l.past.length>0,canRedo:l.future.length>0,canDiscardAll:me}};return o.jsx(bc.Provider,{value:he,children:a})},$0=()=>{const{formatMessage:a}=be(),{isModified:u,isSaving:l}=Xt(),f=a({id:C("prompt.unsaved"),defaultMessage:"Are you sure you want to leave? All your modifications will be lost."}),d=iy(b=>b.currentLocation.pathname.startsWith("/plugins/content-type-builder/")&&!b.nextLocation.pathname.startsWith("/plugins/content-type-builder/")&&u);return V.useEffect(()=>{const b=p=>{u&&!l&&(p.preventDefault(),p.returnValue="")};return window.addEventListener("beforeunload",b),()=>window.removeEventListener("beforeunload",b)},[f,u,l]),d.state==="blocked"?o.jsx(Gn.Root,{open:!0,onOpenChange:()=>d.reset(),children:o.jsx(Gr,{onConfirm:()=>d.proceed(),children:f})}):null},vc=a=>a.kind==="collectionType"&&(a.restrictRelationsTo===null||Array.isArray(a.restrictRelationsTo)&&a.restrictRelationsTo.length>0),So=(a,u)=>a.find(({name:l})=>l===u),N0=(a,u)=>!a||!u?{}:{[a]:u[a]},I0=a=>(a?.inner||[]).reduce((u,l)=>(l.path&&(u[l.path.split("[").join(".").split("]").join("")]={id:l.message,defaultMessage:l.message,values:N0(l?.type,l?.params)}),u),{}),L0=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],E0=({intlLabel:a,name:u,onChange:l,value:f=null})=>{const{formatMessage:d}=be(),b=f===null||f?.length===0?d({id:"global.none",defaultMessage:"None"}):[...f].sort().map(g=>Hn(g)).join(", "),p=a.id?d({id:a.id,defaultMessage:a.defaultMessage}):u;return o.jsxs(ae.Root,{name:u,children:[o.jsx(ae.Label,{children:p}),o.jsx(Kl,{customizeContent:()=>b,onChange:g=>{g.length>0?l({target:{name:u,value:g,type:"allowed-types-select"}}):l({target:{name:u,value:null,type:"allowed-types-select"}})},options:L0,value:f||[]})]})},_l={biginteger:Ur,blocks:hy,boolean:my,collectionType:gl,component:py,contentType:gl,date:Pa,datetime:Pa,decimal:Ur,dynamiczone:fy,email:dy,enum:hl,enumeration:hl,file:vo,files:vo,float:Ur,integer:Ur,json:ml,JSON:ml,media:vo,number:Ur,password:cy,relation:ly,richtext:uy,singleType:sy,string:pl,text:pl,time:Pa,timestamp:Pa,uid:oy},O0=_t(le)`
  svg {
    height: 100%;
    width: 100%;
  }
`,Hr=({type:a,customField:u=null,...l})=>{const f=Br("AttributeIcon",b=>b.customFields.get);let d=_l[a];if(u){const p=f(u)?.icon;p&&(d=p)}return _l[a]?o.jsx(O0,{width:"3.2rem",height:"3.2rem",shrink:0,...l,"aria-hidden":!0,children:o.jsx(le,{tag:d})}):null},xc=_t(le)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:a})=>a.colors.neutral200};
  text-align: left;
  &:hover {
    cursor: pointer;
    background: ${({theme:a})=>a.colors.primary100};
    border: 1px solid ${({theme:a})=>a.colors.primary200};
  }
`,D0=[],q0=()=>o.jsx(re,{grow:1,justifyContent:"flex-end",children:o.jsxs(re,{gap:1,hasRadius:!0,background:"alternative100",padding:"0.2rem 0.4rem",children:[o.jsx(gy,{width:"1rem",height:"1rem",fill:"alternative600"}),o.jsx(ge,{textColor:"alternative600",variant:"sigma",children:"New"})]})}),P0=({type:a="text"})=>{const{formatMessage:u}=be(),{onClickSelectField:l}=hr(),f=()=>{l({attributeType:a,step:a==="component"?"1":null})};return o.jsx(xc,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:f,children:o.jsxs(re,{children:[o.jsx(Hr,{type:a}),o.jsxs(le,{paddingLeft:4,width:"100%",children:[o.jsxs(re,{justifyContent:"space-between",children:[o.jsx(ge,{fontWeight:"bold",textColor:"neutral800",children:u({id:C(`attribute.${a}`),defaultMessage:a})}),D0.includes(a)&&o.jsx(q0,{})]}),o.jsx(re,{children:o.jsx(ge,{variant:"pi",textColor:"neutral600",children:u({id:C(`attribute.${a}.description`),defaultMessage:"A type for modeling data"})})})]})]})})},U0=({attributes:a})=>o.jsx(Po,{tagName:"button",children:o.jsx(re,{direction:"column",alignItems:"stretch",gap:8,children:a.map((u,l)=>o.jsx(Tn.Root,{gap:3,children:u.map(f=>o.jsx(Tn.Item,{col:6,direction:"column",alignItems:"stretch",children:o.jsx(P0,{type:f})},f))},l))})}),W0=({customFieldUid:a,customField:u})=>{const{type:l,intlLabel:f,intlDescription:d}=u,{formatMessage:b}=be(),{onClickSelectCustomField:p}=hr(),g=()=>{p({attributeType:l,customFieldUid:a})};return o.jsx(xc,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:g,children:o.jsxs(re,{children:[o.jsx(Hr,{type:l,customField:a}),o.jsxs(le,{paddingLeft:4,children:[o.jsx(re,{children:o.jsx(ge,{fontWeight:"bold",textColor:"neutral800",children:b(f)})}),o.jsx(re,{children:o.jsx(ge,{variant:"pi",textColor:"neutral600",children:b(d)})})]})]})})},z0=_t(le)`
  background: ${({theme:a})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${a.colors.neutral150} 100%)`};
  opacity: 0.33;
`,B0=()=>o.jsx(re,{wrap:"wrap",gap:4,children:[...Array(4)].map((a,u)=>o.jsx(z0,{height:"138px",width:"375px",hasRadius:!0},`empty-card-${u}`))}),V0=()=>{const{formatMessage:a}=be();return o.jsxs(le,{position:"relative",children:[o.jsx(B0,{}),o.jsx(le,{position:"absolute",top:6,width:"100%",children:o.jsxs(re,{alignItems:"center",justifyContent:"center",direction:"column",children:[o.jsx(by,{width:"160px",height:"88px"}),o.jsx(le,{paddingTop:6,paddingBottom:4,children:o.jsxs(le,{textAlign:"center",children:[o.jsx(ge,{variant:"delta",tag:"p",textColor:"neutral600",children:a({id:C("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})}),o.jsx(le,{paddingTop:4,children:o.jsx(ge,{variant:"delta",tag:"p",textColor:"neutral600",children:a({id:C("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."})})})]})}),o.jsx(yy,{tag:xy,to:`/marketplace?${vy.stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:o.jsx(Bn,{}),children:a({id:C("modalForm.empty.button"),defaultMessage:"Add custom fields"})})]})})]})},H0=()=>{const{formatMessage:a}=be(),u=Br("CustomFieldsList",d=>d.customFields.getAll),l=Object.entries(u());if(!l.length)return o.jsx(V0,{});const f=l.sort((d,b)=>d[1].name>b[1].name?1:-1);return o.jsx(Po,{tagName:"button",children:o.jsxs(re,{direction:"column",alignItems:"stretch",gap:3,children:[o.jsx(Tn.Root,{gap:3,children:f.map(([d,b])=>o.jsx(Tn.Item,{col:6,direction:"column",alignItems:"stretch",children:o.jsx(W0,{customFieldUid:d,customField:b},d)},d))}),o.jsx(Yl,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0,children:a({id:C("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"})})]})})},G0=({attributes:a,forTarget:u,kind:l})=>{const{formatMessage:f}=be(),d=C("modalForm.tabs.default"),b=C("modalForm.tabs.custom"),p=u.includes("component")?"component":l,g=C(`modalForm.sub-header.chooseAttribute.${p}`);return o.jsx(Mn.Body,{children:o.jsxs(Et.Root,{variant:"simple",defaultValue:"default",children:[o.jsxs(re,{justifyContent:"space-between",children:[o.jsx(ge,{variant:"beta",tag:"h2",children:f({id:g,defaultMessage:"Select a field"})}),o.jsxs(Et.List,{children:[o.jsx(Et.Trigger,{value:"default",children:f({id:d,defaultMessage:"Default"})}),o.jsx(Et.Trigger,{value:"custom",children:f({id:b,defaultMessage:"Custom"})})]})]}),o.jsx(Ga,{marginBottom:6}),o.jsx(Et.Content,{value:"default",children:o.jsx(U0,{attributes:a})}),o.jsx(Et.Content,{value:"custom",children:o.jsx(H0,{})})]})})},Z0=({intlLabel:a,name:u,options:l,onChange:f,value:d=null})=>{const{formatMessage:b}=be(),p=a.id?b({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):u,g=v=>{let w="";v==="true"&&(w=!0),v==="false"&&(w=!1),f({target:{name:u,value:w,type:"select-default-boolean"}})};return o.jsxs(ae.Root,{name:u,children:[o.jsx(ae.Label,{children:p}),o.jsx(fn,{onChange:g,value:(d===null?"":d).toString(),children:l.map(({metadatas:{intlLabel:v,disabled:w,hidden:j},key:k,value:O})=>o.jsx(Ct,{value:O,disabled:w,hidden:j,children:v.defaultMessage},k))})]})},K0=_t(re)`
  position: relative;
  align-items: stretch;

  label {
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;

    ${Jl()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    will-change: transform, opacity;
    background: ${({theme:a})=>a.colors.neutral0};
    border: 1px solid ${({theme:a})=>a.colors.neutral200};
    border-radius: ${({theme:a})=>a.borderRadius};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:a})=>a.colors.neutral0};
      width: ${({theme:a})=>a.spaces[5]};
      height: ${({theme:a})=>a.spaces[5]};
      border: solid 1px ${({theme:a})=>a.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:a})=>a.spaces[3]};
        height: ${({theme:a})=>a.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:a})=>a.colors.primary100};
    color: ${({theme:a})=>a.colors.primary600};
    .checkmark {
      border: solid 1px ${({theme:a})=>a.colors.primary600};
      &::after {
        background: ${({theme:a})=>a.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,zo=({intlLabel:a,name:u,onChange:l,radios:f=[],value:d})=>{const{formatMessage:b}=be();return o.jsxs(re,{direction:"column",alignItems:"stretch",gap:2,children:[o.jsx(ge,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:u,tag:"label",children:b(a)}),o.jsx(K0,{gap:4,alignItems:"stretch",children:f.map(p=>o.jsxs("label",{htmlFor:p.value.toString(),className:"container",children:[o.jsx("input",{id:p.value.toString(),name:u,className:"option-input",checked:p.value===d,value:p.value,onChange:l,type:"radio"},p.value),o.jsx(le,{className:"option",padding:4,children:o.jsxs(re,{children:[o.jsx(le,{paddingRight:4,children:o.jsx("span",{className:"checkmark"})}),o.jsxs(re,{direction:"column",alignItems:"stretch",gap:2,children:[o.jsx(ge,{fontWeight:"bold",children:b(p.title)}),o.jsx(ge,{variant:"pi",textColor:"neutral600",children:b(p.description)})]})]})})]},p.value))})]})},Y0=({onChange:a,name:u,intlLabel:l,...f})=>{const d=b=>{const p=b.target.value!=="false";a({target:{name:u,value:p,type:"boolean-radio-group"}})};return o.jsx(zo,{...f,name:u,onChange:d,intlLabel:l})},J0=({error:a,intlLabel:u,modifiedData:l,name:f,onChange:d,value:b=null})=>{const{formatMessage:p}=be(),g=u.id?p({id:u.id,defaultMessage:u.defaultMessage},{...u.values}):f,v=l.type==="biginteger"?"text":"number",w=!l.type,j=a?p({id:a,defaultMessage:a}):"";return o.jsxs(re,{direction:"column",alignItems:"stretch",gap:2,children:[o.jsx(Uo,{id:f,name:f,onCheckedChange:k=>{d({target:{name:f,value:k?v==="text"?"0":0:null}})},checked:b!==null,children:g}),b!==null&&o.jsx(le,{paddingLeft:6,style:{maxWidth:"200px"},children:v==="text"?o.jsxs(ae.Root,{error:j,name:f,children:[o.jsx(Vn,{"aria-label":g,disabled:w,onChange:d,value:b===null?"":b}),o.jsx(ae.Error,{})]}):o.jsxs(ae.Root,{error:j,name:f,children:[o.jsx(Xl,{"aria-label":g,disabled:w,onValueChange:k=>{d({target:{name:f,value:k??0,type:v}})},value:b||0}),o.jsx(ae.Error,{})]})})]})},X0=({onChange:a,...u})=>{const{formatMessage:l}=be(),{toggleNotification:f}=qo(),d=b=>{f({type:"info",message:l({id:C("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."})}),a(b)};return o.jsx(zo,{...u,onChange:d})},Q0=({description:a,disabled:u=!1,intlLabel:l,isCreating:f,name:d,onChange:b,value:p=!1})=>{const{formatMessage:g}=be(),[v,w]=V.useState(!1),j=l.id?g({id:l.id,defaultMessage:l.defaultMessage},{...l.values}):d,k=a?g({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):"",O=()=>{b({target:{name:d,value:!1}}),w(!1)},Z=T=>{if(!T&&!f){w(!0);return}b({target:{name:d,value:!!T}})};return o.jsxs(o.Fragment,{children:[o.jsxs(ae.Root,{hint:k,name:d,children:[o.jsx(Uo,{checked:p,disabled:u,onCheckedChange:Z,children:j}),o.jsx(ae.Hint,{})]}),o.jsx(Gn.Root,{open:v,onOpenChange:T=>w(T),children:o.jsx(Gr,{endAction:o.jsx(Ue,{onClick:O,variant:"danger",width:"100%",justifyContent:"center",children:g({id:C("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"})}),children:g({id:C("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."})})})]})},eC=({deleteComponent:a,deleteContentType:u,isAttributeModal:l,isCustomFieldModal:f,isComponentAttribute:d,isComponentToDzModal:b,isContentTypeModal:p,isCreatingComponent:g,isCreatingComponentAttribute:v,isCreatingComponentInDz:w,isCreatingComponentWhileAddingAField:j,isCreatingContentType:k,isCreatingDz:O,isComponentModal:Z,isDzAttribute:T,isEditingAttribute:q,isInFirstComponentStep:S,onSubmitAddComponentAttribute:E,onSubmitAddComponentToDz:N,onSubmitCreateContentType:$,onSubmitCreateComponent:ee,onSubmitCreateDz:L,onSubmitEditAttribute:ne,onSubmitEditComponent:me,onSubmitEditContentType:we,onSubmitEditCustomFieldAttribute:Ee,onSubmitEditDz:Oe,onClickFinish:lt})=>{const{formatMessage:oe}=be();return b?w?o.jsx(Ue,{variant:"secondary",type:"submit",onClick:H=>{H.preventDefault(),N(H,!0)},startIcon:o.jsx(Bn,{}),children:oe({id:C("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})}):o.jsx(Ue,{variant:"default",type:"submit",onClick:H=>{H.preventDefault(),N(H,!1)},children:oe({id:"global.finish",defaultMessage:"Finish"})}):l&&T&&!O?o.jsx(Ue,{variant:"default",type:"submit",onClick:H=>{H.preventDefault(),lt(),Oe(H,!1)},children:oe({id:"global.finish",defaultMessage:"Finish"})}):l&&T&&O?o.jsx(o.Fragment,{children:o.jsx(Ue,{variant:"secondary",type:"submit",onClick:H=>{H.preventDefault(),L(H,!0)},startIcon:o.jsx(Bn,{}),children:oe({id:C("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"})})}):l&&d?S?o.jsx(Ue,{variant:"secondary",type:"submit",onClick:H=>{H.preventDefault(),E(H,!0)},children:oe(v?{id:C("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:C("form.button.select-component"),defaultMessage:"Configure the component"})}):o.jsxs(re,{gap:2,children:[o.jsx(Ue,{variant:"secondary",type:"submit",onClick:H=>{H.preventDefault(),E(H,!0)},startIcon:o.jsx(Bn,{}),children:oe(j?{id:C("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:C("form.button.add-field"),defaultMessage:"Add another field"})}),o.jsx(Ue,{variant:"default",type:"button",onClick:H=>{H.preventDefault(),lt(),E(H,!1)},children:oe({id:"global.finish",defaultMessage:"Finish"})})]}):l&&!d&&!T?o.jsxs(re,{gap:2,children:[o.jsx(Ue,{type:q?"button":"submit",variant:"secondary",onClick:H=>{H.preventDefault(),ne(H,!0)},startIcon:o.jsx(Bn,{}),children:oe({id:C("form.button.add-field"),defaultMessage:"Add another field"})}),o.jsx(Ue,{type:q?"submit":"button",variant:"default",onClick:H=>{H.preventDefault(),lt(),ne(H,!1)},children:oe({id:"global.finish",defaultMessage:"Finish"})})]}):p?o.jsxs(re,{gap:2,children:[!k&&o.jsxs(o.Fragment,{children:[o.jsx(Ue,{type:"button",variant:"danger",onClick:H=>{H.preventDefault(),u()},children:oe({id:"global.delete",defaultMessage:"Delete"})}),o.jsx(Ue,{type:"submit",variant:"default",onClick:H=>{H.preventDefault(),we(H,!1)},children:oe({id:"global.finish",defaultMessage:"Finish"})})]}),k&&o.jsx(Ue,{type:"submit",variant:"secondary",onClick:H=>{H.preventDefault(),$(H,!0)},children:oe({id:"global.continue",defaultMessage:"Continue"})})]}):Z?o.jsxs(re,{gap:2,children:[!g&&o.jsxs(o.Fragment,{children:[o.jsx(Ue,{type:"button",variant:"danger",onClick:H=>{H.preventDefault(),a()},children:oe({id:"global.delete",defaultMessage:"Delete"})}),o.jsx(Ue,{type:"submit",variant:"default",onClick:H=>{H.preventDefault(),me(H,!1)},children:oe({id:"global.finish",defaultMessage:"Finish"})})]}),g&&o.jsx(Ue,{type:"submit",variant:"secondary",onClick:H=>{H.preventDefault(),ee(H,!0)},children:oe({id:"global.continue",defaultMessage:"Continue"})})]}):f?o.jsxs(re,{gap:2,children:[o.jsx(Ue,{type:q?"button":"submit",variant:"secondary",onClick:H=>{H.preventDefault(),Ee(H,!0)},startIcon:o.jsx(Bn,{}),children:oe({id:C("form.button.add-field"),defaultMessage:"Add another field"})}),o.jsx(Ue,{type:q?"submit":"button",variant:"default",onClick:H=>{H.preventDefault(),lt(),Ee(H,!1)},children:oe({id:"global.finish",defaultMessage:"Finish"})})]}):null},tC=({actionType:a=null,attributeName:u,attributeType:l,contentTypeKind:f,dynamicZoneTarget:d,forTarget:b,modalType:p=null,targetUid:g,customFieldUid:v=null,showBackLink:w=!1})=>{const{formatMessage:j}=be(),{components:k,contentTypes:O}=Xt(),{onOpenModalAddField:Z}=hr();let T="component",q=[];const S=b==="component"?k[g]:O[g],E=S?.info.displayName;if(p==="contentType"&&(T=f),["component"].includes(p||"")&&(T="component"),["component","contentType"].includes(p||"")){let $=C(`modalForm.component.header-${a}`);return p==="contentType"&&($=C(`modalForm.${f}.header-create`)),a==="edit"&&($=C("modalForm.header-edit")),o.jsx(Mn.Header,{children:o.jsxs(re,{children:[o.jsx(le,{children:o.jsx(Hr,{type:T})}),o.jsx(le,{paddingLeft:3,children:o.jsx(Mn.Title,{children:j({id:$},{name:E})})})]})})}return q=[{label:E,info:{category:"category"in S&&S?.category||"",name:S?.info?.displayName}}],p==="chooseAttribute"&&(T=b==="component"?"component":"kind"in S?S.kind:""),p==="addComponentToDynamicZone"&&(T="dynamiczone",q.push({label:d})),(p==="attribute"||p==="customField")&&(T=l,q.push({label:u})),o.jsx(Mn.Header,{children:o.jsxs(re,{gap:3,children:[w&&o.jsx(Yl,{"aria-label":j({id:C("modalForm.header.back"),defaultMessage:"Back"}),startIcon:o.jsx(Ql,{}),onClick:()=>Z({forTarget:b,targetUid:g}),href:"#back",isExternal:!1}),o.jsx(Hr,{type:T,customField:v}),o.jsx(Cy,{label:q.map(({label:$})=>$).join(","),children:q.map(({label:$,info:ee},L,ne)=>{if($=Hn($),!$)return null;const me=`${$}.${L}`;return ee?.category&&($=`${$} (${Hn(ee.category)} - ${Hn(ee.name)})`),o.jsx(_y,{isCurrent:L===ne.length-1,children:$},me)})})]})})},nC=({modalType:a,forTarget:u,kind:l,actionType:f,step:d})=>{switch(a){case"chooseAttribute":return C(`modalForm.sub-header.chooseAttribute.${u?.includes("component")?"component":l||"collectionType"}`);case"attribute":return C(`modalForm.sub-header.attribute.${f}${d!=="null"&&d!==null&&f!=="edit"?".step":""}`);case"customField":return C(`modalForm.sub-header.attribute.${f}`);case"addComponentToDynamicZone":return C("modalForm.sub-header.addComponentToDynamicZone");default:return C("configurations")}},rC=({actionType:a,modalType:u,forTarget:l,kind:f,step:d,attributeType:b,attributeName:p,customField:g})=>{const{formatMessage:v}=be(),w=u==="customField"?g?.intlLabel:{id:C(`attribute.${b}`)};return o.jsxs(re,{direction:"column",alignItems:"flex-start",paddingBottom:1,gap:1,children:[o.jsx(ge,{tag:"h2",variant:"beta",children:v({id:nC({actionType:a,forTarget:l,kind:f,step:d,modalType:u}),defaultMessage:"Add new field"},{type:w?Hn(v(w)):"",name:Hn(p),step:d})}),o.jsx(ge,{variant:"pi",textColor:"neutral600",children:v({id:C(`attribute.${b}.description`),defaultMessage:"A type for modeling data"})})]})},Cc={alien:jx,apps:_x,archive:Cx,arrowDown:xx,arrowLeft:Ql,arrowRight:vx,arrowUp:yx,attachment:bx,bell:gx,bold:hx,book:mx,briefcase:px,brush:xo,bulletList:fx,calendar:dx,car:cx,cast:lx,chartBubble:ux,chartCircle:sx,chartPie:ox,check:ix,clock:ax,cloud:rx,code:nx,cog:tx,collapse:ex,command:Qv,connector:Xv,crop:Jv,crown:Yv,cup:Kv,cursor:Zv,dashboard:Gv,database:Hv,discuss:Vv,doctor:Bv,earth:zv,emotionHappy:Wv,emotionUnhappy:Uv,envelop:Pv,exit:qv,expand:Dv,eye:sc,feather:bl,file:Ov,fileError:Ev,filePdf:Lv,filter:Iv,folder:Nv,gate:$v,gift:Sv,globe:Rv,grid:Av,handHeart:kv,hashtag:Fv,headphone:Mv,heart:Tv,house:wv,information:jv,italic:_v,key:Cv,landscape:xv,layer:vv,layout:yv,lightbulb:bv,link:gv,lock:hv,magic:mv,manyToMany:oc,manyToOne:ic,manyWays:ac,medium:pv,message:fv,microphone:dv,monitor:cv,moon:lv,music:uv,oneToMany:rc,oneToOne:nc,oneWay:tc,paint:xo,paintBrush:xo,paperPlane:sv,pencil:ov,phone:iv,picture:av,pin:rv,pinMap:nv,plane:tv,play:ev,plus:Bn,priceTag:Qy,puzzle:Xy,question:Jy,quote:Yy,refresh:Do,restaurant:Ky,rocket:Zy,rotate:Gy,scissors:Hy,search:ec,seed:Vy,server:By,shield:zy,shirt:Wy,shoppingCart:Uy,slideshow:Py,stack:qy,star:Dy,store:Oy,strikeThrough:Ey,sun:Ly,television:Iy,thumbDown:Ny,thumbUp:$y,train:Sy,twitter:Ry,typhoon:Ay,underline:ky,user:Fy,volumeMute:My,volumeUp:Ty,walk:wy,wheelchair:jy,write:bl},aC=_t(re)`
  label {
    ${Jl()}
    border-radius: ${({theme:a})=>a.borderRadius};
    border: 1px solid ${({theme:a})=>a.colors.neutral100};
  }
`,iC=({iconKey:a,name:u,onChange:l,isSelected:f,ariaLabel:d})=>{const b=Cc[a];return o.jsx(ae.Root,{name:u,required:!1,children:o.jsxs(ae.Label,{children:[o.jsxs(Wl,{children:[d,o.jsx(ae.Input,{type:"radio",checked:f,onChange:l,value:a,"aria-checked":f})]}),o.jsx(Ka,{label:a,children:o.jsx(re,{padding:2,cursor:"pointer",hasRadius:!0,background:f?"primary200":void 0,children:o.jsx(b,{width:"2rem",height:"2rem",fill:f?"primary600":"neutral300"})})})]})})},oC=({intlLabel:a,name:u,onChange:l,value:f=""})=>{const{formatMessage:d}=be(),[b,p]=V.useState(!1),[g,v]=V.useState(""),w=Object.keys(Cc),[j,k]=V.useState(w),O=V.useRef(null),Z=V.useRef(null),T=()=>{p(!b)},q=({target:{value:N}})=>{v(N),k(()=>w.filter($=>$.toLowerCase().includes(N.toLowerCase())))},S=()=>{T(),v(""),k(w)},E=()=>{l({target:{name:u,value:""}})};return V.useEffect(()=>{b&&Z.current?.focus()},[b]),o.jsxs(o.Fragment,{children:[o.jsxs(re,{justifyContent:"space-between",paddingBottom:2,children:[o.jsx(ge,{variant:"pi",fontWeight:"bold",textColor:"neutral800",tag:"label",children:d(a)}),o.jsxs(re,{gap:1,children:[b?o.jsx(zl,{ref:Z,name:"searchbar",placeholder:d({id:C("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{g||T()},onChange:q,value:g,onClear:S,clearLabel:d({id:C("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"}),children:d({id:C("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})}):o.jsx(Ro,{ref:O,onClick:T,withTooltip:!1,label:d({id:C("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),variant:"ghost",children:o.jsx(ec,{})}),f&&o.jsx(Ka,{label:d({id:C("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"}),children:o.jsx(Ro,{onClick:E,withTooltip:!1,label:d({id:C("IconPicker.remove.button"),defaultMessage:"Remove the selected icon"}),variant:"ghost",children:o.jsx(uc,{})})})]})]}),o.jsx(aC,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center",children:j.length>0?j.map(N=>o.jsx(iC,{iconKey:N,name:u,onChange:l,isSelected:N===f,ariaLabel:d({id:C("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:N})},N)):o.jsx(le,{padding:4,grow:2,children:o.jsx(ge,{variant:"delta",textColor:"neutral600",textAlign:"center",children:d({id:C("IconPicker.emptyState.label"),defaultMessage:"No icon found"})})})})]})},sC=({description:a,error:u,intlLabel:l,modifiedData:f,name:d,onChange:b,value:p})=>{const{formatMessage:g}=be(),v=V.useRef(b),w=f?.displayName||"",j=V.useRef(w),k=V.useRef(p);V.useEffect(()=>{if(w&&w!==j.current){const q=lc(w);let S=q;try{S=Ba(q,2)}catch{}v.current({target:{name:d,value:S}}),k.current=S,j.current=w}else w||(v.current({target:{name:d,value:""}}),k.current="",j.current="")},[w,d,p]);const O=u?g({id:u,defaultMessage:u}):"",Z=a?g({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):"",T=g(l);return o.jsxs(ae.Root,{error:O,hint:Z,name:d,children:[o.jsx(ae.Label,{children:T}),o.jsx(Vn,{onChange:b,value:p||""}),o.jsx(ae.Error,{})]})},jl=a=>{if(a instanceof Date&&wl(a))return a;if(typeof a=="string"||typeof a=="number"){const u=new Date(a);if(wl(u))return u}},wl=a=>!isNaN(a.getTime()),uC=a=>{const[u,l]=a.split(":");return`${u}:${l}`},lC=a=>a.split(":").length===2?`${a}:00.000`:a,cC=a=>{if(a)return a.split(":").length>2?uC(a):a},dC=a=>{if(a)return lC(a)},fC=({value:a})=>cC(a),Tl=(a,u,l,f)=>{const d=dC(f);a({target:{name:u,value:d,type:l}})},pC=({autoComplete:a,customInputs:u,description:l,disabled:f,intlLabel:d,labelAction:b,error:p,name:g,onChange:v,onDelete:w,options:j=[],placeholder:k,required:O,step:Z,type:T,value:q,isNullable:S,autoFocus:E,attribute:N,attributeName:$,conditionFields:ee,...L})=>{const{formatMessage:ne}=be(),me=(Y,he)=>{if(Y&&(he==="minLength"&&he in Y||he==="maxLength"&&he in Y||he==="max"&&he in Y||he==="min"&&he in Y))return Y[he]},{hint:we}=mC({description:l,fieldSchema:{minLength:me(N,"minLength"),maxLength:me(N,"maxLength"),max:me(N,"max"),min:me(N,"min")},type:N?.type||T}),[Ee,Oe]=V.useState(!1),lt=u?u[T]:null,oe=q??void 0,H=oe??"";function pn(Y){if(!Y)return null;if(typeof Y=="string")return ne({id:Y,defaultMessage:Y});const he={...Y.values};return ne({id:Y.id,defaultMessage:Y?.defaultMessage??Y.id},he)}const Se=pn(p)??void 0;if(lt)return o.jsx(lt,{...L,attribute:N,description:l,hint:we,disabled:f,intlLabel:d,labelAction:b,error:Se||"",name:g,onChange:v,onDelete:w,options:j,required:O,placeholder:k,type:T,value:oe,autoFocus:E,attributeName:$,conditionFields:ee});const jt=d.id?ne({id:d.id,defaultMessage:d.defaultMessage},{...d.values}):g,Ye=k?ne({id:k.id,defaultMessage:k.defaultMessage},{...k.values}):"",mn=()=>{switch(T){case"json":return o.jsx(Ax,{value:oe,disabled:f,onChange:Y=>{const he=N&&"required"in N&&!N?.required&&!Y.length?null:Y;v({target:{name:g,value:he}},!1)},minHeight:"25.2rem",maxHeight:"50.4rem"});case"bool":return o.jsx(kx,{checked:q===null?null:q||!1,disabled:f,offLabel:ne({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"False"}),onLabel:ne({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"True"}),onChange:Y=>{v({target:{name:g,value:Y.target.checked}})}});case"checkbox":return o.jsx(Uo,{disabled:f,onCheckedChange:Y=>{v({target:{name:g,value:Y}})},checked:!!oe,children:jt});case"datetime":{const Y=jl(oe);return o.jsx(Fx,{clearLabel:ne({id:"clearLabel",defaultMessage:"Clear"}),disabled:f,onChange:he=>{const U=he?he.toISOString():null;v({target:{name:g,value:U,type:T}})},onClear:()=>v({target:{name:g,value:null,type:T}}),placeholder:Ye,value:Y})}case"date":{const Y=jl(oe);return o.jsx(Mx,{clearLabel:ne({id:"clearLabel",defaultMessage:"Clear"}),disabled:f,onChange:he=>{v({target:{name:g,value:he?d0(he,{representation:"date"}):null,type:T}})},onClear:()=>v({target:{name:g,value:null,type:T}}),placeholder:Ye,value:Y})}case"number":return o.jsx(Xl,{disabled:f,onValueChange:Y=>{v({target:{name:g,value:Y,type:T}})},placeholder:Ye,step:Z,value:oe,autoFocus:E});case"email":return o.jsx(Vn,{autoComplete:a,disabled:f,onChange:Y=>{v({target:{name:g,value:Y.target.value,type:T}})},placeholder:Ye,type:"email",value:H,autoFocus:E});case"timestamp":case"text":case"string":return o.jsx(Vn,{autoComplete:a,disabled:f,onChange:Y=>{v({target:{name:g,value:Y.target.value,type:T}})},placeholder:Ye,type:"text",value:H,autoFocus:E});case"password":return o.jsx(Vn,{autoComplete:a,disabled:f,endAction:o.jsx("button",{"aria-label":ne({id:"Auth.form.password.show-password",defaultMessage:"Show password"}),onClick:()=>{Oe(Y=>!Y)},style:{border:"none",padding:0,background:"transparent"},type:"button",children:Ee?o.jsx(sc,{fill:"neutral500"}):o.jsx(Tx,{fill:"neutral500"})}),onChange:Y=>{v({target:{name:g,value:Y.target.value,type:T}})},placeholder:Ye,type:Ee?"text":"password",value:H});case"select":return o.jsx(fn,{disabled:f,onChange:Y=>{v({target:{name:g,value:Y,type:"select"}})},placeholder:Ye,value:oe,children:j.map(({metadatas:{intlLabel:Y,disabled:he,hidden:U},key:We,value:He})=>o.jsx(Ct,{value:He,disabled:he,hidden:U,children:ne(Y)},We))});case"textarea":return o.jsx(cc,{disabled:f,onChange:Y=>v({target:{name:g,value:Y.target.value,type:T}}),placeholder:Ye,value:H});case"time":{const Y=fC({value:oe});return o.jsx(wx,{clearLabel:ne({id:"clearLabel",defaultMessage:"Clear"}),disabled:f,onChange:he=>Tl(v,g,T,he),onClear:()=>Tl(v,g,T,void 0),value:Y})}default:return o.jsx(Vn,{disabled:!0,placeholder:"Not supported",type:"text",value:""})}};return o.jsxs(ae.Root,{error:Se,name:g,hint:we,required:O,children:[T!=="checkbox"?o.jsx(ae.Label,{action:b,children:jt}):null,mn(),o.jsx(ae.Error,{}),o.jsx(ae.Hint,{})]})},mC=({description:a,fieldSchema:u,type:l})=>{const{formatMessage:f}=be(),d=()=>a?.id?f({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):"";return{hint:(()=>{const{maximum:p,minimum:g}=gC(u),v=hC({type:l,minimum:g,maximum:p}),w=typeof g=="number",j=typeof p=="number",k=j&&w,O=j||w;return!a?.id&&!O?"":f({id:"content-manager.form.Input.hint.text",defaultMessage:"{min, select, undefined {} other {min. {min}}}{divider}{max, select, undefined {} other {max. {max}}}{unit}{br}{description}"},{min:g,max:p,description:d(),unit:v?.message&&O?f(v.message,v.values):null,divider:k?f({id:"content-manager.form.Input.hint.minMaxDivider",defaultMessage:" / "}):null,br:O?o.jsx("br",{}):null})})()}},hC=({type:a,minimum:u,maximum:l})=>{if(a&&["biginteger","integer","number"].includes(a))return{};const f=Math.max(u||0,l||0);return{message:{id:"content-manager.form.Input.hint.character.unit",defaultMessage:"{maxValue, plural, one { character} other { characters}}"},values:{maxValue:f}}},gC=a=>{if(!a)return{maximum:void 0,minimum:void 0};const{minLength:u,maxLength:l,max:f,min:d}=a;let b,p;const g=Number(d),v=Number(u);Number.isNaN(g)?Number.isNaN(v)||(b=v):b=g;const w=Number(f),j=Number(l);return Number.isNaN(w)?Number.isNaN(j)||(p=j):p=w,{maximum:p,minimum:b}},$o=V.memo(pC,za),bC=({oneThatIsCreatingARelationWithAnother:a,target:u})=>{const{contentTypes:l,sortedContentTypesList:f}=Xt(),d=Za(),b=f.filter(vc),p=l[u];if(!p)return null;const g=({uid:v,plugin:w,title:j,restrictRelationsTo:k})=>()=>{const O=w?`${w}_${j}`:j;d(Ve.onChangeRelationTarget({target:{value:v,oneThatIsCreatingARelationWithAnother:a,selectedContentTypeFriendlyName:O,targetContentTypeAllowedRelations:k}}))};return o.jsxs(Wt.Root,{children:[o.jsx(yC,{children:`${p.info.displayName} ${p.plugin?`(from: ${p.plugin})`:""}`}),o.jsx(Wt.Content,{zIndex:"popover",children:b.map(({uid:v,title:w,restrictRelationsTo:j,plugin:k})=>o.jsxs(Wt.Item,{onSelect:g({uid:v,plugin:k,title:w,restrictRelationsTo:j}),children:[w,"Â ",k&&o.jsxs(o.Fragment,{children:["(from: ",k,")"]})]},v))})]})},yC=_t(Wt.Trigger)`
  max-width: 16.8rem;
  span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,Ml=({disabled:a=!1,error:u,header:l,isMain:f=!1,name:d,onChange:b,oneThatIsCreatingARelationWithAnother:p="",target:g,value:v=""})=>o.jsxs(le,{background:"neutral100",hasRadius:!0,borderColor:"neutral200",children:[o.jsx(re,{paddingTop:f?4:1,paddingBottom:f?3:1,justifyContent:"center",children:f?o.jsx(ge,{variant:"pi",fontWeight:"bold",textColor:"neutral800",children:l}):o.jsx(bC,{target:g,oneThatIsCreatingARelationWithAnother:p})}),o.jsx(Ga,{background:"neutral200"}),o.jsx(le,{padding:4,children:o.jsx($o,{disabled:a,error:u?.id||null,intlLabel:{id:C("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:d,onChange:b,type:"text",value:v})})]});var vC=Sx,xC=Rx,CC="[object RegExp]";function _C(a){return xC(a)&&vC(a)==CC}var jC=_C,wC=jC,TC=$x,Fl=Nx,kl=Fl&&Fl.isRegExp,MC=kl?TC(kl):wC,FC=MC,kC=Ix,AC=kC("length"),RC=AC,_c="\\ud800-\\udfff",SC="\\u0300-\\u036f",$C="\\ufe20-\\ufe2f",NC="\\u20d0-\\u20ff",IC=SC+$C+NC,LC="\\ufe0e\\ufe0f",EC="["+_c+"]",No="["+IC+"]",Io="\\ud83c[\\udffb-\\udfff]",OC="(?:"+No+"|"+Io+")",jc="[^"+_c+"]",wc="(?:\\ud83c[\\udde6-\\uddff]){2}",Tc="[\\ud800-\\udbff][\\udc00-\\udfff]",DC="\\u200d",Mc=OC+"?",Fc="["+LC+"]?",qC="(?:"+DC+"(?:"+[jc,wc,Tc].join("|")+")"+Fc+Mc+")*",PC=Fc+Mc+qC,UC="(?:"+[jc+No+"?",No,wc,Tc,EC].join("|")+")",Al=RegExp(Io+"(?="+Io+")|"+UC+PC,"g");function WC(a){for(var u=Al.lastIndex=0;Al.test(a);)++u;return u}var zC=WC,BC=RC,VC=dc,HC=zC;function GC(a){return VC(a)?HC(a):BC(a)}var ZC=GC,Rl=Ox,KC=Px,YC=dc,JC=Lx,XC=FC,QC=ZC,e_=qx,t_=Ex,Sl=Dx,n_=30,r_="...",a_=/\w*$/;function i_(a,u){var l=n_,f=r_;if(JC(u)){var d="separator"in u?u.separator:d;l="length"in u?t_(u.length):l,f="omission"in u?Rl(u.omission):f}a=Sl(a);var b=a.length;if(YC(a)){var p=e_(a);b=p.length}if(l>=b)return a;var g=l-QC(f);if(g<1)return f;var v=p?KC(p,0,g).join(""):a.slice(0,g);if(d===void 0)return v+f;if(p&&(g+=v.length-g),XC(d)){if(a.slice(g).search(d)){var w,j=v;for(d.global||(d=RegExp(d.source,Sl(a_.exec(d))+"g")),d.lastIndex=0;w=d.exec(j);)var k=w.index;v=v.slice(0,k===void 0?g:k)}}else if(a.indexOf(Rl(d),g)!=g){var O=v.lastIndexOf(d);O>-1&&(v=v.slice(0,O))}return v+f}var o_=i_;const $l=fc(o_),s_=_t(le)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:a})=>a.colors.primary600};
    z-index: 0;
  }
`,u_=_t(le)`
  background: ${({theme:a,$isSelected:u})=>a.colors[u?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:a,$isSelected:u})=>a.colors[u?"primary700":"neutral200"]};
  border-radius: ${({theme:a})=>a.borderRadius};
  z-index: 1;
  flex: 0 0 2.4rem;
  svg {
    width: 2.4rem;
    height: 2.4rem;
    max-width: unset;
    path {
      fill: ${({theme:a,$isSelected:u})=>a.colors[u?"primary700":"neutral500"]};
    }
  }
  cursor: pointer;
  &:disabled {
    cursor: not-allowed;
    background: ${({theme:a})=>a.colors.neutral150};

    svg {
      path {
        fill: ${({theme:a})=>a.colors.neutral300};
      }
    }
  }
  display: flex;
  justify-content: center;
  align-items: center;
`,l_=_t(re)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,c_={oneWay:tc,oneToOne:nc,oneToMany:rc,manyToOne:ic,manyToMany:oc,manyWay:ac},d_=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],f_=["oneWay","manyWay"],p_=({naturePickerType:a,oneThatIsCreatingARelationWithAnother:u,relationType:l,target:f,targetUid:d})=>{const b=Za(),{formatMessage:p}=be(),{contentTypes:g}=Xt(),w=(a==="component"?"component":Ie(g,[d,"kind"],""))==="collectionType"?d_:f_,j=l==="manyToOne",k=Ie(g,[f,"info","displayName"],"unknown"),O=j?k:u,Z=j?u:k,T=Ba(O,l==="manyToMany"?2:1),q=Ie(g,[f,"restrictRelationsTo"],null),S=Ba(Z,["manyToMany","oneToMany","manyToOne","manyWay"].includes(l)?2:1);return l?o.jsxs(re,{style:{flex:1},children:[o.jsx(s_,{children:o.jsx(re,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center",children:o.jsx(Po,{tagName:"button",children:o.jsx(re,{gap:3,children:w.map(E=>{const N=c_[E],$=q===null||q.includes(E);return o.jsx(u_,{tag:"button",$isSelected:l===E,disabled:!$,onClick:()=>{$&&b(Ve.onChangeRelationType({target:{oneThatIsCreatingARelationWithAnother:u,value:E}}))},padding:2,type:"button","aria-label":p({id:C(`relation.${E}`)}),"aria-pressed":l===E,"data-relation-type":E,children:o.jsx(N,{"aria-hidden":"true"},E)},E)})})})})}),o.jsxs(l_,{justifyContent:"center",children:[o.jsxs(ge,{children:[$l(T,{length:24}),"Â "]}),o.jsxs(ge,{textColor:"primary600",children:[p({id:C(`relation.${l}`)}),"Â "]}),o.jsx(ge,{children:$l(S,{length:24})})]})]}):null},m_=({formErrors:a,mainBoxHeader:u,modifiedData:l,naturePickerType:f,onChange:d,targetUid:b})=>{const p=Wo(l.relation,l.targetAttribute);return o.jsxs(re,{style:{position:"relative"},children:[o.jsx(Ml,{isMain:!0,header:u,error:a?.name||null,name:"name",onChange:d,value:l?.name||""}),o.jsx(p_,{naturePickerType:f,oneThatIsCreatingARelationWithAnother:u,relationType:p,target:l.target,targetUid:b}),o.jsx(Ml,{disabled:["oneWay","manyWay"].includes(p),error:a?.targetAttribute||null,name:"targetAttribute",onChange:d,oneThatIsCreatingARelationWithAnother:u,target:l.target,value:l?.targetAttribute||""})]})},h_=({error:a=null,intlLabel:u,name:l,onChange:f,value:d=void 0,isCreating:b,dynamicZoneTarget:p})=>{const{formatMessage:g}=be(),{allComponentsCategories:v}=Xt(),[w,j]=V.useState(v),k=a?g({id:a,defaultMessage:a}):"",O=g(u),Z=q=>{f({target:{name:l,value:q,type:"select-category"}})},T=q=>{j(S=>[...S,q]),Z(q)};return o.jsxs(ae.Root,{error:k,name:l,children:[o.jsx(ae.Label,{children:O}),o.jsx(Ux,{disabled:!b&&!p,onChange:Z,onCreateOption:T,value:d,creatable:!0,children:w.map(q=>o.jsx(Wx,{value:q,children:q},q))}),o.jsx(ae.Error,{})]})},Lo=(a,u)=>u.find(l=>l.component===a),kc=(a,u,l=0)=>{const f=Lo(a,u);if(!f||!f.childComponents||f.childComponents.length===0)return l;let d=l;return f.childComponents.forEach(b=>{const p=kc(b.component,u,l+1);p>d&&(d=p)}),d},Ac=(a,u)=>{const l=(b,p)=>{const g=[];if(g.push(p),!b.uidsOfAllParents)return g;for(const v of b.uidsOfAllParents){const w=Lo(v,u);w&&g.push(...l(w,p+1))}return g},f=Lo(a,u);return f?Math.max(...l(f,1)):0},g_=({error:a=null,intlLabel:u,isAddingAComponentToAnotherComponent:l,isCreating:f,isCreatingComponentWhileAddingAField:d,componentToCreate:b,name:p,onChange:g,targetUid:v,forTarget:w,value:j})=>{const{formatMessage:k}=be(),O=a?k({id:a,defaultMessage:a}):"",Z=k(u),{componentsGroupedByCategory:T,componentsThatHaveOtherComponentInTheirAttributes:q,nestedComponents:S}=Xt(),E=w==="component";let N=Object.entries(T).reduce(($,ee)=>{const[L,ne]=ee,me=ne.map(we=>({uid:we.uid,label:we.info.displayName,categoryName:L}));return[...$,...me]},[]);return l&&(N=N.filter(({uid:$})=>{const ee=kc($,q),L=Ac(v,S);return ee+L<=pc})),E&&(N=N.filter($=>$.uid!==v)),d&&(N=[{uid:j,label:b?.displayName,categoryName:b?.category}]),o.jsxs(ae.Root,{error:O,name:p,children:[o.jsx(ae.Label,{children:Z}),o.jsx(fn,{disabled:d||!f,onChange:$=>{g({target:{name:p,value:$,type:"select-category"}})},value:j||"",children:N.map($=>o.jsx(Ct,{value:$.uid,children:`${$.categoryName} - ${$.label}`},$.uid))}),o.jsx(ae.Error,{})]})},b_=({dynamicZoneTarget:a,intlLabel:u,name:l,onChange:f,value:d,targetUid:b})=>{const{formatMessage:p}=be(),{componentsGroupedByCategory:g,contentTypes:v}=Xt(),w=So(v[b].attributes,a);if(!w)return null;const j="components"in w?w?.components:[],k=Object.keys(g).reduce((T,q)=>{const S=g[q].filter(({uid:E})=>!j.includes(E));return S.length>0&&(T[q]=S),T},{}),O=Object.entries(k).reduce((T,q)=>{const[S,E]=q,N={label:S,children:E.map(({uid:$,info:{displayName:ee}})=>({label:ee,value:$}))};return T.push(N),T},[]),Z=p({id:C("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:d?.length??0});return o.jsxs(ae.Root,{name:l,children:[o.jsx(ae.Label,{children:p(u)}),o.jsx(Kl,{id:"select1",customizeContent:()=>Z,onChange:T=>{f({target:{name:l,value:T,type:"select-components"}})},options:O,value:d||[]})]})},y_=({intlLabel:a,error:u=void 0,modifiedData:l,name:f,onChange:d,options:b,value:p=""})=>{const{formatMessage:g}=be(),v=g(a),w=u?g({id:u,defaultMessage:u}):"",j=k=>{d({target:{name:f,value:k,type:"select"}}),p&&l.default!==void 0&&l.default!==null&&d({target:{name:"default",value:null}})};return o.jsxs(ae.Root,{error:w,name:f,children:[o.jsx(ae.Label,{children:v}),o.jsx(fn,{onChange:j,value:p||"",children:b.map(({metadatas:{intlLabel:k,disabled:O,hidden:Z},key:T,value:q})=>o.jsx(Ct,{value:q,disabled:O,hidden:Z,children:g({id:k.id,defaultMessage:k.defaultMessage},k.values)},T))}),o.jsx(ae.Error,{})]})},v_=({intlLabel:a,error:u=void 0,modifiedData:l,name:f,onChange:d,options:b,value:p=""})=>{const{formatMessage:g}=be(),v=g(a),w=u?g({id:u,defaultMessage:u}):"",j=k=>{d({target:{name:f,value:k,type:"select"}}),p&&(k==="biginteger"&&p!=="biginteger"&&(l.default!==void 0&&l.default!==null&&d({target:{name:"default",value:null}}),l.max!==void 0&&l.max!==null&&d({target:{name:"max",value:null}}),l.min!==void 0&&l.min!==null&&d({target:{name:"min",value:null}})),typeof k=="string"&&["decimal","float","integer"].includes(k)&&p==="biginteger"&&(l.default!==void 0&&l.default!==null&&d({target:{name:"default",value:null}}),l.max!==void 0&&l.max!==null&&d({target:{name:"max",value:null}}),l.min!==void 0&&l.min!==null&&d({target:{name:"min",value:null}})))};return o.jsxs(ae.Root,{error:w,name:f,children:[o.jsx(ae.Label,{children:v}),o.jsx(fn,{onChange:j,value:p||"",children:b.map(({metadatas:{intlLabel:k,disabled:O,hidden:Z},key:T,value:q})=>o.jsx(Ct,{value:q,disabled:O,hidden:Z,children:g(k)},T))}),o.jsx(ae.Error,{})]})},x_=({description:a=null,error:u=null,intlLabel:l,modifiedData:f,name:d,onChange:b,value:p=null})=>{const{formatMessage:g}=be(),v=V.useRef(b),w=V.useRef(p),j=V.useRef(f?.displayName||""),k=f?.displayName||"";V.useEffect(()=>{if(k&&k!==j.current){const q=lc(k);v.current({target:{name:d,value:q}}),w.current=q,j.current=k}else k||(v.current({target:{name:d,value:""}}),w.current="",j.current="")},[k,d,p]);const O=u?g({id:u,defaultMessage:u}):"",Z=a?g({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):"",T=g(l);return o.jsxs(ae.Root,{error:O,hint:Z,name:d,children:[o.jsx(ae.Label,{children:T}),o.jsx(Vn,{onChange:b,value:p||""}),o.jsx(ae.Error,{}),o.jsx(ae.Hint,{})]})},h1=(a,u)=>{const l=[];return Object.entries(a).forEach(([f,d])=>{if(d.attributes){const b=Array.isArray(d.attributes)?d.attributes.reduce((p,g,v)=>(p[v.toString()]=g,p),{}):d.attributes;Object.entries(b).forEach(([p,g])=>{g.conditions?.visible&&Object.entries(g.conditions.visible).forEach(([,v])=>{const[w]=v;w&&w.var===u&&l.push({contentTypeUid:f,contentType:d.info.displayName,attribute:g.name||p})})})}}),l},C_=(a,u,l)=>{if(!a?.visible)return"";const[[f,d]]=Object.entries(a.visible),[b,p]=d,g=u.find(O=>O.name===b.var),v=g?g.name:b.var,w=f==="=="?"is":"is not",j=String(p);return`If ${v} ${w} ${j}, then ${f==="=="?"Show":"Hide"} ${l}`},__=(a,u)=>a.filter(l=>{const f=l.type==="boolean"||l.type==="enumeration",d=l.name!==u;return f&&d}).map(l=>({name:l.name,type:l.type,enum:l.type==="enumeration"?l.enum:void 0})),Nl=({form:a,formErrors:u,genericInputProps:l,modifiedData:f,onChange:d})=>{const{formatMessage:b}=be();return o.jsx(o.Fragment,{children:a.map((p,g)=>p.items.length===0?null:o.jsxs(le,{children:[p.sectionTitle&&o.jsx(le,{paddingBottom:4,children:o.jsx(ge,{variant:"delta",tag:"h3",children:b(p.sectionTitle)})}),p.intlLabel&&o.jsx(ge,{variant:"pi",textColor:"neutral600",children:b(p.intlLabel)}),o.jsx(Tn.Root,{gap:4,children:p.items.map((v,w)=>{const j=`${g}.${w}`,k=Ie(f,v.name,void 0),O=Object.keys(u).find(T=>T===v.name),Z=O?u[O].id:Ie(u,[...v.name.split(".").filter(T=>T!=="componentToCreate"),"id"],null);if(v.type==="pushRight")return o.jsx(Tn.Item,{col:v.size||6,direction:"column",alignItems:"stretch",children:o.jsx("div",{})},v.name||j);if(v.type==="condition-form"){const T=Ie(f,v.name),q=l.contentTypeSchema?.attributes||[];if(!l.contentTypeSchema)return console.warn("contentTypeSchema is undefined, skipping condition form"),null;const S=__(q,f.name),E=b({id:"form.attribute.condition.no-fields",defaultMessage:"No boolean or enumeration fields available to set conditions on."});return o.jsx(Tn.Item,{col:v.size||12,direction:"column",alignItems:"stretch",children:!T||Object.keys(T).length===0?o.jsxs(le,{children:[T&&Object.keys(T).length>0&&o.jsx(ge,{variant:"sigma",textColor:"neutral800",marginBottom:2,children:C_(T,S,l.attributeName||f.name)}),o.jsx(Ka,{label:E,children:o.jsx(Ue,{marginTop:T&&Object.keys(T).length>0?0:4,fullWidth:!0,variant:"secondary",onClick:()=>{d({target:{name:v.name,value:{visible:{"==":[{var:""},""]}}}})},startIcon:o.jsx("span",{"aria-hidden":!0,children:"ï¼"}),disabled:S.length===0,children:b({id:"form.attribute.condition.apply",defaultMessage:"Apply condition"})})})]}):o.jsx($o,{...v,...l,error:Z,onChange:d,value:k,autoFocus:w===0,attributeName:f.name,conditionFields:S,onDelete:()=>{d({target:{name:v.name}})}})},v.name||j)}return o.jsx(Tn.Item,{col:v.size||6,direction:"column",alignItems:"stretch",children:o.jsx($o,{...v,...l,error:Z,onChange:d,value:k,autoFocus:w===0})},v.name||j)})})]},g))})},j_=({description:a=null,disabled:u=!1,error:l="",intlLabel:f,labelAction:d,name:b,onChange:p,placeholder:g=null,value:v=""})=>{const{formatMessage:w}=be(),j=l?w({id:l,defaultMessage:l}):"",k=a?w({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):"",O=w(f),Z=g?w({id:g.id,defaultMessage:g.defaultMessage},{...g.values}):"",T=Array.isArray(v)?v.join(`
`):"",q=S=>{const E=S.target.value.split(`
`);p({target:{name:b,value:E}})};return o.jsxs(ae.Root,{error:j,hint:k,name:b,children:[o.jsx(ae.Label,{action:d,children:O}),o.jsx(cc,{disabled:u,onChange:q,placeholder:Z,value:T}),o.jsx(ae.Error,{}),o.jsx(ae.Hint,{})]})},w_=({disabled:a,tooltipMessage:u,onClick:l,marginTop:f=4})=>{const{formatMessage:d}=be(),b=o.jsx(Ue,{marginTop:f,fullWidth:!0,variant:"secondary",disabled:a,onClick:l,startIcon:o.jsx("span",{"aria-hidden":!0,children:"ï¼"}),children:d({id:"form.attribute.condition.apply",defaultMessage:"Apply condition"})});return u?o.jsx(Ka,{description:u,children:b}):b},T_=_t(Hr)`
  width: 16px !important;
  height: 16px !important;
  svg {
    width: 16px !important;
    height: 16px !important;
  }
`,M_=a=>{if(!a?.visible)return{dependsOn:"",operator:"is",value:"",action:"show"};const[[u,l]]=Object.entries(a.visible),[f,d]=l;return{dependsOn:f.var,operator:u==="=="?"is":"isNot",value:d,action:"show"}},F_=a=>{if(!a.dependsOn)return null;const u=mc(),l={dependsOn:a.dependsOn,operator:a.operator,value:a.value};try{return u.validate(l),{visible:{[a.operator==="is"&&a.action==="show"||a.operator==="isNot"&&a.action==="hide"?"==":"!="]:[{var:a.dependsOn},a.value]}}}catch{return null}},k_=({name:a,value:u,onChange:l,onDelete:f,attributeName:d,conditionFields:b=[]})=>{const{formatMessage:p}=be(),[g,v]=V.useState(M_(u)),[w,j]=V.useState(!1),k=!!u?.visible;Array.isArray(b)||(b=[]);const O=b.find(L=>L.name===g.dependsOn),Z=O?.type==="enumeration",T=L=>{v(L);const ne=mc(),me={dependsOn:L.dependsOn,operator:L.operator,value:L.value};try{ne.validate(me);const we=L.operator==="is"&&L.action==="show"||L.operator==="isNot"&&L.action==="hide"?"==":"!=",Ee=L.dependsOn?{visible:{[we]:[{var:L.dependsOn},L.value]}}:null;Ee&&l({target:{name:a,value:Ee}})}catch{}},q=()=>{const L={dependsOn:"",operator:"is",value:"",action:"show"};v(L),l({target:{name:a,value:F_(L)}})},S=()=>{v({dependsOn:"",operator:"is",value:"",action:"show"}),l({target:{name:a,value:null}}),f(),j(!1)},E=L=>{const ne=L?.toString()||"",we=b.find(Oe=>Oe.name===ne)?.type==="enumeration",Ee={...g,dependsOn:ne,value:ne?we?"":!1:g.value};T(Ee)},N=L=>{const ne=L?.toString()||"is",me={...g,operator:ne};T(me)},$=L=>{const ne=Z?L?.toString():L?.toString()==="true",me={...g,value:ne};T(me)},ee=L=>{const ne=L?.toString()||"show",me={...g,action:ne};T(me)};return k?o.jsx(le,{marginTop:2,children:o.jsxs(le,{background:"neutral0",hasRadius:!0,borderColor:"neutral200",borderWidth:.5,borderStyle:"solid",children:[o.jsxs(re,{justifyContent:"space-between",alignItems:"center",padding:4,children:[o.jsx(ge,{variant:"sigma",textColor:"neutral800",children:p({id:C("form.attribute.condition.title"),defaultMessage:"Condition for {name}"},{name:o.jsx("strong",{children:d})})}),o.jsxs(Gn.Root,{open:w,onOpenChange:j,children:[o.jsx(Gn.Trigger,{children:o.jsx(Ro,{label:"Delete",children:o.jsx(uc,{})})}),o.jsx(Gr,{onConfirm:S,children:p({id:C("popUpWarning.bodyMessage.delete-condition"),defaultMessage:"Are you sure you want to delete this condition?"})})]})]}),o.jsxs(le,{background:"neutral100",padding:4,children:[o.jsx(le,{paddingBottom:2,children:o.jsx(ge,{variant:"sigma",textColor:"neutral600",style:{textTransform:"uppercase",letterSpacing:1},children:p({id:C("form.attribute.condition.if"),defaultMessage:"IF"})})}),o.jsxs(re,{gap:4,children:[o.jsx(le,{minWidth:0,flex:1,children:o.jsx(ae.Root,{name:`${a}.field`,children:o.jsx(fn,{value:g.dependsOn,onChange:E,placeholder:p({id:C("form.attribute.condition.field"),defaultMessage:"field"}),children:b.map(L=>o.jsx(Ct,{value:L.name,children:o.jsxs(re,{gap:2,alignItems:"center",children:[o.jsx(T_,{type:L.type}),o.jsx("span",{children:L.name})]})},L.name))})})}),o.jsx(le,{minWidth:0,flex:1,children:o.jsx(ae.Root,{name:`${a}.operator`,children:o.jsxs(fn,{value:g.operator,onChange:N,disabled:!g.dependsOn,placeholder:p({id:C("form.attribute.condition.operator"),defaultMessage:"condition"}),children:[o.jsx(Ct,{value:"is",children:p({id:C("form.attribute.condition.operator.is"),defaultMessage:"is"})}),o.jsx(Ct,{value:"isNot",children:p({id:C("form.attribute.condition.operator.isNot"),defaultMessage:"is not"})})]})})}),o.jsx(le,{minWidth:0,flex:1,children:o.jsx(ae.Root,{name:`${a}.value`,children:o.jsx(fn,{value:g.value?.toString()||"",onChange:$,disabled:!g.dependsOn,placeholder:p({id:C("form.attribute.condition.value"),defaultMessage:"value"}),children:Z&&O?.enum?O.enum.map(L=>o.jsx(Ct,{value:L,children:L},L)):o.jsxs(o.Fragment,{children:[o.jsx(Ct,{value:"true",children:p({id:C("form.attribute.condition.value.true"),defaultMessage:"true"})}),o.jsx(Ct,{value:"false",children:p({id:C("form.attribute.condition.value.false"),defaultMessage:"false"})})]})})})})]})]}),o.jsxs(le,{background:"neutral100",padding:4,children:[o.jsx(le,{paddingBottom:4,children:o.jsx(ge,{variant:"sigma",textColor:"neutral600",style:{textTransform:"uppercase",letterSpacing:1},children:p({id:C("form.attribute.condition.then"),defaultMessage:"THEN"})})}),o.jsx(le,{paddingBottom:4,children:o.jsx(ae.Root,{name:`${a}.action`,children:o.jsxs(fn,{value:g.action,onChange:ee,placeholder:p({id:C("form.attribute.condition.action"),defaultMessage:"action"}),children:[o.jsxs(Ct,{value:"show",children:["Show ",o.jsx("span",{style:{fontWeight:"bold"},children:d||a})]}),o.jsxs(Ct,{value:"hide",children:["Hide ",o.jsx("span",{style:{fontWeight:"bold"},children:d||a})]})]})})})]})]})}):o.jsx(le,{padding:4,margin:4,hasRadius:!0,background:"neutral0",borderColor:"neutral200",children:o.jsx(w_,{onClick:q})})},Jt={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:C("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},A_={sections:[{sectionTitle:null,items:[Jt]}]},mr={base(a=""){return[{sectionTitle:null,items:[{name:`${a}displayName`,type:"text",intlLabel:{id:C("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${a}category`,type:"select-category",intlLabel:{id:C("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${a}icon`,type:"icon-picker",size:12,intlLabel:{id:C("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},G={default:{name:"default",type:"text",intlLabel:{id:C("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:C("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:C("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:C("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:C("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:C("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:C("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:C("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:C("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:C("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:C("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:C("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:C("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},at={sectionTitle:{id:C("form.attribute.condition.title"),defaultMessage:"Condition"},intlLabel:{id:C("form.attribute.condition.description"),defaultMessage:"Toggle field settings depending on the value of another boolean or enumeration field."},items:[{name:"conditions",type:"condition-form",intlLabel:{id:C("form.attribute.condition.label"),defaultMessage:"Conditions"},validations:{required:!0}}]},R_={blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[G.required,G.private]},at]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:C("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[G.required,G.private]},at]}},component({repeatable:a},u){if(u==="1")return{sections:mr.advanced()};if(a){const l={...G.min,intlLabel:{id:C("form.attribute.item.minimumComponents"),defaultMessage:"Minimum components"}},f={...G.max,intlLabel:{id:C("form.attribute.item.maximumComponents"),defaultMessage:"Maximum components"}};return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[G.required,G.private,l,f]},at]}}return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[G.required,G.private]},at]}},date({type:a}){return{sections:[{sectionTitle:null,items:[{...G.default,type:a||"date",value:null,withDefaultValue:!1,disabled:!a,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[G.required,G.unique,G.private]},at]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[G.required,G.max,G.min]},at]}},email(){return{sections:[{sectionTitle:null,items:[{...G.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[G.required,G.unique,G.maxLength,G.minLength,G.private]},at]}},enumeration(a){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:C("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(a.enum||[]).filter((u,l)=>a.enum.indexOf(u)===l&&u).map(u=>({key:u,value:u,metadatas:{intlLabel:{id:`${u}.no-override`,defaultMessage:u}}}))]},{intlLabel:{id:C("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:C("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[G.required,G.private]},at]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[G.required,G.private]},at]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:C("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[G.required,G.private]},at]}},number(a){const u=a.type==="decimal"||a.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:a.type==="biginteger"?"text":"number",step:u,intlLabel:{id:C("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[G.required,G.unique,G.max,G.min,G.private]},at]}},password(){return{sections:[{sectionTitle:null,items:[G.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[G.required,G.maxLength,G.minLength,G.private]},at]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[G.private]},at]}},richtext(){return{sections:[{sectionTitle:null,items:[G.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[G.required,G.maxLength,G.minLength,G.private]},at]}},text(){return{sections:[{sectionTitle:null,items:[G.default,G.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[G.required,G.unique,G.maxLength,G.minLength,G.private]},at]}},uid(a){return{sections:[{sectionTitle:null,items:[{...G.default,disabled:!!a.targetField,type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[G.required,G.maxLength,G.minLength,G.private,G.regex]},at]}}},Eo={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:C("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:C("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:C("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:C("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},S_={component(a,u){if(u==="1"){const l=a.createComponent===!0?mr.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Eo]},...l]}}return{sections:[{sectionTitle:null,items:[Jt,{name:"component",type:"select-component",intlLabel:{id:C("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:C("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:C("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:C("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:C("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Jt,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:C("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:C("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:C("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Jt]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:C("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:C("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Jt]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:C("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:C("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:C("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:C("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Jt,{intlLabel:{id:C("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:C("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:C("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:C("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:C("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Jt]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:C("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:C("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:C("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:C("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Jt]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:C("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:C("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:C("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:C("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(a,u,l){const f=l.filter(({type:d})=>["string","text"].includes(d)).map(({name:d})=>({key:d,value:d,metadatas:{intlLabel:{id:`${d}.no-override`,defaultMessage:d}}}));return{sections:[{sectionTitle:null,items:[{...Jt,placeholder:{id:C("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:C("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...f]}]}]}}},Il={advanced:R_,base:S_};var jo=Bx,$_=zx(),N_=hc,I_=1/0,L_=jo&&1/N_(new jo([,-0]))[1]==I_?function(a){return new jo(a)}:$_,E_=L_,O_=Vx,D_=Hx,q_=f0,P_=Gx,U_=E_,W_=hc,z_=200;function B_(a,u,l){var f=-1,d=D_,b=a.length,p=!0,g=[],v=g;if(l)p=!1,d=q_;else if(b>=z_){var w=u?null:U_(a);if(w)return W_(w);p=!1,d=P_,v=new O_}else v=u?[]:g;e:for(;++f<b;){var j=a[f],k=u?u(j):j;if(j=l||j!==0?j:0,p&&k===k){for(var O=v.length;O--;)if(v[O]===k)continue e;u&&v.push(k),g.push(j)}else d(v,k,l)||(v!==g&&v.push(k),g.push(j))}return g}var V_=B_,H_=V_;function G_(a){return a&&a.length?H_(a):[]}var Z_=G_;const K_=fc(Z_),wo=a=>a?Zx(a,{decamelize:!1,lowercase:!1,separator:"_"}):"";var Va={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Va.exports;(function(a,u){(function(){function l(x,M,i){switch(i.length){case 0:return x.call(M);case 1:return x.call(M,i[0]);case 2:return x.call(M,i[0],i[1]);case 3:return x.call(M,i[0],i[1],i[2])}return x.apply(M,i)}function f(x,M,i,P){for(var Q=-1,W=x==null?0:x.length;++Q<W;){var dt=x[Q];M(P,dt,i(dt),x)}return P}function d(x,M){for(var i=-1,P=x==null?0:x.length;++i<P&&M(x[i],i,x)!==!1;);return x}function b(x,M){for(var i=x==null?0:x.length;i--&&M(x[i],i,x)!==!1;);return x}function p(x,M){for(var i=-1,P=x==null?0:x.length;++i<P;)if(!M(x[i],i,x))return!1;return!0}function g(x,M){for(var i=-1,P=x==null?0:x.length,Q=0,W=[];++i<P;){var dt=x[i];M(dt,i,x)&&(W[Q++]=dt)}return W}function v(x,M){return!!(x!=null&&x.length)&&$(x,M,0)>-1}function w(x,M,i){for(var P=-1,Q=x==null?0:x.length;++P<Q;)if(i(M,x[P]))return!0;return!1}function j(x,M){for(var i=-1,P=x==null?0:x.length,Q=Array(P);++i<P;)Q[i]=M(x[i],i,x);return Q}function k(x,M){for(var i=-1,P=M.length,Q=x.length;++i<P;)x[Q+i]=M[i];return x}function O(x,M,i,P){var Q=-1,W=x==null?0:x.length;for(P&&W&&(i=x[++Q]);++Q<W;)i=M(i,x[Q],Q,x);return i}function Z(x,M,i,P){var Q=x==null?0:x.length;for(P&&Q&&(i=x[--Q]);Q--;)i=M(i,x[Q],Q,x);return i}function T(x,M){for(var i=-1,P=x==null?0:x.length;++i<P;)if(M(x[i],i,x))return!0;return!1}function q(x){return x.split("")}function S(x){return x.match(Jc)||[]}function E(x,M,i){var P;return i(x,function(Q,W,dt){if(M(Q,W,dt))return P=W,!1}),P}function N(x,M,i,P){for(var Q=x.length,W=i+(P?1:-1);P?W--:++W<Q;)if(M(x[W],W,x))return W;return-1}function $(x,M,i){return M===M?Ja(x,M,i):N(x,L,i)}function ee(x,M,i,P){for(var Q=i-1,W=x.length;++Q<W;)if(P(x[Q],M))return Q;return-1}function L(x){return x!==x}function ne(x,M){var i=x==null?0:x.length;return i?lt(x,M)/i:Xn}function me(x){return function(M){return M==null?m:M[x]}}function we(x){return function(M){return x==null?m:x[M]}}function Ee(x,M,i,P,Q){return Q(x,function(W,dt,_i){i=P?(P=!1,W):M(i,W,dt,_i)}),i}function Oe(x,M){var i=x.length;for(x.sort(M);i--;)x[i]=x[i].value;return x}function lt(x,M){for(var i,P=-1,Q=x.length;++P<Q;){var W=M(x[P]);W!==m&&(i=i===m?W:i+W)}return i}function oe(x,M){for(var i=-1,P=Array(x);++i<x;)P[i]=M(i);return P}function H(x,M){return j(M,function(i){return[i,x[i]]})}function pn(x){return x&&x.slice(0,it(x)+1).replace(mi,"")}function Se(x){return function(M){return x(M)}}function jt(x,M){return j(M,function(i){return x[i]})}function Ye(x,M){return x.has(M)}function mn(x,M){for(var i=-1,P=x.length;++i<P&&$(M,x[i],0)>-1;);return i}function Y(x,M){for(var i=x.length;i--&&$(M,x[i],0)>-1;);return i}function he(x,M){for(var i=x.length,P=0;i--;)x[i]===M&&++P;return P}function U(x){return"\\"+Id[x]}function We(x,M){return x==null?m:x[M]}function He(x){return Fd.test(x)}function zt(x){return kd.test(x)}function Qt(x){for(var M,i=[];!(M=x.next()).done;)i.push(M.value);return i}function Bt(x){var M=-1,i=Array(x.size);return x.forEach(function(P,Q){i[++M]=[Q,P]}),i}function Fn(x,M){return function(i){return x(M(i))}}function wt(x,M){for(var i=-1,P=x.length,Q=0,W=[];++i<P;){var dt=x[i];dt!==M&&dt!==kn||(x[i]=kn,W[Q++]=i)}return W}function Zn(x){var M=-1,i=Array(x.size);return x.forEach(function(P){i[++M]=P}),i}function Ya(x){var M=-1,i=Array(x.size);return x.forEach(function(P){i[++M]=[P,P]}),i}function Ja(x,M,i){for(var P=i-1,Q=x.length;++P<Q;)if(x[P]===M)return P;return-1}function hn(x,M,i){for(var P=i+1;P--;)if(x[P]===M)return P;return P}function Vt(x){return He(x)?gr(x):Dd(x)}function Ge(x){return He(x)?B(x):q(x)}function it(x){for(var M=x.length;M--&&Gc.test(x.charAt(M)););return M}function gr(x){for(var M=vi.lastIndex=0;vi.test(x);)++M;return M}function B(x){return x.match(vi)||[]}function ye(x){return x.match(Md)||[]}var m,Kn="4.17.21",Yn=200,br="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ot="Expected a function",yr="Invalid `variable` option passed into `_.template`",vr="__lodash_hash_undefined__",Jn=500,kn="__lodash_placeholder__",Ot=1,en=2,bt=4,yt=1,An=2,ct=1,Ht=2,Zr=4,Tt=8,gn=16,ze=32,Rn=64,Mt=128,Sn=256,xr=512,Xa=30,Qa="...",Kr=800,ei=16,Cr=1,Yr=2,Jr=3,tn=1/0,Gt=9007199254740991,ti=17976931348623157e292,Xn=NaN,Ft=4294967295,ni=Ft-1,ri=Ft>>>1,X=[["ary",Mt],["bind",ct],["bindKey",Ht],["curry",Tt],["curryRight",gn],["flip",xr],["partial",ze],["partialRight",Rn],["rearg",Sn]],xe="[object Arguments]",De="[object Array]",de="[object AsyncFunction]",ke="[object Boolean]",Ae="[object Date]",Xe="[object DOMException]",Qn="[object Error]",er="[object Function]",Xr="[object GeneratorFunction]",kt="[object Map]",$n="[object Number]",$c="[object Null]",nn="[object Object]",Bo="[object Promise]",Nc="[object Proxy]",_r="[object RegExp]",Dt="[object Set]",jr="[object String]",Qr="[object Symbol]",Ic="[object Undefined]",wr="[object WeakMap]",Lc="[object WeakSet]",Tr="[object ArrayBuffer]",tr="[object DataView]",ai="[object Float32Array]",ii="[object Float64Array]",oi="[object Int8Array]",si="[object Int16Array]",ui="[object Int32Array]",li="[object Uint8Array]",ci="[object Uint8ClampedArray]",di="[object Uint16Array]",fi="[object Uint32Array]",Ec=/\b__p \+= '';/g,Oc=/\b(__p \+=) '' \+/g,Dc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Vo=/&(?:amp|lt|gt|quot|#39);/g,Ho=/[&<>"']/g,qc=RegExp(Vo.source),Pc=RegExp(Ho.source),Uc=/<%-([\s\S]+?)%>/g,Wc=/<%([\s\S]+?)%>/g,Go=/<%=([\s\S]+?)%>/g,zc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bc=/^\w*$/,Vc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pi=/[\\^$.*+?()[\]{}|]/g,Hc=RegExp(pi.source),mi=/^\s+/,Gc=/\s/,Zc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Kc=/\{\n\/\* \[wrapped with (.+)\] \*/,Yc=/,? & /,Jc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xc=/[()=,{}\[\]\/\s]/,Qc=/\\(\\)?/g,ed=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Zo=/\w*$/,td=/^[-+]0x[0-9a-f]+$/i,nd=/^0b[01]+$/i,rd=/^\[object .+?Constructor\]$/,ad=/^0o[0-7]+$/i,id=/^(?:0|[1-9]\d*)$/,od=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ea=/($^)/,sd=/['\n\r\u2028\u2029\\]/g,ta="\\ud800-\\udfff",ud="\\u0300-\\u036f",ld="\\ufe20-\\ufe2f",cd="\\u20d0-\\u20ff",Ko=ud+ld+cd,Yo="\\u2700-\\u27bf",Jo="a-z\\xdf-\\xf6\\xf8-\\xff",dd="\\xac\\xb1\\xd7\\xf7",fd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pd="\\u2000-\\u206f",md=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xo="A-Z\\xc0-\\xd6\\xd8-\\xde",Qo="\\ufe0e\\ufe0f",es=dd+fd+pd+md,hi="['â]",hd="["+ta+"]",ts="["+es+"]",na="["+Ko+"]",ns="\\d+",gd="["+Yo+"]",rs="["+Jo+"]",as="[^"+ta+es+ns+Yo+Jo+Xo+"]",gi="\\ud83c[\\udffb-\\udfff]",bd="(?:"+na+"|"+gi+")",is="[^"+ta+"]",bi="(?:\\ud83c[\\udde6-\\uddff]){2}",yi="[\\ud800-\\udbff][\\udc00-\\udfff]",nr="["+Xo+"]",os="\\u200d",ss="(?:"+rs+"|"+as+")",yd="(?:"+nr+"|"+as+")",us="(?:"+hi+"(?:d|ll|m|re|s|t|ve))?",ls="(?:"+hi+"(?:D|LL|M|RE|S|T|VE))?",cs=bd+"?",ds="["+Qo+"]?",vd="(?:"+os+"(?:"+[is,bi,yi].join("|")+")"+ds+cs+")*",xd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Cd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fs=ds+cs+vd,_d="(?:"+[gd,bi,yi].join("|")+")"+fs,jd="(?:"+[is+na+"?",na,bi,yi,hd].join("|")+")",wd=RegExp(hi,"g"),Td=RegExp(na,"g"),vi=RegExp(gi+"(?="+gi+")|"+jd+fs,"g"),Md=RegExp([nr+"?"+rs+"+"+us+"(?="+[ts,nr,"$"].join("|")+")",yd+"+"+ls+"(?="+[ts,nr+ss,"$"].join("|")+")",nr+"?"+ss+"+"+us,nr+"+"+ls,Cd,xd,ns,_d].join("|"),"g"),Fd=RegExp("["+os+ta+Ko+Qo+"]"),kd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ad=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Rd=-1,Te={};Te[ai]=Te[ii]=Te[oi]=Te[si]=Te[ui]=Te[li]=Te[ci]=Te[di]=Te[fi]=!0,Te[xe]=Te[De]=Te[Tr]=Te[ke]=Te[tr]=Te[Ae]=Te[Qn]=Te[er]=Te[kt]=Te[$n]=Te[nn]=Te[_r]=Te[Dt]=Te[jr]=Te[wr]=!1;var je={};je[xe]=je[De]=je[Tr]=je[tr]=je[ke]=je[Ae]=je[ai]=je[ii]=je[oi]=je[si]=je[ui]=je[kt]=je[$n]=je[nn]=je[_r]=je[Dt]=je[jr]=je[Qr]=je[li]=je[ci]=je[di]=je[fi]=!0,je[Qn]=je[er]=je[wr]=!1;var Sd={Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã:"C",Ã§:"c",Ã:"D",Ã°:"d",Ã:"E",Ã:"E",Ã:"E",Ã:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",Ã:"I",Ã:"I",Ã:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã:"N",Ã±:"n",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã:"U",Ã:"U",Ã:"U",Ã:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã:"Ae",Ã¦:"ae",Ã:"Th",Ã¾:"th",Ã:"ss",Ä:"A",Ä:"A",Ä:"A",Ä:"a",Ä:"a",Ä:"a",Ä:"C",Ä:"C",Ä:"C",Ä:"C",Ä:"c",Ä:"c",Ä:"c",Ä:"c",Ä:"D",Ä:"D",Ä:"d",Ä:"d",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"G",Ä:"G",Ä :"G",Ä¢:"G",Ä:"g",Ä:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å:"l",Å:"l",Å:"N",Å:"N",Å:"N",Å:"N",Å:"n",Å:"n",Å:"n",Å:"n",Å:"O",Å:"O",Å:"O",Å:"o",Å:"o",Å:"o",Å:"R",Å:"R",Å:"R",Å:"r",Å:"r",Å:"r",Å:"S",Å:"S",Å:"S",Å :"S",Å:"s",Å:"s",Å:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å:"Oe",Å:"oe",Å:"'n",Å¿:"s"},$d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Nd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Id={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ld=parseFloat,Ed=parseInt,ps=typeof Wr=="object"&&Wr&&Wr.Object===Object&&Wr,Od=typeof self=="object"&&self&&self.Object===Object&&self,Qe=ps||Od||Function("return this")(),xi=u&&!u.nodeType&&u,Nn=xi&&!0&&a&&!a.nodeType&&a,ms=Nn&&Nn.exports===xi,Ci=ms&&ps.process,At=function(){try{var x=Nn&&Nn.require&&Nn.require("util").types;return x||Ci&&Ci.binding&&Ci.binding("util")}catch{}}(),hs=At&&At.isArrayBuffer,gs=At&&At.isDate,bs=At&&At.isMap,ys=At&&At.isRegExp,vs=At&&At.isSet,xs=At&&At.isTypedArray,Dd=me("length"),qd=we(Sd),Pd=we($d),Ud=we(Nd),Wd=function x(M){function i(e){if(qe(e)&&!ie(e)&&!(e instanceof W)){if(e instanceof Q)return e;if(_e.call(e,"__wrapped__"))return mu(e)}return new Q(e)}function P(){}function Q(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=m}function W(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ft,this.__views__=[]}function dt(){var e=new W(this.__wrapped__);return e.__actions__=ft(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ft(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ft(this.__views__),e}function _i(){if(this.__filtered__){var e=new W(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function zd(){var e=this.__wrapped__.value(),t=this.__dir__,n=ie(e),r=t<0,s=n?e.length:0,c=Qf(0,s,this.__views__),h=c.start,y=c.end,_=y-h,A=r?y:h-1,F=this.__iteratees__,R=F.length,D=0,z=tt(_,this.__takeCount__);if(!n||!r&&s==_&&z==_)return Us(e,this.__actions__);var K=[];e:for(;_--&&D<z;){A+=t;for(var se=-1,J=e[A];++se<R;){var fe=F[se],pe=fe.iteratee,rt=fe.type,gt=pe(J);if(rt==Yr)J=gt;else if(!gt){if(rt==Cr)continue e;break e}}K[D++]=J}return K}function In(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Bd(){this.__data__=Or?Or(null):{},this.size=0}function Vd(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Hd(e){var t=this.__data__;if(Or){var n=t[e];return n===vr?m:n}return _e.call(t,e)?t[e]:m}function Gd(e){var t=this.__data__;return Or?t[e]!==m:_e.call(t,e)}function Zd(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Or&&t===m?vr:t,this}function rn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kd(){this.__data__=[],this.size=0}function Yd(e){var t=this.__data__,n=ra(t,e);return!(n<0)&&(n==t.length-1?t.pop():Sa.call(t,n,1),--this.size,!0)}function Jd(e){var t=this.__data__,n=ra(t,e);return n<0?m:t[n][1]}function Xd(e){return ra(this.__data__,e)>-1}function Qd(e,t){var n=this.__data__,r=ra(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function an(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ef(){this.size=0,this.__data__={hash:new In,map:new(Lr||rn),string:new In}}function tf(e){var t=ha(this,e).delete(e);return this.size-=t?1:0,t}function nf(e){return ha(this,e).get(e)}function rf(e){return ha(this,e).has(e)}function af(e,t){var n=ha(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Ln(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new an;++t<n;)this.add(e[t])}function of(e){return this.__data__.set(e,vr),this}function sf(e){return this.__data__.has(e)}function qt(e){this.size=(this.__data__=new rn(e)).size}function uf(){this.__data__=new rn,this.size=0}function lf(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function cf(e){return this.__data__.get(e)}function df(e){return this.__data__.has(e)}function ff(e,t){var n=this.__data__;if(n instanceof rn){var r=n.__data__;if(!Lr||r.length<Yn-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new an(r)}return n.set(e,t),this.size=n.size,this}function Cs(e,t){var n=ie(e),r=!n&&Un(e),s=!n&&!r&&_n(e),c=!n&&!r&&!s&&pr(e),h=n||r||s||c,y=h?oe(e.length,ug):[],_=y.length;for(var A in e)!t&&!_e.call(e,A)||h&&(A=="length"||s&&(A=="offset"||A=="parent")||c&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||ln(A,_))||y.push(A);return y}function _s(e){var t=e.length;return t?e[$i(0,t-1)]:m}function pf(e,t){return ga(ft(e),En(t,0,e.length))}function mf(e){return ga(ft(e))}function ji(e,t,n){(n===m||Pt(e[t],n))&&(n!==m||t in e)||on(e,t,n)}function Mr(e,t,n){var r=e[t];_e.call(e,t)&&Pt(r,n)&&(n!==m||t in e)||on(e,t,n)}function ra(e,t){for(var n=e.length;n--;)if(Pt(e[n][0],t))return n;return-1}function hf(e,t,n,r){return Cn(e,function(s,c,h){t(r,s,n(s),h)}),r}function js(e,t){return e&&Kt(t,Je(t),e)}function gf(e,t){return e&&Kt(t,mt(t),e)}function on(e,t,n){t=="__proto__"&&$a?$a(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function wi(e,t){for(var n=-1,r=t.length,s=Ze(r),c=e==null;++n<r;)s[n]=c?m:Ji(e,t[n]);return s}function En(e,t,n){return e===e&&(n!==m&&(e=e<=n?e:n),t!==m&&(e=e>=t?e:t)),e}function Rt(e,t,n,r,s,c){var h,y=t&Ot,_=t&en,A=t&bt;if(n&&(h=s?n(e,r,s,c):n(e)),h!==m)return h;if(!$e(e))return e;var F=ie(e);if(F){if(h=tp(e),!y)return ft(e,h)}else{var R=nt(e),D=R==er||R==Xr;if(_n(e))return zs(e,y);if(R==nn||R==xe||D&&!s){if(h=_||D?{}:su(e),!y)return _?Vf(e,gf(h,e)):Bf(e,js(h,e))}else{if(!je[R])return s?e:{};h=np(e,R,y)}}c||(c=new qt);var z=c.get(e);if(z)return z;c.set(e,h),al(e)?e.forEach(function(J){h.add(Rt(J,t,n,J,e,c))}):rl(e)&&e.forEach(function(J,fe){h.set(fe,Rt(J,t,n,fe,e,c))});var K=A?_?zi:Wi:_?mt:Je,se=F?m:K(e);return d(se||e,function(J,fe){se&&(fe=J,J=e[fe]),Mr(h,fe,Rt(J,t,n,fe,e,c))}),h}function bf(e){var t=Je(e);return function(n){return ws(n,e,t)}}function ws(e,t,n){var r=n.length;if(e==null)return!r;for(e=Me(e);r--;){var s=n[r],c=t[s],h=e[s];if(h===m&&!(s in e)||!c(h))return!1}return!0}function Ts(e,t,n){if(typeof e!="function")throw new It(ot);return qr(function(){e.apply(m,n)},t)}function Fr(e,t,n,r){var s=-1,c=v,h=!0,y=e.length,_=[],A=t.length;if(!y)return _;n&&(t=j(t,Se(n))),r?(c=w,h=!1):t.length>=Yn&&(c=Ye,h=!1,t=new Ln(t));e:for(;++s<y;){var F=e[s],R=n==null?F:n(F);if(F=r||F!==0?F:0,h&&R===R){for(var D=A;D--;)if(t[D]===R)continue e;_.push(F)}else c(t,R,r)||_.push(F)}return _}function yf(e,t){var n=!0;return Cn(e,function(r,s,c){return n=!!t(r,s,c)}),n}function aa(e,t,n){for(var r=-1,s=e.length;++r<s;){var c=e[r],h=t(c);if(h!=null&&(y===m?h===h&&!xt(h):n(h,y)))var y=h,_=c}return _}function vf(e,t,n,r){var s=e.length;for(n=ue(n),n<0&&(n=-n>s?0:s+n),r=r===m||r>s?s:ue(r),r<0&&(r+=s),r=n>r?0:$u(r);n<r;)e[n++]=t;return e}function Ms(e,t){var n=[];return Cn(e,function(r,s,c){t(r,s,c)&&n.push(r)}),n}function et(e,t,n,r,s){var c=-1,h=e.length;for(n||(n=ap),s||(s=[]);++c<h;){var y=e[c];t>0&&n(y)?t>1?et(y,t-1,n,r,s):k(s,y):r||(s[s.length]=y)}return s}function Zt(e,t){return e&&co(e,t,Je)}function Ti(e,t){return e&&Ku(e,t,Je)}function ia(e,t){return g(t,function(n){return cn(e[n])})}function On(e,t){t=yn(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Yt(t[n++])];return n&&n==r?e:m}function Fs(e,t,n){var r=t(e);return ie(e)?r:k(r,n(e))}function st(e){return e==null?e===m?Ic:$c:Pn&&Pn in Me(e)?Xf(e):cp(e)}function Mi(e,t){return e>t}function xf(e,t){return e!=null&&_e.call(e,t)}function Cf(e,t){return e!=null&&t in Me(e)}function _f(e,t,n){return e>=tt(t,n)&&e<Ke(t,n)}function Fi(e,t,n){for(var r=n?w:v,s=e[0].length,c=e.length,h=c,y=Ze(c),_=1/0,A=[];h--;){var F=e[h];h&&t&&(F=j(F,Se(t))),_=tt(F.length,_),y[h]=!n&&(t||s>=120&&F.length>=120)?new Ln(h&&F):m}F=e[0];var R=-1,D=y[0];e:for(;++R<s&&A.length<_;){var z=F[R],K=t?t(z):z;if(z=n||z!==0?z:0,!(D?Ye(D,K):r(A,K,n))){for(h=c;--h;){var se=y[h];if(!(se?Ye(se,K):r(e[h],K,n)))continue e}D&&D.push(K),A.push(z)}}return A}function jf(e,t,n,r){return Zt(e,function(s,c,h){t(r,n(s),c,h)}),r}function kr(e,t,n){t=yn(t,e),e=du(e,t);var r=e==null?e:e[Yt($t(t))];return r==null?m:l(r,e,n)}function ks(e){return qe(e)&&st(e)==xe}function wf(e){return qe(e)&&st(e)==Tr}function Tf(e){return qe(e)&&st(e)==Ae}function Ar(e,t,n,r,s){return e===t||(e==null||t==null||!qe(e)&&!qe(t)?e!==e&&t!==t:Mf(e,t,n,r,Ar,s))}function Mf(e,t,n,r,s,c){var h=ie(e),y=ie(t),_=h?De:nt(e),A=y?De:nt(t);_=_==xe?nn:_,A=A==xe?nn:A;var F=_==nn,R=A==nn,D=_==A;if(D&&_n(e)){if(!_n(t))return!1;h=!0,F=!1}if(D&&!F)return c||(c=new qt),h||pr(e)?iu(e,t,n,r,s,c):Yf(e,t,_,n,r,s,c);if(!(n&yt)){var z=F&&_e.call(e,"__wrapped__"),K=R&&_e.call(t,"__wrapped__");if(z||K){var se=z?e.value():e,J=K?t.value():t;return c||(c=new qt),s(se,J,n,r,c)}}return!!D&&(c||(c=new qt),Jf(e,t,n,r,s,c))}function Ff(e){return qe(e)&&nt(e)==kt}function ki(e,t,n,r){var s=n.length,c=s,h=!r;if(e==null)return!c;for(e=Me(e);s--;){var y=n[s];if(h&&y[2]?y[1]!==e[y[0]]:!(y[0]in e))return!1}for(;++s<c;){y=n[s];var _=y[0],A=e[_],F=y[1];if(h&&y[2]){if(A===m&&!(_ in e))return!1}else{var R=new qt;if(r)var D=r(A,F,_,e,t,R);if(!(D===m?Ar(F,A,yt|An,r,R):D))return!1}}return!0}function As(e){return!(!$e(e)||op(e))&&(cn(e)?pg:rd).test(qn(e))}function kf(e){return qe(e)&&st(e)==_r}function Af(e){return qe(e)&&nt(e)==Dt}function Rf(e){return qe(e)&&Ca(e.length)&&!!Te[st(e)]}function Rs(e){return typeof e=="function"?e:e==null?ht:typeof e=="object"?ie(e)?Ns(e[0],e[1]):$s(e):Du(e)}function Ai(e){if(!$r(e))return vg(e);var t=[];for(var n in Me(e))_e.call(e,n)&&n!="constructor"&&t.push(n);return t}function Sf(e){if(!$e(e))return lp(e);var t=$r(e),n=[];for(var r in e)(r!="constructor"||!t&&_e.call(e,r))&&n.push(r);return n}function Ri(e,t){return e<t}function Ss(e,t){var n=-1,r=pt(e)?Ze(e.length):[];return Cn(e,function(s,c,h){r[++n]=t(s,c,h)}),r}function $s(e){var t=Bi(e);return t.length==1&&t[0][2]?lu(t[0][0],t[0][1]):function(n){return n===e||ki(n,e,t)}}function Ns(e,t){return Vi(e)&&uu(t)?lu(Yt(e),t):function(n){var r=Ji(n,e);return r===m&&r===t?Xi(n,e):Ar(t,r,yt|An)}}function oa(e,t,n,r,s){e!==t&&co(t,function(c,h){if(s||(s=new qt),$e(c))$f(e,t,h,n,oa,r,s);else{var y=r?r(Gi(e,h),c,h+"",e,t,s):m;y===m&&(y=c),ji(e,h,y)}},mt)}function $f(e,t,n,r,s,c,h){var y=Gi(e,n),_=Gi(t,n),A=h.get(_);if(A)return ji(e,n,A),m;var F=c?c(y,_,n+"",e,t,h):m,R=F===m;if(R){var D=ie(_),z=!D&&_n(_),K=!D&&!z&&pr(_);F=_,D||z||K?ie(y)?F=y:Be(y)?F=ft(y):z?(R=!1,F=zs(_,!0)):K?(R=!1,F=Bs(_,!0)):F=[]:Nr(_)||Un(_)?(F=y,Un(y)?F=Nu(y):$e(y)&&!cn(y)||(F=su(_))):R=!1}R&&(h.set(_,F),s(F,_,r,c,h),h.delete(_)),ji(e,n,F)}function Is(e,t){var n=e.length;if(n)return t+=t<0?n:0,ln(t,n)?e[t]:m}function Ls(e,t,n){t=t.length?j(t,function(s){return ie(s)?function(c){return On(c,s.length===1?s[0]:s)}:s}):[ht];var r=-1;return t=j(t,Se(te())),Oe(Ss(e,function(s,c,h){return{criteria:j(t,function(y){return y(s)}),index:++r,value:s}}),function(s,c){return zf(s,c,n)})}function Nf(e,t){return Es(e,t,function(n,r){return Xi(e,r)})}function Es(e,t,n){for(var r=-1,s=t.length,c={};++r<s;){var h=t[r],y=On(e,h);n(y,h)&&Rr(c,yn(h,e),y)}return c}function If(e){return function(t){return On(t,e)}}function Si(e,t,n,r){var s=r?ee:$,c=-1,h=t.length,y=e;for(e===t&&(t=ft(t)),n&&(y=j(e,Se(n)));++c<h;)for(var _=0,A=t[c],F=n?n(A):A;(_=s(y,F,_,r))>-1;)y!==e&&Sa.call(y,_,1),Sa.call(e,_,1);return e}function Os(e,t){for(var n=e?t.length:0,r=n-1;n--;){var s=t[n];if(n==r||s!==c){var c=s;ln(s)?Sa.call(e,s,1):Li(e,s)}}return e}function $i(e,t){return e+Ia(Hu()*(t-e+1))}function Lf(e,t,n,r){for(var s=-1,c=Ke(Na((t-e)/(n||1)),0),h=Ze(c);c--;)h[r?c:++s]=e,e+=n;return h}function Ni(e,t){var n="";if(!e||t<1||t>Gt)return n;do t%2&&(n+=e),t=Ia(t/2),t&&(e+=e);while(t);return n}function ce(e,t){return mo(cu(e,t,ht),e+"")}function Ef(e){return _s(sr(e))}function Of(e,t){var n=sr(e);return ga(n,En(t,0,n.length))}function Rr(e,t,n,r){if(!$e(e))return e;t=yn(t,e);for(var s=-1,c=t.length,h=c-1,y=e;y!=null&&++s<c;){var _=Yt(t[s]),A=n;if(_==="__proto__"||_==="constructor"||_==="prototype")return e;if(s!=h){var F=y[_];A=r?r(F,_,y):m,A===m&&(A=$e(F)?F:ln(t[s+1])?[]:{})}Mr(y,_,A),y=y[_]}return e}function Df(e){return ga(sr(e))}function St(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var c=Ze(s);++r<s;)c[r]=e[r+t];return c}function qf(e,t){var n;return Cn(e,function(r,s,c){return n=t(r,s,c),!n}),!!n}function sa(e,t,n){var r=0,s=e==null?r:e.length;if(typeof t=="number"&&t===t&&s<=ri){for(;r<s;){var c=r+s>>>1,h=e[c];h!==null&&!xt(h)&&(n?h<=t:h<t)?r=c+1:s=c}return s}return Ii(e,t,ht,n)}function Ii(e,t,n,r){var s=0,c=e==null?0:e.length;if(c===0)return 0;t=n(t);for(var h=t!==t,y=t===null,_=xt(t),A=t===m;s<c;){var F=Ia((s+c)/2),R=n(e[F]),D=R!==m,z=R===null,K=R===R,se=xt(R);if(h)var J=r||K;else J=A?K&&(r||D):y?K&&D&&(r||!z):_?K&&D&&!z&&(r||!se):!z&&!se&&(r?R<=t:R<t);J?s=F+1:c=F}return tt(c,ni)}function Ds(e,t){for(var n=-1,r=e.length,s=0,c=[];++n<r;){var h=e[n],y=t?t(h):h;if(!n||!Pt(y,_)){var _=y;c[s++]=h===0?0:h}}return c}function qs(e){return typeof e=="number"?e:xt(e)?Xn:+e}function vt(e){if(typeof e=="string")return e;if(ie(e))return j(e,vt)+"";if(xt(e))return Gu?Gu.call(e):"";var t=e+"";return t=="0"&&1/e==-tn?"-0":t}function bn(e,t,n){var r=-1,s=v,c=e.length,h=!0,y=[],_=y;if(n)h=!1,s=w;else if(c>=Yn){var A=t?null:Rg(e);if(A)return Zn(A);h=!1,s=Ye,_=new Ln}else _=t?[]:y;e:for(;++r<c;){var F=e[r],R=t?t(F):F;if(F=n||F!==0?F:0,h&&R===R){for(var D=_.length;D--;)if(_[D]===R)continue e;t&&_.push(R),y.push(F)}else s(_,R,n)||(_!==y&&_.push(R),y.push(F))}return y}function Li(e,t){return t=yn(t,e),e=du(e,t),e==null||delete e[Yt($t(t))]}function Ps(e,t,n,r){return Rr(e,t,n(On(e,t)),r)}function ua(e,t,n,r){for(var s=e.length,c=r?s:-1;(r?c--:++c<s)&&t(e[c],c,e););return n?St(e,r?0:c,r?c+1:s):St(e,r?c+1:0,r?s:c)}function Us(e,t){var n=e;return n instanceof W&&(n=n.value()),O(t,function(r,s){return s.func.apply(s.thisArg,k([r],s.args))},n)}function Ei(e,t,n){var r=e.length;if(r<2)return r?bn(e[0]):[];for(var s=-1,c=Ze(r);++s<r;)for(var h=e[s],y=-1;++y<r;)y!=s&&(c[s]=Fr(c[s]||h,e[y],t,n));return bn(et(c,1),t,n)}function Ws(e,t,n){for(var r=-1,s=e.length,c=t.length,h={};++r<s;)n(h,e[r],r<c?t[r]:m);return h}function Oi(e){return Be(e)?e:[]}function Di(e){return typeof e=="function"?e:ht}function yn(e,t){return ie(e)?e:Vi(e,t)?[e]:el(Ce(e))}function vn(e,t,n){var r=e.length;return n=n===m?r:n,!t&&n>=r?e:St(e,t,n)}function zs(e,t){if(t)return e.slice();var n=e.length,r=Uu?Uu(n):new e.constructor(n);return e.copy(r),r}function qi(e){var t=new e.constructor(e.byteLength);return new Aa(t).set(new Aa(e)),t}function Pf(e,t){return new e.constructor(t?qi(e.buffer):e.buffer,e.byteOffset,e.byteLength)}function Uf(e){var t=new e.constructor(e.source,Zo.exec(e));return t.lastIndex=e.lastIndex,t}function Wf(e){return Dr?Me(Dr.call(e)):{}}function Bs(e,t){return new e.constructor(t?qi(e.buffer):e.buffer,e.byteOffset,e.length)}function Vs(e,t){if(e!==t){var n=e!==m,r=e===null,s=e===e,c=xt(e),h=t!==m,y=t===null,_=t===t,A=xt(t);if(!y&&!A&&!c&&e>t||c&&h&&_&&!y&&!A||r&&h&&_||!n&&_||!s)return 1;if(!r&&!c&&!A&&e<t||A&&n&&s&&!r&&!c||y&&n&&s||!h&&s||!_)return-1}return 0}function zf(e,t,n){for(var r=-1,s=e.criteria,c=t.criteria,h=s.length,y=n.length;++r<h;){var _=Vs(s[r],c[r]);if(_)return r>=y?_:_*(n[r]=="desc"?-1:1)}return e.index-t.index}function Hs(e,t,n,r){for(var s=-1,c=e.length,h=n.length,y=-1,_=t.length,A=Ke(c-h,0),F=Ze(_+A),R=!r;++y<_;)F[y]=t[y];for(;++s<h;)(R||s<c)&&(F[n[s]]=e[s]);for(;A--;)F[y++]=e[s++];return F}function Gs(e,t,n,r){for(var s=-1,c=e.length,h=-1,y=n.length,_=-1,A=t.length,F=Ke(c-y,0),R=Ze(F+A),D=!r;++s<F;)R[s]=e[s];for(var z=s;++_<A;)R[z+_]=t[_];for(;++h<y;)(D||s<c)&&(R[z+n[h]]=e[s++]);return R}function ft(e,t){var n=-1,r=e.length;for(t||(t=Ze(r));++n<r;)t[n]=e[n];return t}function Kt(e,t,n,r){var s=!n;n||(n={});for(var c=-1,h=t.length;++c<h;){var y=t[c],_=r?r(n[y],e[y],y,n,e):m;_===m&&(_=e[y]),s?on(n,y,_):Mr(n,y,_)}return n}function Bf(e,t){return Kt(e,po(e),t)}function Vf(e,t){return Kt(e,Xu(e),t)}function la(e,t){return function(n,r){var s=ie(n)?f:hf,c=t?t():{};return s(n,e,te(r,2),c)}}function ar(e){return ce(function(t,n){var r=-1,s=n.length,c=s>1?n[s-1]:m,h=s>2?n[2]:m;for(c=e.length>3&&typeof c=="function"?(s--,c):m,h&&ut(n[0],n[1],h)&&(c=s<3?m:c,s=1),t=Me(t);++r<s;){var y=n[r];y&&e(t,y,r,c)}return t})}function Zs(e,t){return function(n,r){if(n==null)return n;if(!pt(n))return e(n,r);for(var s=n.length,c=t?s:-1,h=Me(n);(t?c--:++c<s)&&r(h[c],c,h)!==!1;);return n}}function Ks(e){return function(t,n,r){for(var s=-1,c=Me(t),h=r(t),y=h.length;y--;){var _=h[e?y:++s];if(n(c[_],_,c)===!1)break}return t}}function Hf(e,t,n){function r(){return(this&&this!==Qe&&this instanceof r?c:e).apply(s?n:this,arguments)}var s=t&ct,c=Sr(e);return r}function Ys(e){return function(t){t=Ce(t);var n=He(t)?Ge(t):m,r=n?n[0]:t.charAt(0),s=n?vn(n,1).join(""):t.slice(1);return r[e]()+s}}function ir(e){return function(t){return O(Ou(Eu(t).replace(wd,"")),e,"")}}function Sr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=fr(e.prototype),r=e.apply(n,t);return $e(r)?r:n}}function Gf(e,t,n){function r(){for(var c=arguments.length,h=Ze(c),y=c,_=or(r);y--;)h[y]=arguments[y];var A=c<3&&h[0]!==_&&h[c-1]!==_?[]:wt(h,_);return c-=A.length,c<n?tu(e,t,ca,r.placeholder,m,h,A,m,m,n-c):l(this&&this!==Qe&&this instanceof r?s:e,this,h)}var s=Sr(e);return r}function Js(e){return function(t,n,r){var s=Me(t);if(!pt(t)){var c=te(n,3);t=Je(t),n=function(y){return c(s[y],y,s)}}var h=e(t,n,r);return h>-1?s[c?t[h]:h]:m}}function Xs(e){return un(function(t){var n=t.length,r=n,s=Q.prototype.thru;for(e&&t.reverse();r--;){var c=t[r];if(typeof c!="function")throw new It(ot);if(s&&!h&&ma(c)=="wrapper")var h=new Q([],!0)}for(r=h?r:n;++r<n;){c=t[r];var y=ma(c),_=y=="wrapper"?fo(c):m;h=_&&Hi(_[0])&&_[1]==(Mt|Tt|ze|Sn)&&!_[4].length&&_[9]==1?h[ma(_[0])].apply(h,_[3]):c.length==1&&Hi(c)?h[y]():h.thru(c)}return function(){var A=arguments,F=A[0];if(h&&A.length==1&&ie(F))return h.plant(F).value();for(var R=0,D=n?t[R].apply(this,A):F;++R<n;)D=t[R].call(this,D);return D}})}function ca(e,t,n,r,s,c,h,y,_,A){function F(){for(var fe=arguments.length,pe=Ze(fe),rt=fe;rt--;)pe[rt]=arguments[rt];if(K)var gt=or(F),jn=he(pe,gt);if(r&&(pe=Hs(pe,r,s,K)),c&&(pe=Gs(pe,c,h,K)),fe-=jn,K&&fe<A)return tu(e,t,ca,F.placeholder,n,pe,wt(pe,gt),y,_,A-fe);var Pe=D?n:this,Lt=z?Pe[e]:e;return fe=pe.length,y?pe=dp(pe,y):se&&fe>1&&pe.reverse(),R&&_<fe&&(pe.length=_),this&&this!==Qe&&this instanceof F&&(Lt=J||Sr(Lt)),Lt.apply(Pe,pe)}var R=t&Mt,D=t&ct,z=t&Ht,K=t&(Tt|gn),se=t&xr,J=z?m:Sr(e);return F}function Qs(e,t){return function(n,r){return jf(n,e,t(r),{})}}function da(e,t){return function(n,r){var s;if(n===m&&r===m)return t;if(n!==m&&(s=n),r!==m){if(s===m)return r;typeof n=="string"||typeof r=="string"?(n=vt(n),r=vt(r)):(n=qs(n),r=qs(r)),s=e(n,r)}return s}}function Pi(e){return un(function(t){return t=j(t,Se(te())),ce(function(n){var r=this;return e(t,function(s){return l(s,r,n)})})})}function fa(e,t){t=t===m?" ":vt(t);var n=t.length;if(n<2)return n?Ni(t,e):t;var r=Ni(t,Na(e/Vt(t)));return He(t)?vn(Ge(r),0,e).join(""):r.slice(0,e)}function Zf(e,t,n,r){function s(){for(var y=-1,_=arguments.length,A=-1,F=r.length,R=Ze(F+_),D=this&&this!==Qe&&this instanceof s?h:e;++A<F;)R[A]=r[A];for(;_--;)R[A++]=arguments[++y];return l(D,c?n:this,R)}var c=t&ct,h=Sr(e);return s}function eu(e){return function(t,n,r){return r&&typeof r!="number"&&ut(t,n,r)&&(n=r=m),t=dn(t),n===m?(n=t,t=0):n=dn(n),r=r===m?t<n?1:-1:dn(r),Lf(t,n,r,e)}}function pa(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Nt(t),n=Nt(n)),e(t,n)}}function tu(e,t,n,r,s,c,h,y,_,A){var F=t&Tt,R=F?h:m,D=F?m:h,z=F?c:m,K=F?m:c;t|=F?ze:Rn,t&=~(F?Rn:ze),t&Zr||(t&=-4);var se=[e,t,s,z,R,K,D,y,_,A],J=n.apply(m,se);return Hi(e)&&Qu(J,se),J.placeholder=r,fu(J,e,t)}function Ui(e){var t=ur[e];return function(n,r){if(n=Nt(n),r=r==null?0:tt(ue(r),292),r&&Vu(n)){var s=(Ce(n)+"e").split("e");return s=(Ce(t(s[0]+"e"+(+s[1]+r)))+"e").split("e"),+(s[0]+"e"+(+s[1]-r))}return t(n)}}function nu(e){return function(t){var n=nt(t);return n==kt?Bt(t):n==Dt?Ya(t):H(t,e(t))}}function sn(e,t,n,r,s,c,h,y){var _=t&Ht;if(!_&&typeof e!="function")throw new It(ot);var A=r?r.length:0;if(A||(t&=-97,r=s=m),h=h===m?h:Ke(ue(h),0),y=y===m?y:ue(y),A-=s?s.length:0,t&Rn){var F=r,R=s;r=s=m}var D=_?m:fo(e),z=[e,t,n,r,s,F,R,c,h,y];if(D&&up(z,D),e=z[0],t=z[1],n=z[2],r=z[3],s=z[4],y=z[9]=z[9]===m?_?0:e.length:Ke(z[9]-A,0),!y&&t&(Tt|gn)&&(t&=-25),t&&t!=ct)K=t==Tt||t==gn?Gf(e,t,y):t!=ze&&t!=(ct|ze)||s.length?ca.apply(m,z):Zf(e,t,n,r);else var K=Hf(e,t,n);return fu((D?Yu:Qu)(K,z),e,t)}function ru(e,t,n,r){return e===m||Pt(e,lr[n])&&!_e.call(r,n)?t:e}function au(e,t,n,r,s,c){return $e(e)&&$e(t)&&(c.set(t,e),oa(e,t,m,au,c),c.delete(t)),e}function Kf(e){return Nr(e)?m:e}function iu(e,t,n,r,s,c){var h=n&yt,y=e.length,_=t.length;if(y!=_&&!(h&&_>y))return!1;var A=c.get(e),F=c.get(t);if(A&&F)return A==t&&F==e;var R=-1,D=!0,z=n&An?new Ln:m;for(c.set(e,t),c.set(t,e);++R<y;){var K=e[R],se=t[R];if(r)var J=h?r(se,K,R,t,e,c):r(K,se,R,e,t,c);if(J!==m){if(J)continue;D=!1;break}if(z){if(!T(t,function(fe,pe){if(!Ye(z,pe)&&(K===fe||s(K,fe,n,r,c)))return z.push(pe)})){D=!1;break}}else if(K!==se&&!s(K,se,n,r,c)){D=!1;break}}return c.delete(e),c.delete(t),D}function Yf(e,t,n,r,s,c,h){switch(n){case tr:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Tr:return!(e.byteLength!=t.byteLength||!c(new Aa(e),new Aa(t)));case ke:case Ae:case $n:return Pt(+e,+t);case Qn:return e.name==t.name&&e.message==t.message;case _r:case jr:return e==t+"";case kt:var y=Bt;case Dt:var _=r&yt;if(y||(y=Zn),e.size!=t.size&&!_)return!1;var A=h.get(e);if(A)return A==t;r|=An,h.set(e,t);var F=iu(y(e),y(t),r,s,c,h);return h.delete(e),F;case Qr:if(Dr)return Dr.call(e)==Dr.call(t)}return!1}function Jf(e,t,n,r,s,c){var h=n&yt,y=Wi(e),_=y.length;if(_!=Wi(t).length&&!h)return!1;for(var A=_;A--;){var F=y[A];if(!(h?F in t:_e.call(t,F)))return!1}var R=c.get(e),D=c.get(t);if(R&&D)return R==t&&D==e;var z=!0;c.set(e,t),c.set(t,e);for(var K=h;++A<_;){F=y[A];var se=e[F],J=t[F];if(r)var fe=h?r(J,se,F,t,e,c):r(se,J,F,e,t,c);if(!(fe===m?se===J||s(se,J,n,r,c):fe)){z=!1;break}K||(K=F=="constructor")}if(z&&!K){var pe=e.constructor,rt=t.constructor;pe!=rt&&"constructor"in e&&"constructor"in t&&!(typeof pe=="function"&&pe instanceof pe&&typeof rt=="function"&&rt instanceof rt)&&(z=!1)}return c.delete(e),c.delete(t),z}function un(e){return mo(cu(e,m,bu),e+"")}function Wi(e){return Fs(e,Je,po)}function zi(e){return Fs(e,mt,Xu)}function ma(e){for(var t=e.name+"",n=dr[t],r=_e.call(dr,t)?n.length:0;r--;){var s=n[r],c=s.func;if(c==null||c==e)return s.name}return t}function or(e){return(_e.call(i,"placeholder")?i:e).placeholder}function te(){var e=i.iteratee||eo;return e=e===eo?Rs:e,arguments.length?e(arguments[0],arguments[1]):e}function ha(e,t){var n=e.__data__;return ip(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Bi(e){for(var t=Je(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,uu(s)]}return t}function Dn(e,t){var n=We(e,t);return As(n)?n:m}function Xf(e){var t=_e.call(e,Pn),n=e[Pn];try{e[Pn]=m;var r=!0}catch{}var s=Fa.call(e);return r&&(t?e[Pn]=n:delete e[Pn]),s}function Qf(e,t,n){for(var r=-1,s=n.length;++r<s;){var c=n[r],h=c.size;switch(c.type){case"drop":e+=h;break;case"dropRight":t-=h;break;case"take":t=tt(t,e+h);break;case"takeRight":e=Ke(e,t-h)}}return{start:e,end:t}}function ep(e){var t=e.match(Kc);return t?t[1].split(Yc):[]}function ou(e,t,n){t=yn(t,e);for(var r=-1,s=t.length,c=!1;++r<s;){var h=Yt(t[r]);if(!(c=e!=null&&n(e,h)))break;e=e[h]}return c||++r!=s?c:(s=e==null?0:e.length,!!s&&Ca(s)&&ln(h,s)&&(ie(e)||Un(e)))}function tp(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&_e.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function su(e){return typeof e.constructor!="function"||$r(e)?{}:fr(Ra(e))}function np(e,t,n){var r=e.constructor;switch(t){case Tr:return qi(e);case ke:case Ae:return new r(+e);case tr:return Pf(e,n);case ai:case ii:case oi:case si:case ui:case li:case ci:case di:case fi:return Bs(e,n);case kt:return new r;case $n:case jr:return new r(e);case _r:return Uf(e);case Dt:return new r;case Qr:return Wf(e)}}function rp(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Zc,`{
/* [wrapped with `+t+`] */
`)}function ap(e){return ie(e)||Un(e)||!!(Bu&&e&&e[Bu])}function ln(e,t){var n=typeof e;return t=t??Gt,!!t&&(n=="number"||n!="symbol"&&id.test(e))&&e>-1&&e%1==0&&e<t}function ut(e,t,n){if(!$e(n))return!1;var r=typeof t;return!!(r=="number"?pt(n)&&ln(t,n.length):r=="string"&&t in n)&&Pt(n[t],e)}function Vi(e,t){if(ie(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!xt(e))||Bc.test(e)||!zc.test(e)||t!=null&&e in Me(t)}function ip(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Hi(e){var t=ma(e),n=i[t];if(typeof n!="function"||!(t in W.prototype))return!1;if(e===n)return!0;var r=fo(n);return!!r&&e===r[0]}function op(e){return!!Pu&&Pu in e}function $r(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||lr)}function uu(e){return e===e&&!$e(e)}function lu(e,t){return function(n){return n!=null&&n[e]===t&&(t!==m||e in Me(n))}}function sp(e){var t=va(e,function(r){return n.size===Jn&&n.clear(),r}),n=t.cache;return t}function up(e,t){var n=e[1],r=t[1],s=n|r,c=s<(ct|Ht|Mt),h=r==Mt&&n==Tt||r==Mt&&n==Sn&&e[7].length<=t[8]||r==(Mt|Sn)&&t[7].length<=t[8]&&n==Tt;if(!c&&!h)return e;r&ct&&(e[2]=t[2],s|=n&ct?0:Zr);var y=t[3];if(y){var _=e[3];e[3]=_?Hs(_,y,t[4]):y,e[4]=_?wt(e[3],kn):t[4]}return y=t[5],y&&(_=e[5],e[5]=_?Gs(_,y,t[6]):y,e[6]=_?wt(e[5],kn):t[6]),y=t[7],y&&(e[7]=y),r&Mt&&(e[8]=e[8]==null?t[8]:tt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=s,e}function lp(e){var t=[];if(e!=null)for(var n in Me(e))t.push(n);return t}function cp(e){return Fa.call(e)}function cu(e,t,n){return t=Ke(t===m?e.length-1:t,0),function(){for(var r=arguments,s=-1,c=Ke(r.length-t,0),h=Ze(c);++s<c;)h[s]=r[t+s];s=-1;for(var y=Ze(t+1);++s<t;)y[s]=r[s];return y[t]=n(h),l(e,this,y)}}function du(e,t){return t.length<2?e:On(e,St(t,0,-1))}function dp(e,t){for(var n=e.length,r=tt(t.length,n),s=ft(e);r--;){var c=t[r];e[r]=ln(c,n)?s[c]:m}return e}function Gi(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]}function fu(e,t,n){var r=t+"";return mo(e,rp(r,fp(ep(r),n)))}function pu(e){var t=0,n=0;return function(){var r=xg(),s=ei-(r-n);if(n=r,s>0){if(++t>=Kr)return arguments[0]}else t=0;return e.apply(m,arguments)}}function ga(e,t){var n=-1,r=e.length,s=r-1;for(t=t===m?r:t;++n<t;){var c=$i(n,s),h=e[c];e[c]=e[n],e[n]=h}return e.length=t,e}function Yt(e){if(typeof e=="string"||xt(e))return e;var t=e+"";return t=="0"&&1/e==-tn?"-0":t}function qn(e){if(e!=null){try{return Ma.call(e)}catch{}try{return e+""}catch{}}return""}function fp(e,t){return d(X,function(n){var r="_."+n[0];t&n[1]&&!v(e,r)&&e.push(r)}),e.sort()}function mu(e){if(e instanceof W)return e.clone();var t=new Q(e.__wrapped__,e.__chain__);return t.__actions__=ft(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function pp(e,t,n){t=(n?ut(e,t,n):t===m)?1:Ke(ue(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var s=0,c=0,h=Ze(Na(r/t));s<r;)h[c++]=St(e,s,s+=t);return h}function mp(e){for(var t=-1,n=e==null?0:e.length,r=0,s=[];++t<n;){var c=e[t];c&&(s[r++]=c)}return s}function hp(){var e=arguments.length;if(!e)return[];for(var t=Ze(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return k(ie(n)?ft(n):[n],et(t,1))}function gp(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===m?1:ue(t),St(e,t<0?0:t,r)):[]}function bp(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===m?1:ue(t),t=r-t,St(e,0,t<0?0:t)):[]}function yp(e,t){return e&&e.length?ua(e,te(t,3),!0,!0):[]}function vp(e,t){return e&&e.length?ua(e,te(t,3),!0):[]}function xp(e,t,n,r){var s=e==null?0:e.length;return s?(n&&typeof n!="number"&&ut(e,t,n)&&(n=0,r=s),vf(e,t,n,r)):[]}function hu(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=n==null?0:ue(n);return s<0&&(s=Ke(r+s,0)),N(e,te(t,3),s)}function gu(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=r-1;return n!==m&&(s=ue(n),s=n<0?Ke(r+s,0):tt(s,r-1)),N(e,te(t,3),s,!0)}function bu(e){return e!=null&&e.length?et(e,1):[]}function Cp(e){return e!=null&&e.length?et(e,tn):[]}function _p(e,t){return e!=null&&e.length?(t=t===m?1:ue(t),et(e,t)):[]}function jp(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r}function yu(e){return e&&e.length?e[0]:m}function wp(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=n==null?0:ue(n);return s<0&&(s=Ke(r+s,0)),$(e,t,s)}function Tp(e){return e!=null&&e.length?St(e,0,-1):[]}function Mp(e,t){return e==null?"":yg.call(e,t)}function $t(e){var t=e==null?0:e.length;return t?e[t-1]:m}function Fp(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=r;return n!==m&&(s=ue(n),s=s<0?Ke(r+s,0):tt(s,r-1)),t===t?hn(e,t,s):N(e,L,s,!0)}function kp(e,t){return e&&e.length?Is(e,ue(t)):m}function vu(e,t){return e&&e.length&&t&&t.length?Si(e,t):e}function Ap(e,t,n){return e&&e.length&&t&&t.length?Si(e,t,te(n,2)):e}function Rp(e,t,n){return e&&e.length&&t&&t.length?Si(e,t,m,n):e}function Sp(e,t){var n=[];if(!e||!e.length)return n;var r=-1,s=[],c=e.length;for(t=te(t,3);++r<c;){var h=e[r];t(h,r,e)&&(n.push(h),s.push(r))}return Os(e,s),n}function Zi(e){return e==null?e:_g.call(e)}function $p(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&ut(e,t,n)?(t=0,n=r):(t=t==null?0:ue(t),n=n===m?r:ue(n)),St(e,t,n)):[]}function Np(e,t){return sa(e,t)}function Ip(e,t,n){return Ii(e,t,te(n,2))}function Lp(e,t){var n=e==null?0:e.length;if(n){var r=sa(e,t);if(r<n&&Pt(e[r],t))return r}return-1}function Ep(e,t){return sa(e,t,!0)}function Op(e,t,n){return Ii(e,t,te(n,2),!0)}function Dp(e,t){if(e!=null&&e.length){var n=sa(e,t,!0)-1;if(Pt(e[n],t))return n}return-1}function qp(e){return e&&e.length?Ds(e):[]}function Pp(e,t){return e&&e.length?Ds(e,te(t,2)):[]}function Up(e){var t=e==null?0:e.length;return t?St(e,1,t):[]}function Wp(e,t,n){return e&&e.length?(t=n||t===m?1:ue(t),St(e,0,t<0?0:t)):[]}function zp(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===m?1:ue(t),t=r-t,St(e,t<0?0:t,r)):[]}function Bp(e,t){return e&&e.length?ua(e,te(t,3),!1,!0):[]}function Vp(e,t){return e&&e.length?ua(e,te(t,3)):[]}function Hp(e){return e&&e.length?bn(e):[]}function Gp(e,t){return e&&e.length?bn(e,te(t,2)):[]}function Zp(e,t){return t=typeof t=="function"?t:m,e&&e.length?bn(e,m,t):[]}function Ki(e){if(!e||!e.length)return[];var t=0;return e=g(e,function(n){if(Be(n))return t=Ke(n.length,t),!0}),oe(t,function(n){return j(e,me(n))})}function xu(e,t){if(!e||!e.length)return[];var n=Ki(e);return t==null?n:j(n,function(r){return l(t,m,r)})}function Kp(e,t){return Ws(e||[],t||[],Mr)}function Yp(e,t){return Ws(e||[],t||[],Rr)}function Cu(e){var t=i(e);return t.__chain__=!0,t}function Jp(e,t){return t(e),e}function ba(e,t){return t(e)}function Xp(){return Cu(this)}function Qp(){return new Q(this.value(),this.__chain__)}function em(){this.__values__===m&&(this.__values__=Su(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?m:this.__values__[this.__index__++]}}function tm(){return this}function nm(e){for(var t,n=this;n instanceof P;){var r=mu(n);r.__index__=0,r.__values__=m,t?s.__wrapped__=r:t=r;var s=r;n=n.__wrapped__}return s.__wrapped__=e,t}function rm(){var e=this.__wrapped__;if(e instanceof W){var t=e;return this.__actions__.length&&(t=new W(this)),t=t.reverse(),t.__actions__.push({func:ba,args:[Zi],thisArg:m}),new Q(t,this.__chain__)}return this.thru(Zi)}function am(){return Us(this.__wrapped__,this.__actions__)}function im(e,t,n){var r=ie(e)?p:yf;return n&&ut(e,t,n)&&(t=m),r(e,te(t,3))}function om(e,t){return(ie(e)?g:Ms)(e,te(t,3))}function sm(e,t){return et(ya(e,t),1)}function um(e,t){return et(ya(e,t),tn)}function lm(e,t,n){return n=n===m?1:ue(n),et(ya(e,t),n)}function _u(e,t){return(ie(e)?d:Cn)(e,te(t,3))}function ju(e,t){return(ie(e)?b:Zu)(e,te(t,3))}function cm(e,t,n,r){e=pt(e)?e:sr(e),n=n&&!r?ue(n):0;var s=e.length;return n<0&&(n=Ke(s+n,0)),_a(e)?n<=s&&e.indexOf(t,n)>-1:!!s&&$(e,t,n)>-1}function ya(e,t){return(ie(e)?j:Ss)(e,te(t,3))}function dm(e,t,n,r){return e==null?[]:(ie(t)||(t=t==null?[]:[t]),n=r?m:n,ie(n)||(n=n==null?[]:[n]),Ls(e,t,n))}function fm(e,t,n){var r=ie(e)?O:Ee,s=arguments.length<3;return r(e,te(t,4),n,s,Cn)}function pm(e,t,n){var r=ie(e)?Z:Ee,s=arguments.length<3;return r(e,te(t,4),n,s,Zu)}function mm(e,t){return(ie(e)?g:Ms)(e,xa(te(t,3)))}function hm(e){return(ie(e)?_s:Ef)(e)}function gm(e,t,n){return t=(n?ut(e,t,n):t===m)?1:ue(t),(ie(e)?pf:Of)(e,t)}function bm(e){return(ie(e)?mf:Df)(e)}function ym(e){if(e==null)return 0;if(pt(e))return _a(e)?Vt(e):e.length;var t=nt(e);return t==kt||t==Dt?e.size:Ai(e).length}function vm(e,t,n){var r=ie(e)?T:qf;return n&&ut(e,t,n)&&(t=m),r(e,te(t,3))}function xm(e,t){if(typeof t!="function")throw new It(ot);return e=ue(e),function(){if(--e<1)return t.apply(this,arguments)}}function wu(e,t,n){return t=n?m:t,t=e&&t==null?e.length:t,sn(e,Mt,m,m,m,m,t)}function Tu(e,t){var n;if(typeof t!="function")throw new It(ot);return e=ue(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=m),n}}function Mu(e,t,n){t=n?m:t;var r=sn(e,Tt,m,m,m,m,m,t);return r.placeholder=Mu.placeholder,r}function Fu(e,t,n){t=n?m:t;var r=sn(e,gn,m,m,m,m,m,t);return r.placeholder=Fu.placeholder,r}function ku(e,t,n){function r(Pe){var Lt=D,Pr=z;return D=z=m,pe=Pe,se=e.apply(Pr,Lt)}function s(Pe){return pe=Pe,J=qr(y,t),rt?r(Pe):se}function c(Pe){var Lt=Pe-fe,Pr=Pe-pe,cl=t-Lt;return gt?tt(cl,K-Pr):cl}function h(Pe){var Lt=Pe-fe,Pr=Pe-pe;return fe===m||Lt>=t||Lt<0||gt&&Pr>=K}function y(){var Pe=Oa();return h(Pe)?_(Pe):(J=qr(y,c(Pe)),m)}function _(Pe){return J=m,jn&&D?r(Pe):(D=z=m,se)}function A(){J!==m&&Ju(J),pe=0,D=fe=z=J=m}function F(){return J===m?se:_(Oa())}function R(){var Pe=Oa(),Lt=h(Pe);if(D=arguments,z=this,fe=Pe,Lt){if(J===m)return s(fe);if(gt)return Ju(J),J=qr(y,t),r(fe)}return J===m&&(J=qr(y,t)),se}var D,z,K,se,J,fe,pe=0,rt=!1,gt=!1,jn=!0;if(typeof e!="function")throw new It(ot);return t=Nt(t)||0,$e(n)&&(rt=!!n.leading,gt="maxWait"in n,K=gt?Ke(Nt(n.maxWait)||0,t):K,jn="trailing"in n?!!n.trailing:jn),R.cancel=A,R.flush=F,R}function Cm(e){return sn(e,xr)}function va(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new It(ot);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],c=n.cache;if(c.has(s))return c.get(s);var h=e.apply(this,r);return n.cache=c.set(s,h)||c,h};return n.cache=new(va.Cache||an),n}function xa(e){if(typeof e!="function")throw new It(ot);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function _m(e){return Tu(2,e)}function jm(e,t){if(typeof e!="function")throw new It(ot);return t=t===m?t:ue(t),ce(e,t)}function wm(e,t){if(typeof e!="function")throw new It(ot);return t=t==null?0:Ke(ue(t),0),ce(function(n){var r=n[t],s=vn(n,0,t);return r&&k(s,r),l(e,this,s)})}function Tm(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new It(ot);return $e(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),ku(e,t,{leading:r,maxWait:t,trailing:s})}function Mm(e){return wu(e,1)}function Fm(e,t){return go(Di(t),e)}function km(){if(!arguments.length)return[];var e=arguments[0];return ie(e)?e:[e]}function Am(e){return Rt(e,bt)}function Rm(e,t){return t=typeof t=="function"?t:m,Rt(e,bt,t)}function Sm(e){return Rt(e,Ot|bt)}function $m(e,t){return t=typeof t=="function"?t:m,Rt(e,Ot|bt,t)}function Nm(e,t){return t==null||ws(e,t,Je(t))}function Pt(e,t){return e===t||e!==e&&t!==t}function pt(e){return e!=null&&Ca(e.length)&&!cn(e)}function Be(e){return qe(e)&&pt(e)}function Im(e){return e===!0||e===!1||qe(e)&&st(e)==ke}function Lm(e){return qe(e)&&e.nodeType===1&&!Nr(e)}function Em(e){if(e==null)return!0;if(pt(e)&&(ie(e)||typeof e=="string"||typeof e.splice=="function"||_n(e)||pr(e)||Un(e)))return!e.length;var t=nt(e);if(t==kt||t==Dt)return!e.size;if($r(e))return!Ai(e).length;for(var n in e)if(_e.call(e,n))return!1;return!0}function Om(e,t){return Ar(e,t)}function Dm(e,t,n){n=typeof n=="function"?n:m;var r=n?n(e,t):m;return r===m?Ar(e,t,m,n):!!r}function Yi(e){if(!qe(e))return!1;var t=st(e);return t==Qn||t==Xe||typeof e.message=="string"&&typeof e.name=="string"&&!Nr(e)}function qm(e){return typeof e=="number"&&Vu(e)}function cn(e){if(!$e(e))return!1;var t=st(e);return t==er||t==Xr||t==de||t==Nc}function Au(e){return typeof e=="number"&&e==ue(e)}function Ca(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Gt}function $e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function qe(e){return e!=null&&typeof e=="object"}function Pm(e,t){return e===t||ki(e,t,Bi(t))}function Um(e,t,n){return n=typeof n=="function"?n:m,ki(e,t,Bi(t),n)}function Wm(e){return Ru(e)&&e!=+e}function zm(e){if(Sg(e))throw new io(br);return As(e)}function Bm(e){return e===null}function Vm(e){return e==null}function Ru(e){return typeof e=="number"||qe(e)&&st(e)==$n}function Nr(e){if(!qe(e)||st(e)!=nn)return!1;var t=Ra(e);if(t===null)return!0;var n=_e.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Ma.call(n)==dg}function Hm(e){return Au(e)&&e>=-Gt&&e<=Gt}function _a(e){return typeof e=="string"||!ie(e)&&qe(e)&&st(e)==jr}function xt(e){return typeof e=="symbol"||qe(e)&&st(e)==Qr}function Gm(e){return e===m}function Zm(e){return qe(e)&&nt(e)==wr}function Km(e){return qe(e)&&st(e)==Lc}function Su(e){if(!e)return[];if(pt(e))return _a(e)?Ge(e):ft(e);if(Ir&&e[Ir])return Qt(e[Ir]());var t=nt(e);return(t==kt?Bt:t==Dt?Zn:sr)(e)}function dn(e){return e?(e=Nt(e),e===tn||e===-tn?(e<0?-1:1)*ti:e===e?e:0):e===0?e:0}function ue(e){var t=dn(e),n=t%1;return t===t?n?t-n:t:0}function $u(e){return e?En(ue(e),0,Ft):0}function Nt(e){if(typeof e=="number")return e;if(xt(e))return Xn;if($e(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=$e(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=pn(e);var n=nd.test(e);return n||ad.test(e)?Ed(e.slice(2),n?2:8):td.test(e)?Xn:+e}function Nu(e){return Kt(e,mt(e))}function Ym(e){return e?En(ue(e),-Gt,Gt):e===0?e:0}function Ce(e){return e==null?"":vt(e)}function Jm(e,t){var n=fr(e);return t==null?n:js(n,t)}function Xm(e,t){return E(e,te(t,3),Zt)}function Qm(e,t){return E(e,te(t,3),Ti)}function eh(e,t){return e==null?e:co(e,te(t,3),mt)}function th(e,t){return e==null?e:Ku(e,te(t,3),mt)}function nh(e,t){return e&&Zt(e,te(t,3))}function rh(e,t){return e&&Ti(e,te(t,3))}function ah(e){return e==null?[]:ia(e,Je(e))}function ih(e){return e==null?[]:ia(e,mt(e))}function Ji(e,t,n){var r=e==null?m:On(e,t);return r===m?n:r}function oh(e,t){return e!=null&&ou(e,t,xf)}function Xi(e,t){return e!=null&&ou(e,t,Cf)}function Je(e){return pt(e)?Cs(e):Ai(e)}function mt(e){return pt(e)?Cs(e,!0):Sf(e)}function sh(e,t){var n={};return t=te(t,3),Zt(e,function(r,s,c){on(n,t(r,s,c),r)}),n}function uh(e,t){var n={};return t=te(t,3),Zt(e,function(r,s,c){on(n,s,t(r,s,c))}),n}function lh(e,t){return Iu(e,xa(te(t)))}function Iu(e,t){if(e==null)return{};var n=j(zi(e),function(r){return[r]});return t=te(t),Es(e,n,function(r,s){return t(r,s[0])})}function ch(e,t,n){t=yn(t,e);var r=-1,s=t.length;for(s||(s=1,e=m);++r<s;){var c=e==null?m:e[Yt(t[r])];c===m&&(r=s,c=n),e=cn(c)?c.call(e):c}return e}function dh(e,t,n){return e==null?e:Rr(e,t,n)}function fh(e,t,n,r){return r=typeof r=="function"?r:m,e==null?e:Rr(e,t,n,r)}function ph(e,t,n){var r=ie(e),s=r||_n(e)||pr(e);if(t=te(t,4),n==null){var c=e&&e.constructor;n=s?r?new c:[]:$e(e)&&cn(c)?fr(Ra(e)):{}}return(s?d:Zt)(e,function(h,y,_){return t(n,h,y,_)}),n}function mh(e,t){return e==null||Li(e,t)}function hh(e,t,n){return e==null?e:Ps(e,t,Di(n))}function gh(e,t,n,r){return r=typeof r=="function"?r:m,e==null?e:Ps(e,t,Di(n),r)}function sr(e){return e==null?[]:jt(e,Je(e))}function bh(e){return e==null?[]:jt(e,mt(e))}function yh(e,t,n){return n===m&&(n=t,t=m),n!==m&&(n=Nt(n),n=n===n?n:0),t!==m&&(t=Nt(t),t=t===t?t:0),En(Nt(e),t,n)}function vh(e,t,n){return t=dn(t),n===m?(n=t,t=0):n=dn(n),e=Nt(e),_f(e,t,n)}function xh(e,t,n){if(n&&typeof n!="boolean"&&ut(e,t,n)&&(t=n=m),n===m&&(typeof t=="boolean"?(n=t,t=m):typeof e=="boolean"&&(n=e,e=m)),e===m&&t===m?(e=0,t=1):(e=dn(e),t===m?(t=e,e=0):t=dn(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var s=Hu();return tt(e+s*(t-e+Ld("1e-"+((s+"").length-1))),t)}return $i(e,t)}function Lu(e){return yo(Ce(e).toLowerCase())}function Eu(e){return e=Ce(e),e&&e.replace(od,qd).replace(Td,"")}function Ch(e,t,n){e=Ce(e),t=vt(t);var r=e.length;n=n===m?r:En(ue(n),0,r);var s=n;return n-=t.length,n>=0&&e.slice(n,s)==t}function _h(e){return e=Ce(e),e&&Pc.test(e)?e.replace(Ho,Pd):e}function jh(e){return e=Ce(e),e&&Hc.test(e)?e.replace(pi,"\\$&"):e}function wh(e,t,n){e=Ce(e),t=ue(t);var r=t?Vt(e):0;if(!t||r>=t)return e;var s=(t-r)/2;return fa(Ia(s),n)+e+fa(Na(s),n)}function Th(e,t,n){e=Ce(e),t=ue(t);var r=t?Vt(e):0;return t&&r<t?e+fa(t-r,n):e}function Mh(e,t,n){e=Ce(e),t=ue(t);var r=t?Vt(e):0;return t&&r<t?fa(t-r,n)+e:e}function Fh(e,t,n){return n||t==null?t=0:t&&(t=+t),Cg(Ce(e).replace(mi,""),t||0)}function kh(e,t,n){return t=(n?ut(e,t,n):t===m)?1:ue(t),Ni(Ce(e),t)}function Ah(){var e=arguments,t=Ce(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function Rh(e,t,n){return n&&typeof n!="number"&&ut(e,t,n)&&(t=n=m),(n=n===m?Ft:n>>>0)?(e=Ce(e),e&&(typeof t=="string"||t!=null&&!bo(t))&&(t=vt(t),!t&&He(e))?vn(Ge(e),0,n):e.split(t,n)):[]}function Sh(e,t,n){return e=Ce(e),n=n==null?0:En(ue(n),0,e.length),t=vt(t),e.slice(n,n+t.length)==t}function $h(e,t,n){var r=i.templateSettings;n&&ut(e,t,n)&&(t=m),e=Ce(e),t=Da({},t,r,ru);var s,c,h=Da({},t.imports,r.imports,ru),y=Je(h),_=jt(h,y),A=0,F=t.interpolate||ea,R="__p += '",D=oo((t.escape||ea).source+"|"+F.source+"|"+(F===Go?ed:ea).source+"|"+(t.evaluate||ea).source+"|$","g"),z="//# sourceURL="+(_e.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Rd+"]")+`
`;e.replace(D,function(J,fe,pe,rt,gt,jn){return pe||(pe=rt),R+=e.slice(A,jn).replace(sd,U),fe&&(s=!0,R+=`' +
__e(`+fe+`) +
'`),gt&&(c=!0,R+=`';
`+gt+`;
__p += '`),pe&&(R+=`' +
((__t = (`+pe+`)) == null ? '' : __t) +
'`),A=jn+J.length,J}),R+=`';
`;var K=_e.call(t,"variable")&&t.variable;if(K){if(Xc.test(K))throw new io(yr)}else R=`with (obj) {
`+R+`
}
`;R=(c?R.replace(Ec,""):R).replace(Oc,"$1").replace(Dc,"$1;"),R="function("+(K||"obj")+`) {
`+(K?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(s?", __e = _.escape":"")+(c?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+R+`return __p
}`;var se=ll(function(){return qu(y,z+"return "+R).apply(m,_)});if(se.source=R,Yi(se))throw se;return se}function Nh(e){return Ce(e).toLowerCase()}function Ih(e){return Ce(e).toUpperCase()}function Lh(e,t,n){if(e=Ce(e),e&&(n||t===m))return pn(e);if(!e||!(t=vt(t)))return e;var r=Ge(e),s=Ge(t);return vn(r,mn(r,s),Y(r,s)+1).join("")}function Eh(e,t,n){if(e=Ce(e),e&&(n||t===m))return e.slice(0,it(e)+1);if(!e||!(t=vt(t)))return e;var r=Ge(e);return vn(r,0,Y(r,Ge(t))+1).join("")}function Oh(e,t,n){if(e=Ce(e),e&&(n||t===m))return e.replace(mi,"");if(!e||!(t=vt(t)))return e;var r=Ge(e);return vn(r,mn(r,Ge(t))).join("")}function Dh(e,t){var n=Xa,r=Qa;if($e(t)){var s="separator"in t?t.separator:s;n="length"in t?ue(t.length):n,r="omission"in t?vt(t.omission):r}e=Ce(e);var c=e.length;if(He(e)){var h=Ge(e);c=h.length}if(n>=c)return e;var y=n-Vt(r);if(y<1)return r;var _=h?vn(h,0,y).join(""):e.slice(0,y);if(s===m)return _+r;if(h&&(y+=_.length-y),bo(s)){if(e.slice(y).search(s)){var A,F=_;for(s.global||(s=oo(s.source,Ce(Zo.exec(s))+"g")),s.lastIndex=0;A=s.exec(F);)var R=A.index;_=_.slice(0,R===m?y:R)}}else if(e.indexOf(vt(s),y)!=y){var D=_.lastIndexOf(s);D>-1&&(_=_.slice(0,D))}return _+r}function qh(e){return e=Ce(e),e&&qc.test(e)?e.replace(Vo,Ud):e}function Ou(e,t,n){return e=Ce(e),t=n?m:t,t===m?zt(e)?ye(e):S(e):e.match(t)||[]}function Ph(e){var t=e==null?0:e.length,n=te();return e=t?j(e,function(r){if(typeof r[1]!="function")throw new It(ot);return[n(r[0]),r[1]]}):[],ce(function(r){for(var s=-1;++s<t;){var c=e[s];if(l(c[0],this,r))return l(c[1],this,r)}})}function Uh(e){return bf(Rt(e,Ot))}function Qi(e){return function(){return e}}function Wh(e,t){return e==null||e!==e?t:e}function ht(e){return e}function eo(e){return Rs(typeof e=="function"?e:Rt(e,Ot))}function zh(e){return $s(Rt(e,Ot))}function Bh(e,t){return Ns(e,Rt(t,Ot))}function to(e,t,n){var r=Je(t),s=ia(t,r);n!=null||$e(t)&&(s.length||!r.length)||(n=t,t=e,e=this,s=ia(t,Je(t)));var c=!($e(n)&&"chain"in n&&!n.chain),h=cn(e);return d(s,function(y){var _=t[y];e[y]=_,h&&(e.prototype[y]=function(){var A=this.__chain__;if(c||A){var F=e(this.__wrapped__);return(F.__actions__=ft(this.__actions__)).push({func:_,args:arguments,thisArg:e}),F.__chain__=A,F}return _.apply(e,k([this.value()],arguments))})}),e}function Vh(){return Qe._===this&&(Qe._=fg),this}function no(){}function Hh(e){return e=ue(e),ce(function(t){return Is(t,e)})}function Du(e){return Vi(e)?me(Yt(e)):If(e)}function Gh(e){return function(t){return e==null?m:On(e,t)}}function ro(){return[]}function ao(){return!1}function Zh(){return{}}function Kh(){return""}function Yh(){return!0}function Jh(e,t){if(e=ue(e),e<1||e>Gt)return[];var n=Ft,r=tt(e,Ft);t=te(t),e-=Ft;for(var s=oe(r,t);++n<e;)t(n);return s}function Xh(e){return ie(e)?j(e,Yt):xt(e)?[e]:ft(el(Ce(e)))}function Qh(e){var t=++cg;return Ce(e)+t}function eg(e){return e&&e.length?aa(e,ht,Mi):m}function tg(e,t){return e&&e.length?aa(e,te(t,2),Mi):m}function ng(e){return ne(e,ht)}function rg(e,t){return ne(e,te(t,2))}function ag(e){return e&&e.length?aa(e,ht,Ri):m}function ig(e,t){return e&&e.length?aa(e,te(t,2),Ri):m}function og(e){return e&&e.length?lt(e,ht):0}function sg(e,t){return e&&e.length?lt(e,te(t,2)):0}M=M==null?Qe:rr.defaults(Qe.Object(),M,rr.pick(Qe,Ad));var Ze=M.Array,ja=M.Date,io=M.Error,qu=M.Function,ur=M.Math,Me=M.Object,oo=M.RegExp,ug=M.String,It=M.TypeError,wa=Ze.prototype,lg=qu.prototype,lr=Me.prototype,Ta=M["__core-js_shared__"],Ma=lg.toString,_e=lr.hasOwnProperty,cg=0,Pu=function(){var e=/[^.]+$/.exec(Ta&&Ta.keys&&Ta.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fa=lr.toString,dg=Ma.call(Me),fg=Qe._,pg=oo("^"+Ma.call(_e).replace(pi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ka=ms?M.Buffer:m,xn=M.Symbol,Aa=M.Uint8Array,Uu=ka?ka.allocUnsafe:m,Ra=Fn(Me.getPrototypeOf,Me),Wu=Me.create,zu=lr.propertyIsEnumerable,Sa=wa.splice,Bu=xn?xn.isConcatSpreadable:m,Ir=xn?xn.iterator:m,Pn=xn?xn.toStringTag:m,$a=function(){try{var e=Dn(Me,"defineProperty");return e({},"",{}),e}catch{}}(),mg=M.clearTimeout!==Qe.clearTimeout&&M.clearTimeout,hg=ja&&ja.now!==Qe.Date.now&&ja.now,gg=M.setTimeout!==Qe.setTimeout&&M.setTimeout,Na=ur.ceil,Ia=ur.floor,so=Me.getOwnPropertySymbols,bg=ka?ka.isBuffer:m,Vu=M.isFinite,yg=wa.join,vg=Fn(Me.keys,Me),Ke=ur.max,tt=ur.min,xg=ja.now,Cg=M.parseInt,Hu=ur.random,_g=wa.reverse,uo=Dn(M,"DataView"),Lr=Dn(M,"Map"),lo=Dn(M,"Promise"),cr=Dn(M,"Set"),Er=Dn(M,"WeakMap"),Or=Dn(Me,"create"),La=Er&&new Er,dr={},jg=qn(uo),wg=qn(Lr),Tg=qn(lo),Mg=qn(cr),Fg=qn(Er),Ea=xn?xn.prototype:m,Dr=Ea?Ea.valueOf:m,Gu=Ea?Ea.toString:m,fr=function(){function e(){}return function(t){if(!$e(t))return{};if(Wu)return Wu(t);e.prototype=t;var n=new e;return e.prototype=m,n}}();i.templateSettings={escape:Uc,evaluate:Wc,interpolate:Go,variable:"",imports:{_:i}},i.prototype=P.prototype,i.prototype.constructor=i,Q.prototype=fr(P.prototype),Q.prototype.constructor=Q,W.prototype=fr(P.prototype),W.prototype.constructor=W,In.prototype.clear=Bd,In.prototype.delete=Vd,In.prototype.get=Hd,In.prototype.has=Gd,In.prototype.set=Zd,rn.prototype.clear=Kd,rn.prototype.delete=Yd,rn.prototype.get=Jd,rn.prototype.has=Xd,rn.prototype.set=Qd,an.prototype.clear=ef,an.prototype.delete=tf,an.prototype.get=nf,an.prototype.has=rf,an.prototype.set=af,Ln.prototype.add=Ln.prototype.push=of,Ln.prototype.has=sf,qt.prototype.clear=uf,qt.prototype.delete=lf,qt.prototype.get=cf,qt.prototype.has=df,qt.prototype.set=ff;var Cn=Zs(Zt),Zu=Zs(Ti,!0),co=Ks(),Ku=Ks(!0),Yu=La?function(e,t){return La.set(e,t),e}:ht,kg=$a?function(e,t){return $a(e,"toString",{configurable:!0,enumerable:!1,value:Qi(t),writable:!0})}:ht,Ag=ce,Ju=mg||function(e){return Qe.clearTimeout(e)},Rg=cr&&1/Zn(new cr([,-0]))[1]==tn?function(e){return new cr(e)}:no,fo=La?function(e){return La.get(e)}:no,po=so?function(e){return e==null?[]:(e=Me(e),g(so(e),function(t){return zu.call(e,t)}))}:ro,Xu=so?function(e){for(var t=[];e;)k(t,po(e)),e=Ra(e);return t}:ro,nt=st;(uo&&nt(new uo(new ArrayBuffer(1)))!=tr||Lr&&nt(new Lr)!=kt||lo&&nt(lo.resolve())!=Bo||cr&&nt(new cr)!=Dt||Er&&nt(new Er)!=wr)&&(nt=function(e){var t=st(e),n=t==nn?e.constructor:m,r=n?qn(n):"";if(r)switch(r){case jg:return tr;case wg:return kt;case Tg:return Bo;case Mg:return Dt;case Fg:return wr}return t});var Sg=Ta?cn:ao,Qu=pu(Yu),qr=gg||function(e,t){return Qe.setTimeout(e,t)},mo=pu(kg),el=sp(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Vc,function(n,r,s,c){t.push(s?c.replace(Qc,"$1"):r||n)}),t}),$g=ce(function(e,t){return Be(e)?Fr(e,et(t,1,Be,!0)):[]}),Ng=ce(function(e,t){var n=$t(t);return Be(n)&&(n=m),Be(e)?Fr(e,et(t,1,Be,!0),te(n,2)):[]}),Ig=ce(function(e,t){var n=$t(t);return Be(n)&&(n=m),Be(e)?Fr(e,et(t,1,Be,!0),m,n):[]}),Lg=ce(function(e){var t=j(e,Oi);return t.length&&t[0]===e[0]?Fi(t):[]}),Eg=ce(function(e){var t=$t(e),n=j(e,Oi);return t===$t(n)?t=m:n.pop(),n.length&&n[0]===e[0]?Fi(n,te(t,2)):[]}),Og=ce(function(e){var t=$t(e),n=j(e,Oi);return t=typeof t=="function"?t:m,t&&n.pop(),n.length&&n[0]===e[0]?Fi(n,m,t):[]}),Dg=ce(vu),qg=un(function(e,t){var n=e==null?0:e.length,r=wi(e,t);return Os(e,j(t,function(s){return ln(s,n)?+s:s}).sort(Vs)),r}),Pg=ce(function(e){return bn(et(e,1,Be,!0))}),Ug=ce(function(e){var t=$t(e);return Be(t)&&(t=m),bn(et(e,1,Be,!0),te(t,2))}),Wg=ce(function(e){var t=$t(e);return t=typeof t=="function"?t:m,bn(et(e,1,Be,!0),m,t)}),zg=ce(function(e,t){return Be(e)?Fr(e,t):[]}),Bg=ce(function(e){return Ei(g(e,Be))}),Vg=ce(function(e){var t=$t(e);return Be(t)&&(t=m),Ei(g(e,Be),te(t,2))}),Hg=ce(function(e){var t=$t(e);return t=typeof t=="function"?t:m,Ei(g(e,Be),m,t)}),Gg=ce(Ki),Zg=ce(function(e){var t=e.length,n=t>1?e[t-1]:m;return n=typeof n=="function"?(e.pop(),n):m,xu(e,n)}),Kg=un(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,s=function(c){return wi(c,e)};return!(t>1||this.__actions__.length)&&r instanceof W&&ln(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:ba,args:[s],thisArg:m}),new Q(r,this.__chain__).thru(function(c){return t&&!c.length&&c.push(m),c})):this.thru(s)}),Yg=la(function(e,t,n){_e.call(e,n)?++e[n]:on(e,n,1)}),Jg=Js(hu),Xg=Js(gu),Qg=la(function(e,t,n){_e.call(e,n)?e[n].push(t):on(e,n,[t])}),eb=ce(function(e,t,n){var r=-1,s=typeof t=="function",c=pt(e)?Ze(e.length):[];return Cn(e,function(h){c[++r]=s?l(t,h,n):kr(h,t,n)}),c}),tb=la(function(e,t,n){on(e,n,t)}),nb=la(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),rb=ce(function(e,t){if(e==null)return[];var n=t.length;return n>1&&ut(e,t[0],t[1])?t=[]:n>2&&ut(t[0],t[1],t[2])&&(t=[t[0]]),Ls(e,et(t,1),[])}),Oa=hg||function(){return Qe.Date.now()},ho=ce(function(e,t,n){var r=ct;if(n.length){var s=wt(n,or(ho));r|=ze}return sn(e,r,t,n,s)}),tl=ce(function(e,t,n){var r=ct|Ht;if(n.length){var s=wt(n,or(tl));r|=ze}return sn(t,r,e,n,s)}),ab=ce(function(e,t){return Ts(e,1,t)}),ib=ce(function(e,t,n){return Ts(e,Nt(t)||0,n)});va.Cache=an;var ob=Ag(function(e,t){t=t.length==1&&ie(t[0])?j(t[0],Se(te())):j(et(t,1),Se(te()));var n=t.length;return ce(function(r){for(var s=-1,c=tt(r.length,n);++s<c;)r[s]=t[s].call(this,r[s]);return l(e,this,r)})}),go=ce(function(e,t){return sn(e,ze,m,t,wt(t,or(go)))}),nl=ce(function(e,t){return sn(e,Rn,m,t,wt(t,or(nl)))}),sb=un(function(e,t){return sn(e,Sn,m,m,m,t)}),ub=pa(Mi),lb=pa(function(e,t){return e>=t}),Un=ks(function(){return arguments}())?ks:function(e){return qe(e)&&_e.call(e,"callee")&&!zu.call(e,"callee")},ie=Ze.isArray,cb=hs?Se(hs):wf,_n=bg||ao,db=gs?Se(gs):Tf,rl=bs?Se(bs):Ff,bo=ys?Se(ys):kf,al=vs?Se(vs):Af,pr=xs?Se(xs):Rf,fb=pa(Ri),pb=pa(function(e,t){return e<=t}),mb=ar(function(e,t){if($r(t)||pt(t))return Kt(t,Je(t),e),m;for(var n in t)_e.call(t,n)&&Mr(e,n,t[n])}),il=ar(function(e,t){Kt(t,mt(t),e)}),Da=ar(function(e,t,n,r){Kt(t,mt(t),e,r)}),hb=ar(function(e,t,n,r){Kt(t,Je(t),e,r)}),gb=un(wi),bb=ce(function(e,t){e=Me(e);var n=-1,r=t.length,s=r>2?t[2]:m;for(s&&ut(t[0],t[1],s)&&(r=1);++n<r;)for(var c=t[n],h=mt(c),y=-1,_=h.length;++y<_;){var A=h[y],F=e[A];(F===m||Pt(F,lr[A])&&!_e.call(e,A))&&(e[A]=c[A])}return e}),yb=ce(function(e){return e.push(m,au),l(ol,m,e)}),vb=Qs(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Fa.call(t)),e[t]=n},Qi(ht)),xb=Qs(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Fa.call(t)),_e.call(e,t)?e[t].push(n):e[t]=[n]},te),Cb=ce(kr),_b=ar(function(e,t,n){oa(e,t,n)}),ol=ar(function(e,t,n,r){oa(e,t,n,r)}),jb=un(function(e,t){var n={};if(e==null)return n;var r=!1;t=j(t,function(c){return c=yn(c,e),r||(r=c.length>1),c}),Kt(e,zi(e),n),r&&(n=Rt(n,Ot|en|bt,Kf));for(var s=t.length;s--;)Li(n,t[s]);return n}),wb=un(function(e,t){return e==null?{}:Nf(e,t)}),sl=nu(Je),ul=nu(mt),Tb=ir(function(e,t,n){return t=t.toLowerCase(),e+(n?Lu(t):t)}),Mb=ir(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Fb=ir(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),kb=Ys("toLowerCase"),Ab=ir(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Rb=ir(function(e,t,n){return e+(n?" ":"")+yo(t)}),Sb=ir(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),yo=Ys("toUpperCase"),ll=ce(function(e,t){try{return l(e,m,t)}catch(n){return Yi(n)?n:new io(n)}}),$b=un(function(e,t){return d(t,function(n){n=Yt(n),on(e,n,ho(e[n],e))}),e}),Nb=Xs(),Ib=Xs(!0),Lb=ce(function(e,t){return function(n){return kr(n,e,t)}}),Eb=ce(function(e,t){return function(n){return kr(e,n,t)}}),Ob=Pi(j),Db=Pi(p),qb=Pi(T),Pb=eu(),Ub=eu(!0),Wb=da(function(e,t){return e+t},0),zb=Ui("ceil"),Bb=da(function(e,t){return e/t},1),Vb=Ui("floor"),Hb=da(function(e,t){return e*t},1),Gb=Ui("round"),Zb=da(function(e,t){return e-t},0);return i.after=xm,i.ary=wu,i.assign=mb,i.assignIn=il,i.assignInWith=Da,i.assignWith=hb,i.at=gb,i.before=Tu,i.bind=ho,i.bindAll=$b,i.bindKey=tl,i.castArray=km,i.chain=Cu,i.chunk=pp,i.compact=mp,i.concat=hp,i.cond=Ph,i.conforms=Uh,i.constant=Qi,i.countBy=Yg,i.create=Jm,i.curry=Mu,i.curryRight=Fu,i.debounce=ku,i.defaults=bb,i.defaultsDeep=yb,i.defer=ab,i.delay=ib,i.difference=$g,i.differenceBy=Ng,i.differenceWith=Ig,i.drop=gp,i.dropRight=bp,i.dropRightWhile=yp,i.dropWhile=vp,i.fill=xp,i.filter=om,i.flatMap=sm,i.flatMapDeep=um,i.flatMapDepth=lm,i.flatten=bu,i.flattenDeep=Cp,i.flattenDepth=_p,i.flip=Cm,i.flow=Nb,i.flowRight=Ib,i.fromPairs=jp,i.functions=ah,i.functionsIn=ih,i.groupBy=Qg,i.initial=Tp,i.intersection=Lg,i.intersectionBy=Eg,i.intersectionWith=Og,i.invert=vb,i.invertBy=xb,i.invokeMap=eb,i.iteratee=eo,i.keyBy=tb,i.keys=Je,i.keysIn=mt,i.map=ya,i.mapKeys=sh,i.mapValues=uh,i.matches=zh,i.matchesProperty=Bh,i.memoize=va,i.merge=_b,i.mergeWith=ol,i.method=Lb,i.methodOf=Eb,i.mixin=to,i.negate=xa,i.nthArg=Hh,i.omit=jb,i.omitBy=lh,i.once=_m,i.orderBy=dm,i.over=Ob,i.overArgs=ob,i.overEvery=Db,i.overSome=qb,i.partial=go,i.partialRight=nl,i.partition=nb,i.pick=wb,i.pickBy=Iu,i.property=Du,i.propertyOf=Gh,i.pull=Dg,i.pullAll=vu,i.pullAllBy=Ap,i.pullAllWith=Rp,i.pullAt=qg,i.range=Pb,i.rangeRight=Ub,i.rearg=sb,i.reject=mm,i.remove=Sp,i.rest=jm,i.reverse=Zi,i.sampleSize=gm,i.set=dh,i.setWith=fh,i.shuffle=bm,i.slice=$p,i.sortBy=rb,i.sortedUniq=qp,i.sortedUniqBy=Pp,i.split=Rh,i.spread=wm,i.tail=Up,i.take=Wp,i.takeRight=zp,i.takeRightWhile=Bp,i.takeWhile=Vp,i.tap=Jp,i.throttle=Tm,i.thru=ba,i.toArray=Su,i.toPairs=sl,i.toPairsIn=ul,i.toPath=Xh,i.toPlainObject=Nu,i.transform=ph,i.unary=Mm,i.union=Pg,i.unionBy=Ug,i.unionWith=Wg,i.uniq=Hp,i.uniqBy=Gp,i.uniqWith=Zp,i.unset=mh,i.unzip=Ki,i.unzipWith=xu,i.update=hh,i.updateWith=gh,i.values=sr,i.valuesIn=bh,i.without=zg,i.words=Ou,i.wrap=Fm,i.xor=Bg,i.xorBy=Vg,i.xorWith=Hg,i.zip=Gg,i.zipObject=Kp,i.zipObjectDeep=Yp,i.zipWith=Zg,i.entries=sl,i.entriesIn=ul,i.extend=il,i.extendWith=Da,to(i,i),i.add=Wb,i.attempt=ll,i.camelCase=Tb,i.capitalize=Lu,i.ceil=zb,i.clamp=yh,i.clone=Am,i.cloneDeep=Sm,i.cloneDeepWith=$m,i.cloneWith=Rm,i.conformsTo=Nm,i.deburr=Eu,i.defaultTo=Wh,i.divide=Bb,i.endsWith=Ch,i.eq=Pt,i.escape=_h,i.escapeRegExp=jh,i.every=im,i.find=Jg,i.findIndex=hu,i.findKey=Xm,i.findLast=Xg,i.findLastIndex=gu,i.findLastKey=Qm,i.floor=Vb,i.forEach=_u,i.forEachRight=ju,i.forIn=eh,i.forInRight=th,i.forOwn=nh,i.forOwnRight=rh,i.get=Ji,i.gt=ub,i.gte=lb,i.has=oh,i.hasIn=Xi,i.head=yu,i.identity=ht,i.includes=cm,i.indexOf=wp,i.inRange=vh,i.invoke=Cb,i.isArguments=Un,i.isArray=ie,i.isArrayBuffer=cb,i.isArrayLike=pt,i.isArrayLikeObject=Be,i.isBoolean=Im,i.isBuffer=_n,i.isDate=db,i.isElement=Lm,i.isEmpty=Em,i.isEqual=Om,i.isEqualWith=Dm,i.isError=Yi,i.isFinite=qm,i.isFunction=cn,i.isInteger=Au,i.isLength=Ca,i.isMap=rl,i.isMatch=Pm,i.isMatchWith=Um,i.isNaN=Wm,i.isNative=zm,i.isNil=Vm,i.isNull=Bm,i.isNumber=Ru,i.isObject=$e,i.isObjectLike=qe,i.isPlainObject=Nr,i.isRegExp=bo,i.isSafeInteger=Hm,i.isSet=al,i.isString=_a,i.isSymbol=xt,i.isTypedArray=pr,i.isUndefined=Gm,i.isWeakMap=Zm,i.isWeakSet=Km,i.join=Mp,i.kebabCase=Mb,i.last=$t,i.lastIndexOf=Fp,i.lowerCase=Fb,i.lowerFirst=kb,i.lt=fb,i.lte=pb,i.max=eg,i.maxBy=tg,i.mean=ng,i.meanBy=rg,i.min=ag,i.minBy=ig,i.stubArray=ro,i.stubFalse=ao,i.stubObject=Zh,i.stubString=Kh,i.stubTrue=Yh,i.multiply=Hb,i.nth=kp,i.noConflict=Vh,i.noop=no,i.now=Oa,i.pad=wh,i.padEnd=Th,i.padStart=Mh,i.parseInt=Fh,i.random=xh,i.reduce=fm,i.reduceRight=pm,i.repeat=kh,i.replace=Ah,i.result=ch,i.round=Gb,i.runInContext=x,i.sample=hm,i.size=ym,i.snakeCase=Ab,i.some=vm,i.sortedIndex=Np,i.sortedIndexBy=Ip,i.sortedIndexOf=Lp,i.sortedLastIndex=Ep,i.sortedLastIndexBy=Op,i.sortedLastIndexOf=Dp,i.startCase=Rb,i.startsWith=Sh,i.subtract=Zb,i.sum=og,i.sumBy=sg,i.template=$h,i.times=Jh,i.toFinite=dn,i.toInteger=ue,i.toLength=$u,i.toLower=Nh,i.toNumber=Nt,i.toSafeInteger=Ym,i.toString=Ce,i.toUpper=Ih,i.trim=Lh,i.trimEnd=Eh,i.trimStart=Oh,i.truncate=Dh,i.unescape=qh,i.uniqueId=Qh,i.upperCase=Sb,i.upperFirst=yo,i.each=_u,i.eachRight=ju,i.first=yu,to(i,function(){var e={};return Zt(i,function(t,n){_e.call(i.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),i.VERSION=Kn,d(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){i[e].placeholder=i}),d(["drop","take"],function(e,t){W.prototype[e]=function(n){n=n===m?1:Ke(ue(n),0);var r=this.__filtered__&&!t?new W(this):this.clone();return r.__filtered__?r.__takeCount__=tt(n,r.__takeCount__):r.__views__.push({size:tt(n,Ft),type:e+(r.__dir__<0?"Right":"")}),r},W.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),d(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Cr||n==Jr;W.prototype[e]=function(s){var c=this.clone();return c.__iteratees__.push({iteratee:te(s,3),type:n}),c.__filtered__=c.__filtered__||r,c}}),d(["head","last"],function(e,t){var n="take"+(t?"Right":"");W.prototype[e]=function(){return this[n](1).value()[0]}}),d(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");W.prototype[e]=function(){return this.__filtered__?new W(this):this[n](1)}}),W.prototype.compact=function(){return this.filter(ht)},W.prototype.find=function(e){return this.filter(e).head()},W.prototype.findLast=function(e){return this.reverse().find(e)},W.prototype.invokeMap=ce(function(e,t){return typeof e=="function"?new W(this):this.map(function(n){return kr(n,e,t)})}),W.prototype.reject=function(e){return this.filter(xa(te(e)))},W.prototype.slice=function(e,t){e=ue(e);var n=this;return n.__filtered__&&(e>0||t<0)?new W(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==m&&(t=ue(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},W.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},W.prototype.toArray=function(){return this.take(Ft)},Zt(W.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),s=i[r?"take"+(t=="last"?"Right":""):t],c=r||/^find/.test(t);s&&(i.prototype[t]=function(){var h=this.__wrapped__,y=r?[1]:arguments,_=h instanceof W,A=y[0],F=_||ie(h),R=function(fe){var pe=s.apply(i,k([fe],y));return r&&D?pe[0]:pe};F&&n&&typeof A=="function"&&A.length!=1&&(_=F=!1);var D=this.__chain__,z=!!this.__actions__.length,K=c&&!D,se=_&&!z;if(!c&&F){h=se?h:new W(this);var J=e.apply(h,y);return J.__actions__.push({func:ba,args:[R],thisArg:m}),new Q(J,D)}return K&&se?e.apply(this,y):(J=this.thru(R),K?r?J.value()[0]:J.value():J)})}),d(["pop","push","shift","sort","splice","unshift"],function(e){var t=wa[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);i.prototype[e]=function(){var s=arguments;if(r&&!this.__chain__){var c=this.value();return t.apply(ie(c)?c:[],s)}return this[n](function(h){return t.apply(ie(h)?h:[],s)})}}),Zt(W.prototype,function(e,t){var n=i[t];if(n){var r=n.name+"";_e.call(dr,r)||(dr[r]=[]),dr[r].push({name:t,func:n})}}),dr[ca(m,Ht).name]=[{name:"wrapper",func:m}],W.prototype.clone=dt,W.prototype.reverse=_i,W.prototype.value=zd,i.prototype.at=Kg,i.prototype.chain=Xp,i.prototype.commit=Qp,i.prototype.next=em,i.prototype.plant=nm,i.prototype.reverse=rm,i.prototype.toJSON=i.prototype.valueOf=i.prototype.value=am,i.prototype.first=i.prototype.head,Ir&&(i.prototype[Ir]=tm),i},rr=Wd();Nn?((Nn.exports=rr)._=rr,xi._=rr):Qe._=rr}).call(Wr)})(Va,Va.exports);var Y_=Va.exports,Ll=Y_.runInContext(),ve=Kx(Ll,Ll);const Rc=/^[A-Za-z][_0-9A-Za-z]*$/,Sc=a=>({name:"attributeNameAlreadyUsed",message:Le.unique.id,test(u){if(!u)return!1;const l=ve.snakeCase(u);return!a.some(f=>ve.snakeCase(f)===l)}}),Oo=a=>({name:"forbiddenAttributeName",message:C("error.attributeName.reserved-name"),test(u){if(!u)return!1;const l=ve.snakeCase(u);return!a.some(f=>ve.snakeCase(f)===l)}}),I={default:()=>Fe().nullable(),max:()=>Ut().integer().nullable(),min:()=>Ut().integer().when("max",(a,u)=>a?u.max(a,C("error.validation.minSupMax")):u).nullable(),maxLength:()=>Ut().integer().positive(C("error.validation.positive")).nullable(),minLength:()=>Ut().integer().min(1).when("maxLength",(a,u)=>a?u.max(a,C("error.validation.minSupMax")):u).nullable(),name(a,u){return Fe().test(Sc(a)).test(Oo(u)).matches(Rc,Le.regex.id).required(Le.required.id)},required:()=>Vr(),type:()=>Fe().required(Le.required.id),unique:()=>Vr().nullable()},To=(a,u)=>({name:I.name(a,u),type:I.type(),default:I.default(),unique:I.unique(),required:I.required(),maxLength:I.maxLength(),minLength:I.minLength(),regex:Fe().test({name:"isValidRegExpPattern",message:C("error.validation.regex"),test(f){try{return new RegExp(f||"")!==null}catch{return!1}}}).nullable()}),Mo=()=>({name:"isMinSuperiorThanMax",message:C("error.validation.minSupMax"),test(a){if(!a)return!0;const{max:u}=this.parent;return!u||Number.isNaN(Co(a))?!0:Co(u)>=Co(a)}}),Wa={date(a,u){const l={name:I.name(a,u),type:I.type()};return Re(l)},datetime(a,u){const l={name:I.name(a,u),type:I.type()};return Re(l)},time(a,u){const l={name:I.name(a,u),type:I.type()};return Re(l)},default(a,u){const l={name:I.name(a,u),type:I.type()};return Re(l)},biginteger(a,u){const l={name:I.name(a,u),type:I.type(),default:Fe().nullable().matches(/^-?\d*$/),unique:I.unique(),required:I.required(),max:Fe().nullable().matches(/^-?\d*$/,Le.regex.id),min:Fe().nullable().test(Mo()).matches(/^-?\d*$/,Le.regex.id)};return Re(l)},boolean(a,u){const l={name:I.name(a,u),default:Vr().nullable(),required:I.required(),unique:I.unique()};return Re(l)},component(a,u){const l={name:I.name(a,u),type:I.type(),required:I.required(),max:I.max(),min:I.min(),component:Fe().required(Le.required.id)};return Re(l)},decimal(a,u){const l={name:I.name(a,u),type:I.type(),default:Ut(),required:I.required(),max:Ut(),min:Ut().test(Mo())};return Re(l)},dynamiczone(a,u){const l={name:I.name(a,u),type:I.type(),required:I.required(),max:I.max(),min:I.min()};return Re(l)},email(a,u){const l={name:I.name(a,u),type:I.type(),default:Fe().email().nullable(),unique:I.unique(),required:I.required(),maxLength:I.maxLength(),minLength:I.minLength()};return Re(l)},enumeration(a,u){const l=/^[_A-Za-z][_0-9A-Za-z]*$/,f={name:Fe().test(Sc(a)).test(Oo(u)).matches(l,Le.regex.id).required(Le.required.id),type:I.type(),default:I.default(),unique:I.unique(),required:I.required(),enum:yl().of(Fe()).min(1,Le.min.id).test({name:"areEnumValuesUnique",message:C("error.validation.enum-duplicate"),test(d){return d?!K_(d.map(wo).filter((p,g,v)=>v.indexOf(p)!==g)).length:!1}}).test({name:"doesNotHaveEmptyValues",message:C("error.validation.enum-empty-string"),test:d=>d?!d.map(wo).some(b=>b===""):!1}).test({name:"doesMatchRegex",message:C("error.validation.enum-regex"),test:d=>d?d.map(wo).every(b=>l.test(b)):!1}),enumName:Fe().nullable()};return Re(f)},float(a,u){const l={name:I.name(a,u),type:I.type(),required:I.required(),default:Ut(),max:Ut(),min:Ut().test(Mo())};return Re(l)},integer(a,u){const l={name:I.name(a,u),type:I.type(),default:Ut().integer(),unique:I.unique(),required:I.required(),max:I.max(),min:I.min()};return Re(l)},json(a,u){const l={name:I.name(a,u),type:I.type(),required:I.required(),unique:I.unique()};return Re(l)},media(a,u){const l={name:I.name(a,u),type:I.type(),multiple:Vr(),required:I.required(),allowedTypes:yl().of(Fe().oneOf(["images","videos","files","audios"])).min(1).nullable()};return Re(l)},password(a,u){const l={name:I.name(a,u),type:I.type(),default:I.default(),unique:I.unique(),required:I.required(),maxLength:I.maxLength(),minLength:I.minLength()};return Re(l)},relation(a,u,l,{initialData:f,modifiedData:d}){const b={name:I.name(a,u),target:Fe().required(Le.required.id),relation:Fe().required(),type:Fe().required(),targetAttribute:Yx(()=>{const p=Wo(d.relation,d.targetAttribute);if(p==="oneWay"||p==="manyWay")return Fe().nullable();const g=Fe().test(Oo(u)),w=[...l.map(({name:j})=>j),d.name].filter(j=>j!==f.targetAttribute);return g.matches(Rc,Le.regex.id).test({name:"forbiddenTargetAttributeName",message:C("error.validation.relation.targetAttribute-taken"),test(j){return j?!w.includes(j):!1}}).required(Le.required.id)})};return Re(b)},richtext(a,u){const l={name:I.name(a,u),type:I.type(),default:I.default(),unique:I.unique(),required:I.required(),maxLength:I.maxLength(),minLength:I.minLength()};return Re(l)},blocks(a,u){const l={name:I.name(a,u),type:I.type(),default:I.default(),unique:I.unique(),required:I.required(),maxLength:I.maxLength(),minLength:I.minLength()};return Re(l)},string(a,u){const l=To(a,u);return Re(l)},text(a,u){const l=To(a,u);return Re(l)},uid(a,u){const l=To(a,u);return Re(l)}},J_=/^[A-Za-z][-_0-9A-Za-z]*$/,X_=(a,u,l,f,d)=>{const b={displayName:Fe().test({name:"nameAlreadyUsed",message:Le.unique.id,test(p){if(!p)return!1;const g=zr(p,l),v=ve.snakeCase(g),w=ve.snakeCase(d);return a.every(j=>ve.snakeCase(j)!==v)&&f.every(j=>ve.snakeCase(j)!==w)}}).test({name:"nameNotAllowed",message:C("error.contentTypeName.reserved-name"),test(p){if(!p)return!1;const g=ve.snakeCase(p);return u.every(v=>ve.snakeCase(v)!==g)}}).required(Le.required.id),category:Fe().matches(J_,Le.regex.id).required(Le.required.id),icon:Fe()};return Re(b)},El={name:"displayName",type:"text",intlLabel:{id:C("contentType.displayName.label"),defaultMessage:"Display name"}},Fo={advanced:{default(){return{sections:[{items:[{intlLabel:{id:C("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:C("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[El,{description:{id:C("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:C("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:C("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:C("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[El,{disabled:!0,description:{id:C("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:C("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:C("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:C("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:C("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:C("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:C("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:C("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},Q_=({usedContentTypeNames:a=[],reservedModels:u=[],singularNames:l=[],pluralNames:f=[],collectionNames:d=[]})=>{const b={displayName:Fe().test({name:"nameAlreadyUsed",message:Le.unique.id,test(p){if(!p)return!1;const g=gc(p),v=ve.snakeCase(g);return!a.some(w=>ve.snakeCase(w)===v)}}).test({name:"nameNotAllowed",message:C("error.contentTypeName.reserved-name"),test(p){if(!p)return!1;const g=ve.snakeCase(p);return!u.some(v=>ve.snakeCase(v)===g)}}).required(Le.required.id),pluralName:Fe().test({name:"pluralNameAlreadyUsed",message:Le.unique.id,test(p){if(!p)return!1;const g=ve.snakeCase(p);return!f.some(v=>ve.snakeCase(v)===g)}}).test({name:"pluralNameAlreadyUsedAsSingular",message:C("error.contentType.pluralName-equals-singularName"),test(p){if(!p)return!1;const g=ve.snakeCase(p);return!l.some(v=>ve.snakeCase(v)===g)}}).test({name:"pluralAndSingularAreUnique",message:C("error.contentType.pluralName-used"),test(p,g){return p?ve.snakeCase(g.parent.singularName)!==ve.snakeCase(p):!1}}).test({name:"pluralNameNotAllowed",message:C("error.contentTypeName.reserved-name"),test(p){if(!p)return!1;const g=ve.snakeCase(p);return!u.some(v=>ve.snakeCase(v)===g)}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:C("error.contentType.pluralName-equals-collectionName"),test(p){if(!p)return!1;const g=ve.snakeCase(p);return!d.some(v=>ve.snakeCase(v)===g)}}).required(Le.required.id),singularName:Fe().test({name:"singularNameAlreadyUsed",message:Le.unique.id,test(p){if(!p)return!1;const g=ve.snakeCase(p);return!l.some(v=>ve.snakeCase(v)===g)}}).test({name:"singularNameAlreadyUsedAsPlural",message:C("error.contentType.singularName-equals-pluralName"),test(p){if(!p)return!1;const g=ve.snakeCase(p);return!f.some(v=>ve.snakeCase(v)===g)}}).test({name:"pluralAndSingularAreUnique",message:C("error.contentType.singularName-used"),test(p,g){return p?ve.snakeCase(g.parent.pluralName)!==ve.snakeCase(p):!1}}).test({name:"singularNameNotAllowed",message:C("error.contentTypeName.reserved-name"),test(p){if(!p)return!1;const g=ve.snakeCase(p);return!u.some(v=>ve.snakeCase(v)===g)}}).required(Le.required.id),draftAndPublish:Vr(),kind:Fe().oneOf(["singleType","collectionType"])};return Re(b)},ko={advanced:{default(){return{sections:mr.advanced()}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Eo]},...mr.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Eo]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:C("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Ol=(a,u)=>{a.forEach(l=>{if(!("sectionTitle"in l)){u[0].items?.push(l);return}u.push(l)})},e1=(a,u)=>`components_${ve.snakeCase(u)}_${Ba(ve.snakeCase(a))}`,Dl=(a,u)=>a.filter(({name:l})=>l!==u.initialData.name).map(({name:l})=>l),zn={customField:{schema({schemaAttributes:a,attributeType:u,customFieldValidator:l,reservedNames:f,schemaData:d,ctbFormsAPI:b}){const p=Dl(a,d);let g;return u==="relation"?g=Wa[u](p,f.attributes,[],{initialData:{},modifiedData:{}}):g=Wa[u](p,f.attributes),b.makeCustomFieldValidator(g,l,p,f.attributes,d)},form:{base({customField:a}){const u=[{sectionTitle:null,items:[Jt]}];return a.options?.base&&Ol(a.options.base,u),{sections:u}},advanced({customField:a,data:u,step:l,extensions:f,...d}){const b=[{sectionTitle:null,items:[]},{sectionTitle:{id:"form.attribute.condition.section",defaultMessage:"Conditions"},items:[{name:"conditions",type:"condition-form",intlLabel:{id:"form.attribute.condition.label",defaultMessage:"Visibility condition"},description:{id:"form.attribute.condition.desc",defaultMessage:"Show this field only when a boolean/enum condition matches."}}]}],p=f.getAdvancedForm(["attribute",a.type],{data:u,type:a.type,step:l,...d});if(a.options?.advanced&&Ol(a.options.advanced,b),p){const g={sectionTitle:{id:C("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:p};b.push(g)}return{sections:b}}}},attribute:{schema(a,u,l,f,d,b){const p=a?.attributes??[],g=Dl(p,d);try{const v=Wa[u](g,l.attributes,f,d);return b.makeValidator(["attribute",u],v,g,l.attributes,f,d)}catch(v){return console.error("Error yup build schema",v),Wa.default(g,l.attributes)}},form:{advanced({data:a,type:u,step:l,extensions:f,...d}){try{const b=Il.advanced[u](a,l).sections,p=f.getAdvancedForm(["attribute",u],{data:a,type:u,step:l,...d});let g=!1;return{sections:b.reduce((w,j)=>(j.sectionTitle===null||g?w.push(j):(w.push({...j,items:[...j.items,...p]}),g=!0),w),[])}}catch(b){return console.error(b),{sections:[]}}},base({data:a,type:u,step:l,attributes:f}){try{return Il.base[u](a,l,f)}catch{return A_}}}},contentType:{schema(a,u,l,f,d,b){const p=Object.values(b).map(T=>T.info.singularName),g=Object.values(b).map(T=>T?.info?.pluralName??""),v=u?a.filter(T=>T!==l):a,w=u?p.filter(T=>{const{info:q}=b[l];return q.singularName!==T}):p,j=u?g.filter(T=>{const{info:q}=b[l];return q.pluralName!==T}):g,k=Object.values(b).map(T=>T?.collectionName??""),O=u?k.filter(T=>{const{collectionName:q}=b[l];return T!==q}):k,Z=Q_({usedContentTypeNames:v,reservedModels:f.models,singularNames:w,pluralNames:j,collectionNames:O});return d.makeValidator(["contentType"],Z,v,f.models,w,j)},form:{base({actionType:a}){return a==="create"?Fo.base.create():Fo.base.edit()},advanced({extensions:a}){const u=Fo.advanced.default().sections.map(f=>f.items).flat(),l=a.getAdvancedForm(["contentType"]);return{sections:[{items:[...u,...l]}]}}}},component:{schema(a,u,l,f=!1,d,b,p=null){const g=f?a.filter(k=>k!==p):a,v=Object.values(d).map(k=>k?.collectionName),w=e1(b,u),j=f?v.filter(k=>k!==w):v;return X_(g,l.models,u,j,w)},form:{advanced(){return{sections:mr.advanced()}},base(){return{sections:mr.base()}}}},addComponentToDynamicZone:{form:{advanced(){return ko.advanced.default()},base({data:a}){return a?.createComponent??!1?ko.base.createComponent():ko.base.default()}}}},t1=(a,u)=>{const l=a.kind;return l==="singleType"||l===u.kind?!0:(a?.attributes??[]).filter(b=>{if(b.type!=="relation")return!1;const{relation:p,targetAttribute:g}=b,v=Wo(p,g);return!["oneWay","manyWay"].includes(v||"")}).length===0},n1=(a="",u,l)=>{const f=["text","boolean","blocks","json","number","email","date","password","media","enumeration","relation","richtext"],d=a==="contentType";if(d)return[[...f.slice(0,-1),"uid",...f.slice(-1)],["component","dynamiczone"]];if(a){const p=Ac(u,l)>=pc;if(!d&&!p)return[f,["component"]]}return[f]},ql=a=>a.reduce((u,l)=>{const f=l.items.reduce((d,b)=>(b.name&&d.push(b.name),d),[]);return[...u,...f]},[]),r1=_t.form`
  overflow: auto;
`,a1=a=>a["content-type-builder_formModal"]||Jx,i1=()=>{const{onCloseModal:a,onNavigateToChooseAttributeModal:u,onNavigateToAddCompoToDZModal:l,onNavigateToCreateComponentStep2:f,actionType:d,attributeName:b,attributeType:p,customFieldUid:g,dynamicZoneTarget:v,forTarget:w,modalType:j,isOpen:k,kind:O,step:Z,targetUid:T,showBackLink:q,activeTab:S,setActiveTab:E}=hr(),N=Br("FormModal",X=>X.getPlugin),ee=Br("FormModal",X=>X.customFields.get)(g),L=Za(),{toggleNotification:ne}=qo(),me=Vl(a1,Xx),we=Qx(),{trackUsage:Ee}=Ha(),{formatMessage:Oe}=be(),oe=N(wn)?.apis.forms,H=oe.components.inputs,pn=Hl("FormModal",X=>X.dispatch),{addAttribute:Se,editAttribute:jt,addCustomFieldAttribute:Ye,addCreatedComponentToDynamicZone:mn,changeDynamicZoneComponents:Y,contentTypes:he,components:U,createSchema:We,createComponentSchema:He,deleteComponent:zt,deleteContentType:Qt,editCustomFieldAttribute:Bt,updateSchema:Fn,nestedComponents:wt,sortedContentTypesList:Zn,updateComponentSchema:Ya,updateComponentUid:Ja,reservedNames:hn}=Xt(),{componentToCreate:Vt,formErrors:Ge,initialData:it,isCreatingComponentWhileAddingAField:gr,modifiedData:B}=me,ye=w==="component"?U[T]:he[T],[m,Kn]=V.useState(!1),[Yn,br]=V.useState(null),ot=()=>{if(d!=="edit"||j!=="attribute")return!1;const X=it.name,xe=it.enum,De=B.enum,ke=(ye?.attributes||[]).filter(Ae=>{if(!Ae.conditions)return!1;const Xe=Ae.conditions.visible;if(!Xe)return!1;const[[,Qn]]=Object.entries(Xe),[er,Xr]=Qn;return er.var!==X?!1:xe&&De?xe.filter($n=>!De.includes($n)).includes(Xr):!0});return ke.length>0?ke:!1};V.useEffect(()=>{if(k){const X=Zn.filter(vc);d==="edit"&&j==="attribute"&&w==="contentType"&&Ee("willEditFieldOfContentType");const xe=So(Ie(ye,"schema.attributes",[]),v)||null;if(j==="contentType"&&d==="create"&&L(Ve.setDataToEdit({data:{draftAndPublish:!0}})),j==="contentType"&&d==="edit"&&L(Ve.setDataToEdit({data:{displayName:ye.info.displayName,draftAndPublish:ye.options?.draftAndPublish,kind:"kind"in ye&&ye.kind,pluginOptions:ye.pluginOptions,pluralName:"pluralName"in ye.info&&ye.info.pluralName,singularName:"singularName"in ye.info&&ye.info.singularName}})),j==="component"&&d==="edit"&&L(Ve.setDataToEdit({data:{displayName:ye.info.displayName,category:"category"in ye&&ye.category,icon:ye.info.icon}})),j==="addComponentToDynamicZone"&&d==="edit"){const De={...xe,components:[],name:v,createComponent:!1,componentToCreate:{type:"component"}};L(Ve.setDynamicZoneDataSchema({attributeToEdit:De}))}if(p){const de={...So(Ie(ye,["attributes"],[]),b),name:b};p==="component"&&d==="edit"&&(!("repeatable"in de)||!de.repeatable)&&e0(de,"repeatable",!1),L(j==="customField"?d==="edit"?Ve.setCustomFieldDataSchema({isEditing:!0,modifiedDataToSetForEditing:de,uid:ye.uid}):Ve.setCustomFieldDataSchema({customField:t0(ee,["type","options"]),isEditing:!1,modifiedDataToSetForEditing:de,uid:ye.uid}):Ve.setAttributeDataSchema({attributeType:p,nameToSetForRelation:Ie(X,["0","title"],"error"),targetUid:Ie(X,["0","uid"],"error"),isEditing:d==="edit",modifiedDataToSetForEditing:de,step:Z,uid:ye.uid}))}}else L(Ve.resetProps())},[d,b,p,v,w,k,j]);const yr=j==="contentType",vr=j==="component",Jn=j==="attribute",kn=j==="customField",Ot=p==="component"&&Jn,en=d==="create",bt=Ie(B,"createComponent",!1)||gr,yt=Z==="1",An=j==="chooseAttribute",ct=gc(B.displayName||""),Ht=Ie(ye,["attributes"],null),Zr=async()=>{let X;const xe=bt&&Z==="1"?Ie(B,"componentToCreate",{}):B;if(yr)X=zn.contentType.schema(Object.keys(he),d==="edit",ye?.uid??null,hn,oe,he);else if(vr)X=zn.component.schema(Object.keys(U),B.category||"",hn,d==="edit",U,B.displayName||"",ye?.uid??null);else if(kn)X=zn.customField.schema({schemaAttributes:Ie(ye,["attributes"],[]),attributeType:ee.type,reservedNames:hn,schemaData:{modifiedData:B,initialData:it},ctbFormsAPI:oe,customFieldValidator:ee.options?.validator});else if(Ot&&bt&&yt)X=zn.component.schema(Object.keys(U),Ie(B,"componentToCreate.category",""),hn,d==="edit",U,B.componentToCreate.displayName||"");else if(Jn&&!yt){const De=p==="relation"?"relation":B.type;let de=[];if(De==="relation"){const ke=Ie(B,["target"],null);de=Ie(he,[ke,"attributes"],[]).filter(({name:Xe})=>d!=="edit"?!0:Xe!==it.targetAttribute)}X=zn.attribute.schema(ye,De,hn,de,{modifiedData:B,initialData:it},oe)}else if(yt&&bt)X=zn.component.schema(Object.keys(U),Ie(B,"componentToCreate.category",""),hn,d==="edit",U,B.componentToCreate.displayName||"");else return;await X.validate(xe,{abortEarly:!1})},Tt=V.useCallback(({target:{name:X,value:xe,type:De,...de}})=>{const ke=["enumName","max","min","maxLength","minLength","regex","default"];let Ae;ke.includes(X)&&xe===""?Ae=null:X==="enum"?Ae=Array.isArray(xe)?xe:[xe]:Ae=xe;const Xe=Object.assign({},Ge);X==="max"&&delete Xe.min,X==="maxLength"&&delete Xe.minLength,delete Xe[X],L(Ve.setErrors({errors:Xe})),L(Ve.onChange({keys:X.split("."),value:Ae}))},[L,Ge]),gn=async(X,xe=en)=>{try{await Zr(),L(Ve.setErrors({errors:{}})),xr(xe);const De=T;if(yr)if(en)We({data:{kind:O,displayName:B.displayName,draftAndPublish:B.draftAndPublish,pluginOptions:B.pluginOptions,singularName:B.singularName,pluralName:B.pluralName},uid:ct}),we({pathname:`/plugins/${wn}/content-types/${ct}`}),a();else{const de=ye;t1(de,B)?(a(),await Fn({uid:de.uid,data:{displayName:B.displayName,kind:B.kind,draftAndPublish:B.draftAndPublish,pluginOptions:B.pluginOptions}})):ne({type:"danger",message:Oe({id:"notification.contentType.relations.conflict"})});return}else if(j==="component")if(en){const de=zr(B.displayName,B.category),{category:ke,...Ae}=B;He({data:{displayName:Ae.displayName,icon:Ae.icon},uid:de,componentCategory:ke}),we({pathname:`/plugins/${wn}/component-categories/${ke}/${de}`}),a();return}else{if(Ya({data:{icon:B.icon,displayName:B.displayName},componentUID:T}),ye.status==="NEW"){const de=zr(B.displayName,B.category);Ja({componentUID:T,newComponentUID:de}),we({pathname:`/plugins/${wn}/component-categories/${B.category}/${de}`})}a();return}else if(kn){const de={attributeToSet:{...B,customField:g},forTarget:w,targetUid:T,name:it.name};d==="edit"?Bt(de):Ye(de),xe?u({forTarget:w,targetUid:De}):a();return}else if(Jn&&!bt){if(p==="dynamiczone"){d==="create"?Se({attributeToSet:B,forTarget:w,targetUid:T}):jt({attributeToSet:B,forTarget:w,targetUid:T,name:it.name}),en?(L(Ve.resetPropsAndSetTheFormForAddingACompoToADz()),E("basic"),l({dynamicZoneTarget:B.name})):a();return}if(!Ot){d==="create"?Se({attributeToSet:B,forTarget:w,targetUid:T}):jt({attributeToSet:B,forTarget:w,targetUid:T,name:it.name}),xe?u({forTarget:w,targetUid:De}):a();return}if(yt){f(),L(Ve.resetPropsAndSetFormForAddingAnExistingCompo({uid:ye.uid}));return}if(d==="create")Se({attributeToSet:B,forTarget:w,targetUid:T});else{const ke={...B};(!("conditions"in B)||B.conditions===void 0)&&(ke.conditions=void 0),jt({attributeToSet:ke,forTarget:w,targetUid:T,name:it.name})}xe?u({forTarget:w,targetUid:T}):a()}else if(Jn&&bt){if(yt){Ee("willCreateComponentFromAttributesModal"),L(Ve.resetPropsAndSaveCurrentData({uid:ye.uid})),f();return}const{category:de,...ke}=Vt,Ae=zr(Vt.displayName,de);He({data:{icon:ke.icon,displayName:ke.displayName},uid:Ae,componentCategory:de}),Se({attributeToSet:B,forTarget:w,targetUid:T}),L(Ve.resetProps()),xe?u({forTarget:"component",targetUid:Ae}):a();return}else{if(yt)if(bt){const{category:de,type:ke,...Ae}=B.componentToCreate,Xe=zr(B.componentToCreate.displayName,de);He({data:Ae,uid:Xe,componentCategory:de}),mn({forTarget:w,targetUid:T,dynamicZoneTarget:v,componentsToAdd:[Xe]}),u({forTarget:"component",targetUid:Xe})}else Y({forTarget:w,targetUid:T,dynamicZoneTarget:v,newComponents:B.components}),a();else console.error("This case is not handled");return}L(Ve.resetProps())}catch(De){if(n0.isError(De)){const de=I0(De);L(Ve.setErrors({errors:de}))}}},ze=async(X,xe=en)=>{if(X.preventDefault(),ot()){br({e:X,shouldContinue:xe}),Kn(!0);return}await gn(X,xe)},Rn=()=>{window.confirm(Oe({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(a(),L(Ve.resetProps()))},Mt=()=>{za(B,it)?(a(),L(Ve.resetProps())):Rn()},Sn=X=>{if(X==="advanced"){if(yr){Ee("didSelectContentTypeSettings");return}w==="contentType"&&Ee("didSelectContentTypeFieldSettings")}},xr=X=>{j==="attribute"&&w==="contentType"&&p!=="dynamiczone"&&X&&Ee("willAddMoreFieldToContentType")},Xa=()=>!!(j==="component"||r0(B,"createComponent")),Qa=n1(w,T,wt);if(!j)return null;const Kr=Ie(zn,[j,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),ei=w==="component",Cr={customInputs:{"allowed-types-select":E0,"boolean-radio-group":Y0,"checkbox-with-number-field":J0,"icon-picker":oC,"content-type-radio-group":X0,"radio-group":zo,relation:m_,"select-category":h_,"select-component":g_,"select-components":b_,"select-default-boolean":Z0,"select-number":v_,"select-date":y_,"toggle-draft-publish":Q0,"text-plural":sC,"text-singular":x_,"textarea-enum":j_,"condition-form":k_,...H},componentToCreate:Vt,dynamicZoneTarget:v,formErrors:Ge,isAddingAComponentToAnotherComponent:ei,isCreatingComponentWhileAddingAField:gr,mainBoxHeader:Ie(ye,["info","displayName"],""),modifiedData:B,naturePickerType:w,isCreating:en,targetUid:T,forTarget:w,contentTypeSchema:ye},Yr=Kr.advanced({data:B,type:p,step:Z,actionType:d,attributes:Ht,extensions:oe,forTarget:w,contentTypeSchema:ye||{},customField:ee}).sections,Jr=Kr.base({data:B,type:p,step:Z,actionType:d,attributes:Ht,extensions:oe,forTarget:w,contentTypeSchema:ye||{},customField:ee}).sections,tn=ql(Jr),Gt=ql(Yr),ti=Object.keys(Ge).some(X=>tn.includes(X)),Xn=Object.keys(Ge).some(X=>Gt.includes(X)),Ft=Ie(he,[T,"kind"]),ni=()=>d==="edit"&&Ht.every(({name:X})=>X!==B?.name),ri=()=>{ni()&&Ee("didEditFieldNameOnContentType"),pn({type:"set_completed_actions",payload:[Zl.contentTypeBuilder.addField]})};return o.jsx(Mn.Root,{open:k,onOpenChange:Mt,children:o.jsxs(Mn.Content,{children:[o.jsxs(Gn.Root,{open:m,onOpenChange:Kn,children:[o.jsx(Gn.Trigger,{}),o.jsx(Gr,{onConfirm:()=>{if(Yn){const{e:X,shouldContinue:xe}=Yn;Kn(!1),br(null),gn(X,xe)}},onCancel:()=>{Kn(!1),br(null)},children:(()=>{const X=ot();if(!X)return null;const xe=X.map(de=>de.name).join(", ");if(it.enum&&B.enum){const de=it.enum,ke=B.enum,Ae=de.filter(Xe=>!ke.includes(Xe));return o.jsx(le,{children:o.jsxs(ge,{children:[Oe({id:"form.attribute.condition.enum-change-warning",defaultMessage:"The following fields have conditions that depend on this field: "}),o.jsx(ge,{fontWeight:"bold",children:xe}),Oe({id:"form.attribute.condition.enum-change-warning-values",defaultMessage:". Changing or removing the enum values "}),o.jsx(ge,{fontWeight:"bold",children:Ae.join(", ")}),Oe({id:"form.attribute.condition.enum-change-warning-end",defaultMessage:" will break these conditions. Do you want to proceed?"})]})})}return o.jsx(le,{children:o.jsxs(ge,{children:[Oe({id:"form.attribute.condition.field-change-warning",defaultMessage:"The following fields have conditions that depend on this field: "}),o.jsx(ge,{fontWeight:"bold",children:xe}),Oe({id:"form.attribute.condition.field-change-warning-end",defaultMessage:". Renaming it will break these conditions. Do you want to proceed?"})]})})})()})]}),o.jsx(tC,{actionType:d,attributeName:b,contentTypeKind:O,dynamicZoneTarget:v,modalType:j,forTarget:w,targetUid:T,attributeType:p,customFieldUid:g,showBackLink:q}),An&&o.jsx(G0,{attributes:Qa,forTarget:w,kind:Ft||"collectionType"}),!An&&o.jsxs(r1,{onSubmit:ze,children:[o.jsx(Mn.Body,{children:o.jsxs(Et.Root,{variant:"simple",value:S,onValueChange:X=>{E(X),Sn(X)},hasError:ti?"basic":Xn?"advanced":void 0,children:[o.jsxs(re,{justifyContent:"space-between",children:[o.jsx(rC,{actionType:d,forTarget:w,kind:O,step:Z,modalType:j,attributeType:p,attributeName:b,customField:ee}),o.jsxs(Et.List,{children:[o.jsx(Et.Trigger,{value:"basic",children:Oe({id:C("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})}),o.jsx(Et.Trigger,{value:"advanced",disabled:Xa(),children:Oe({id:C("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})})]})]}),o.jsx(Ga,{marginBottom:6}),o.jsx(Et.Content,{value:"basic",children:o.jsx(re,{direction:"column",alignItems:"stretch",gap:6,children:o.jsx(Nl,{form:Jr,formErrors:Ge,genericInputProps:Cr,modifiedData:B,onChange:Tt})})}),o.jsx(Et.Content,{value:"advanced",children:o.jsx(re,{direction:"column",alignItems:"stretch",gap:6,children:o.jsx(Nl,{form:Yr,formErrors:Ge,genericInputProps:Cr,modifiedData:B,onChange:Tt})})})]})}),o.jsxs(Mn.Footer,{children:[o.jsx(Ue,{type:"button",variant:"tertiary",onClick:X=>{X.preventDefault(),Mt()},children:Oe({id:"app.components.Button.cancel",defaultMessage:"Cancel"})}),o.jsx(eC,{deleteContentType:()=>Qt(T),deleteComponent:()=>zt(T),isAttributeModal:j==="attribute",isCustomFieldModal:j==="customField",isComponentToDzModal:j==="addComponentToDynamicZone",isComponentAttribute:p==="component",isComponentModal:j==="component",isContentTypeModal:j==="contentType",isCreatingComponent:d==="create",isCreatingDz:d==="create",isCreatingComponentAttribute:B.createComponent||!1,isCreatingComponentInDz:B.createComponent||!1,isCreatingComponentWhileAddingAField:gr,isCreatingContentType:d==="create",isEditingAttribute:d==="edit",isDzAttribute:p==="dynamiczone",isInFirstComponentStep:Z==="1",onSubmitAddComponentAttribute:ze,onSubmitAddComponentToDz:ze,onSubmitCreateComponent:ze,onSubmitCreateContentType:ze,onSubmitCreateDz:ze,onSubmitEditAttribute:ze,onSubmitEditComponent:ze,onSubmitEditContentType:ze,onSubmitEditCustomFieldAttribute:ze,onSubmitEditDz:ze,onClickFinish:ri})]})]})]})})},Pl={actionType:null,attributeName:null,attributeType:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!0,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null,activeTab:"basic"},o1=({children:a})=>{const[u,l]=V.useState(Pl),{trackUsage:f}=Ha(),d=V.useCallback(({attributeType:N,customFieldUid:$})=>{l(ee=>({...ee,actionType:"create",modalType:"customField",attributeType:N,customFieldUid:$,activeTab:"basic"}))},[]),b=V.useCallback(({attributeType:N,step:$})=>{u.forTarget==="contentType"&&f("didSelectContentTypeFieldType",{type:N}),l(ee=>({...ee,actionType:"create",modalType:"attribute",step:$,attributeType:N,showBackLink:!0,activeTab:"basic"}))},[u.forTarget,f]),p=V.useCallback(({dynamicZoneTarget:N,targetUid:$})=>{l(ee=>({...ee,dynamicZoneTarget:N,targetUid:$,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},[]),g=V.useCallback(({forTarget:N,targetUid:$})=>{l(ee=>({...ee,actionType:"create",forTarget:N,targetUid:$,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1,activeTab:"basic"}))},[]),v=V.useCallback(N=>{l($=>({...$,...N,isOpen:!0,activeTab:"basic"}))},[]),w=V.useCallback(({forTarget:N,targetUid:$,attributeName:ee,attributeType:L,customFieldUid:ne})=>{l(me=>({...me,modalType:"customField",customFieldUid:ne,actionType:"edit",forTarget:N,targetUid:$,attributeName:ee,attributeType:L,isOpen:!0,activeTab:"basic"}))},[]),j=V.useCallback(({forTarget:N,targetUid:$,attributeName:ee,attributeType:L,step:ne})=>{l(me=>({...me,modalType:"attribute",actionType:"edit",forTarget:N,targetUid:$,attributeName:ee,attributeType:L,step:ne,isOpen:!0}))},[]),k=V.useCallback(({modalType:N,forTarget:$,targetUid:ee,kind:L})=>{l(ne=>({...ne,modalType:N,actionType:"edit",forTarget:$,targetUid:ee,kind:L,isOpen:!0,activeTab:"basic"}))},[]),O=V.useCallback(()=>{l(Pl)},[]),Z=V.useCallback(({forTarget:N,targetUid:$})=>{l(ee=>({...ee,forTarget:N,targetUid:$,modalType:"chooseAttribute",activeTab:"basic"}))},[]),T=V.useCallback(()=>{l(N=>({...N,attributeType:"component",modalType:"attribute",step:"2",activeTab:"basic"}))},[]),q=V.useCallback(({dynamicZoneTarget:N})=>{l($=>({...$,dynamicZoneTarget:N,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null,activeTab:"basic"}))},[]),S=V.useCallback(N=>{l($=>({...$,activeTab:N}))},[]),E=V.useMemo(()=>({...u,onClickSelectField:b,onClickSelectCustomField:d,onCloseModal:O,onNavigateToChooseAttributeModal:Z,onNavigateToAddCompoToDZModal:q,onOpenModalAddComponentsToDZ:p,onNavigateToCreateComponentStep2:T,onOpenModalAddField:g,onOpenModalCreateSchema:v,onOpenModalEditField:j,onOpenModalEditCustomField:w,onOpenModalEditSchema:k,setFormModalNavigationState:l,setActiveTab:S}),[u,b,d,O,Z,q,p,T,g,v,j,w,k,S]);return o.jsx(yc.Provider,{value:E,children:a})},s1=()=>{const{formatMessage:a}=be(),u=a({id:C("plugin.name"),defaultMessage:"Content-Type Builder"});return o.jsxs(o.Fragment,{children:[o.jsx(Ul.contentTypeBuilder.Introduction,{children:o.jsx(le,{})}),o.jsxs(re,{justifyContent:"center",alignItems:"center",height:"100%",direction:"column",children:[o.jsx(ge,{variant:"alpha",children:u}),o.jsx(ge,{variant:"delta",children:a({id:C("table.content.create-first-content-type"),defaultMessage:"Create your first Collection-Type"})})]})]})},Ao=V.lazy(()=>u0(()=>import("./ListView-DTcrQFrX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),u1=()=>{const{formatMessage:a}=be(),u=a({id:`${wn}.plugin.name`,defaultMessage:"Content Types Builder"}),l=Gl("DataManagerProvider",f=>f.autoReload);return o.jsxs(_o.Protect,{permissions:a0.main,children:[o.jsx(_o.Title,{children:u}),o.jsx(i0,{children:o.jsx(o1,{children:o.jsxs(S0,{children:[o.jsx($0,{}),o.jsxs(o.Fragment,{children:[l&&o.jsx(i1,{}),o.jsx(o0.Root,{sideNav:o.jsx(g0,{}),children:o.jsx(V.Suspense,{fallback:o.jsx(_o.Loading,{}),children:o.jsxs(s0,{children:[o.jsx(Ua,{path:"content-types/create-content-type",element:o.jsx(s1,{})}),o.jsx(Ua,{path:"content-types/:contentTypeUid",element:o.jsx(Ao,{})}),o.jsx(Ua,{path:"component-categories/:categoryUid/:componentUid",element:o.jsx(Ao,{})}),o.jsx(Ua,{path:"*",element:o.jsx(Ao,{})})]})})})]})]})})})]})},g1=Object.freeze(Object.defineProperty({__proto__:null,default:u1},Symbol.toStringTag,{value:"Module"}));export{Hr as A,Cc as C,m1 as S,hr as a,h1 as c,C as g,g1 as i,Xt as u};
